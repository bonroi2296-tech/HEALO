(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[366,614],{567:(e,t,r)=>{"use strict";r.d(t,{Yq:()=>n,Yr:()=>l,ZT:()=>i});var a=r(5612);let s=e=>{switch(e){case"ko":return"ko-KR";case"zh":return"zh-CN";case"ja":return"ja-JP";default:return"en-US"}},i=(e,t="en")=>{let r=((e,t="en")=>{let r=Number(e);return Number.isNaN(r)?"":r.toLocaleString(s(t))})(e,t);return r?`$${r}`:""},l=(e,t,r="en")=>{let s=null!=e,l=null!=t;return s&&l?`${i(e,r)} - ${i(t,r)}`:s?`${i(e,r)}${(0,a.t)("price.plus",r)}`:l?`${(0,a.t)("price.upTo",r)} ${i(t,r)}`:(0,a.t)("price.askQuote",r)},n=(e,t="en")=>e?(e instanceof Date?e:new Date(e)).toLocaleDateString(s(t)):""},2541:(e,t,r)=>{"use strict";r.d(t,{q:()=>a});let a=(e=null)=>"KR"===(e||(()=>{if("u"<typeof document)return"ENG";let e=document.cookie.split(";").find(e=>e.trim().startsWith("googtrans="));return e&&"ko"===e.split("=")[1].split("/").pop()?"KR":"ENG"})())?"location_kr":"location_en"},3337:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var a=r(5155),s=r(2115),i=r(3321),l=r(6296),n=r(1861),o=r(7610),u=r(2541),c=r(2356);function d({type:e,title:t,withCta:r=!1}){let d=(0,i.useRouter)(),[p,h]=(0,s.useState)([]),[m,g]=(0,s.useState)(0),[f,_]=(0,s.useState)(!0),[y,b]=(0,s.useState)(!1),[N,k]=(0,s.useState)(null),x=(0,s.useCallback)(async(t=!1)=>{t||b(!0);let r=t?(m+1)*6:0,a="treatment"===e?"treatments":"hospitals",s=(0,u.q)();try{let i=n.m.from(a).select("treatment"===e?`*, hospitals(slug, name, location:${s})`:`*, location:${s}`).eq("is_published",!0).order("display_order",{ascending:!0,nullsFirst:!1}).order("created_at",{ascending:!1}).range(r,r+6-1),{data:l,error:u}=await i;if(u)throw console.error(`[PaginatedList ${e}] Fetch Error:`,u),k(u),u;k(null);let c=l.map(t=>"treatment"===e?(0,o.Lp)(t):(0,o.J6)(t)).filter(Boolean);t?(h(e=>[...e,...c]),g(e=>e+1)):(h(c),g(0)),_(6===l.length)}catch(t){console.error(`[PaginatedList ${e}] Fetch Error:`,t),k(t)}finally{b(!1)}},[e,m]);return(0,s.useEffect)(()=>{h([]),g(0),_(!0),x(!1)},[e,x]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.eB,{title:t,items:p,onCardClick:t=>{let r=p.find(e=>e.id===t),a=r?.slug||r?.id||t;d.push(`/${"treatment"===e?"treatments":"hospitals"}/${a}`)},type:e}),!1,(0,a.jsx)("div",{className:"flex justify-center mt-8 mb-12",children:y&&0===m?(0,a.jsxs)("div",{className:"flex items-center gap-2 text-teal-600 font-bold",children:[(0,a.jsx)(l.A,{className:"animate-spin"})," Loading..."]}):f?(0,a.jsx)("button",{onClick:()=>x(!0),className:"px-8 py-3 bg-white border border-gray-200 text-gray-600 rounded-full font-bold shadow-sm hover:bg-gray-50 hover:border-teal-500 hover:text-teal-600 transition",children:y?(0,a.jsx)(l.A,{className:"animate-spin"}):"Load More +"}):null}),r&&(0,a.jsx)("div",{className:"mt-4 md:mt-10",children:(0,a.jsx)(c.an,{onClick:()=>d.push("/inquiry")})})]})}},3811:(e,t,r)=>{Promise.resolve().then(r.bind(r,3337))},7610:(e,t,r)=>{"use strict";r.d(t,{J6:()=>i,Lp:()=>l,OR:()=>s});var a=r(567);let s=e=>{if(!e)return[];if(Array.isArray(e))return e.filter(Boolean);if("string"==typeof e){let t=e.trim();if(t.startsWith("[")&&t.endsWith("]"))try{let e=JSON.parse(t);if(Array.isArray(e))return e.filter(Boolean)}catch(e){console.error("Image parse error:",e)}if(t.startsWith("http"))return[t]}return[]},i=e=>e?{id:e.id,slug:e.slug??null,name:e.name,location:e.location??e.location_en??e.location_kr??"",address_detail:e.address_detail??"",description:e.description,tags:Array.isArray(e.tags)?e.tags:[],rating:e.rating??0,reviewsCount:e.reviews_count??0,images:s(e.images),latitude:e.latitude??null,longitude:e.longitude??null,operating_hours:e.operating_hours??null,doctorProfile:e.doctor_profile||null}:null,l=e=>e?{id:e.id,slug:e.slug??null,title:e.name,desc:e.description,fullDescription:e.full_description,hospitalId:e.hospital_id,price:(0,a.Yr)(e.price_min,e.price_max,"en"),tags:Array.isArray(e.tags)?e.tags:[],images:s(e.images),benefits:Array.isArray(e.benefits)?e.benefits:[],hospitalName:e.hospitals?.name||"Partner Hospital",hospitalSlug:e.hospitals?.slug||null,hospitalLocation:e.hospitals?.location||e.hospitals?.location_en||e.hospitals?.location_kr||"Seoul, Korea"}:null}},e=>{e.O(0,[436,121,898,358],()=>e(e.s=3811)),_N_E=e.O()}]);