module.exports=[62250,a=>{"use strict";var b=a.i(87924),c=a.i(50944),d=a.i(72131),e=a.i(13749),f=a.i(24987),g=a.i(21374),h=a.i(3314),i=a.i(97063),j=a.i(4720),k=a.i(44494),l=a.i(35126),m=a.i(8406),n=a.i(70106);let o=(0,n.default)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),p=(0,n.default)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);var q=a.i(4416),r=a.i(33441),s=a.i(67900),t=a.i(38632),u=a.i(32860),v=a.i(45222);let w=(0,n.default)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var x=a.i(67453),y=a.i(82484),z=a.i(23683),A=a.i(33022),B=a.i(38709),C=a.i(3219);let D=({selectedId:a,setView:c,onTreatmentClick:n})=>{let D=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,[E,F]=(0,d.useState)(null),[G,H]=(0,d.useState)([]),[I,J]=(0,d.useState)(!0),[K,L]=(0,d.useState)(null),[M,N]=(0,d.useState)(null),[O]=(0,d.useState)(!1),[P]=(0,d.useState)([]),Q=a=>{if(!a)return[];if(Array.isArray(a))return a.filter(Boolean);if("string"==typeof a){let b=a.trim();if(b.startsWith("[")&&b.endsWith("]"))try{let a=JSON.parse(b);if(Array.isArray(a))return a.filter(Boolean)}catch{}if(b.startsWith("http"))return[b]}return[]};(0,d.useEffect)(()=>{(async()=>{if(a){J(!0),F(null),H([]),L(null);try{let b,c=(0,A.getLocationColumn)(),d=y.supabase.from("hospitals").select(`id,slug,name,location:${c},address_detail,description,images,tags,rating,reviews_count,doctor_profile,latitude,longitude,operating_hours`);d=D.test(String(a||""))?d.eq("id",a):d.eq("slug",a);let{data:e,error:f}=await d.maybeSingle();if(f){console.error("[HospitalDetail] Hospital fetch error:",f),L(f),J(!1);return}if(!e){let b=Error(`Hospital not found for id: ${a}`);console.error("[HospitalDetail]",b.message),L(b),J(!1);return}try{b=z.mapHospitalRow?(0,z.mapHospitalRow)(e):e}catch(a){console.warn("mapHospitalRow failed, using raw:",a),b=e}F(b);let g=(0,B.getLangCodeFromCookie)();g&&(0,C.event)("view_hospital",{hospital_slug:b?.slug||null,lang:g});let{data:h,error:i}=await y.supabase.from("treatments").select("id,slug,name,description,images,tags,price_min,hospital_id").eq("hospital_id",e.id);if(i)console.error("[HospitalDetail] Treatments fetch error:",i),N(i),H([]);else{N(null);let a=[];try{a=(h||[]).map(a=>z.mapTreatmentRow?(0,z.mapTreatmentRow)(a):a)}catch(b){console.warn("mapTreatmentRow failed, using raw:",b),a=h||[]}H(a)}}finally{J(!1)}}})()},[a]);let R="https://placehold.co/800x600?text=No+Image",S=(0,d.useMemo)(()=>{let a=Q(E?.images);return[a[0]||R,a[1]||R,a[2]||R,a[3]||R,a[4]||R]},[E?.images]),[T,U]=(0,d.useState)(0);(0,d.useEffect)(()=>{U(0)},[E?.id]),(0,d.useEffect)(()=>{let a=setInterval(()=>{U(a=>(a+1)%S.length)},3e3);return()=>clearInterval(a)},[S.length]);let V=(0,d.useMemo)(()=>E?.doctorProfile||E?.doctor_profile||{name:"Medical Team",title:"Specialist",image:"https://placehold.co/200x200/cccccc/ffffff?text=Doctor",years:"10+",school:"Certified Medical School",specialties:["General Care","Consultation"],heroMetric:{value:"100%",label:"Satisfaction"}},[E]),W=Array.isArray(E?.tags)&&E.tags.some(a=>String(a).toLowerCase().includes("partner")),X=[{icon:(0,b.jsx)(q.ShieldCheck,{size:16,className:W?"text-teal-700":"text-amber-700"}),title:"Consent-based sharing",desc:"We only share your information with clinics after you submit an inquiry."},{icon:(0,b.jsx)(j.FileText,{size:16,className:W?"text-teal-700":"text-amber-700"}),title:"Clear scope guidance",desc:"We encourage itemized estimates so you can compare fairly."},{icon:(0,b.jsx)(k.Globe,{size:16,className:W?"text-teal-700":"text-amber-700"}),title:"International support",desc:"Coordination support may be available for overseas patients."}];return I?(0,b.jsx)("div",{className:"min-h-[60vh] flex items-center justify-center text-gray-500 font-bold",children:"Loading hospital..."}):K||!E?(0,b.jsxs)("div",{className:"min-h-[60vh] flex flex-col items-center justify-center text-center px-6",children:[(0,b.jsx)("div",{className:"text-teal-700 font-extrabold text-lg mb-2",children:"Hospital not found"}),K&&(0,b.jsx)("div",{className:"text-red-500 text-xs mb-2 max-w-md",children:!1}),(0,b.jsxs)("div",{className:"text-gray-500 text-sm mb-6",children:["selectedId: ",String(a)]}),(0,b.jsx)("button",{onClick:()=>c?.("list_hospital"),className:"px-5 py-3 rounded-xl bg-teal-600 text-white font-bold hover:bg-teal-700",children:"Back to Hospitals"})]}):(0,b.jsxs)("div",{className:"bg-gray-50 min-h-screen pb-24 animate-in fade-in slide-in-from-bottom-4",children:[!1,(0,b.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[(0,b.jsxs)("div",{className:"md:hidden w-full aspect-[4/3] relative group overflow-hidden rounded-2xl bg-gray-100 shadow-sm",children:[S.map((a,c)=>(0,b.jsxs)("div",{className:`absolute inset-0 transition-opacity duration-700 ease-in-out ${c===T?"opacity-100":"opacity-0"}`,children:[(0,b.jsx)("img",{src:a,className:"w-full h-full object-cover",alt:`Slide ${c+1}`}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent"})]},c)),(0,b.jsx)("button",{onClick:a=>{a?.stopPropagation(),U(a=>(a-1+S.length)%S.length)},className:"absolute left-3 top-1/2 -translate-y-1/2 bg-black/20 hover:bg-black/40 text-white p-1.5 rounded-full backdrop-blur-sm transition z-20",children:(0,b.jsx)(e.ChevronLeft,{size:20})}),(0,b.jsx)("button",{onClick:a=>{a?.stopPropagation(),U(a=>(a+1)%S.length)},className:"absolute right-3 top-1/2 -translate-y-1/2 bg-black/20 hover:bg-black/40 text-white p-1.5 rounded-full backdrop-blur-sm transition z-20",children:(0,b.jsx)(u.ArrowRight,{size:20})}),(0,b.jsx)("div",{className:"absolute bottom-3 right-3 z-20",children:(0,b.jsxs)("div",{className:"bg-black/60 backdrop-blur-md text-white px-2.5 py-1 rounded-lg text-[10px] font-bold flex items-center gap-1",children:[(0,b.jsx)(t.Image,{size:10})," ",T+1,"/",S.length]})})]}),(0,b.jsxs)("div",{className:"hidden md:flex flex-row gap-2 h-[500px]",children:[(0,b.jsxs)("div",{className:"w-1/2 h-full relative group cursor-pointer overflow-hidden rounded-xl",children:[(0,b.jsx)("img",{src:S[0],className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105",alt:"Main"}),(0,b.jsxs)("div",{className:"absolute bottom-4 left-4 bg-black/60 backdrop-blur-md text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 z-10",children:[(0,b.jsx)(t.Image,{size:12})," View All Photos"]})]}),(0,b.jsx)("div",{className:"w-1/2 h-full grid grid-cols-2 grid-rows-2 gap-2",children:S.slice(1,5).map((a,c)=>(0,b.jsx)("div",{className:"relative overflow-hidden cursor-pointer group rounded-xl",children:(0,b.jsx)("img",{src:a,className:"w-full h-full object-cover group-hover:scale-105 transition duration-700",alt:`Detail ${c}`})},c))})]})]}),(0,b.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,b.jsxs)("button",{onClick:()=>c("list_hospital"),className:"flex items-center text-sm font-bold text-gray-500 mb-6 hover:text-teal-600",children:[(0,b.jsx)(e.ChevronLeft,{size:16})," Back to Hospitals"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-12",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:[E?.tags?.map((a,c)=>(0,b.jsx)("span",{className:"px-2.5 py-0.5 bg-teal-50 text-teal-700 text-xs font-bold rounded-full",children:a},c)),(0,b.jsxs)("span",{className:`px-2.5 py-0.5 text-xs font-bold rounded-full border flex items-center gap-1 ${W?"bg-teal-600 text-white border-teal-600":"bg-gray-100 text-gray-500 border-gray-200"}`,children:[W?(0,b.jsx)(q.ShieldCheck,{size:12}):(0,b.jsx)(i.Info,{size:12}),W?"Verified Partner":"Public Info"]})]}),(0,b.jsx)("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 mb-2 tracking-tight",children:E?.name}),(0,b.jsxs)("div",{className:"flex items-center gap-6 text-sm font-medium text-gray-500",children:[(0,b.jsxs)("span",{className:"flex items-start gap-1.5 whitespace-normal",children:[(0,b.jsx)(f.MapPin,{size:18,className:"text-teal-500 mt-0.5"}),E?.location?`${E.location}${E.address_detail?`, ${E.address_detail}`:""}`:"â€”"]}),(0,b.jsx)("div",{className:"h-4 w-px bg-gray-300"}),(0,b.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,b.jsx)(g.Star,{size:18,className:"text-yellow-400 fill-yellow-400"}),(0,b.jsx)("span",{className:"font-bold text-gray-900",children:E?.rating??0}),(0,b.jsxs)("span",{className:"opacity-70",children:["(",E?.reviews_count??E?.reviews??0," reviews)"]})]})]})]}),(0,b.jsxs)("section",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[(0,b.jsx)(l.Stethoscope,{size:24,className:"text-teal-600"})," Medical Director"]}),(0,b.jsx)("span",{className:"bg-blue-50 text-blue-700 px-3 py-1 rounded-full text-xs font-bold border border-blue-100",children:"Board Certified"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-3xl border border-gray-100 p-6 shadow-sm flex flex-col md:flex-row gap-6 relative overflow-hidden group hover:shadow-md transition",children:[(0,b.jsx)("div",{className:"w-full md:w-40 md:h-40 shrink-0",children:(0,b.jsxs)("div",{className:"w-32 h-32 mx-auto md:w-40 md:h-40 rounded-full p-1 border-2 border-teal-100 relative",children:[(0,b.jsx)("img",{src:V.image,className:"w-full h-full object-cover rounded-full",alt:"Doctor"}),(0,b.jsx)("div",{className:"absolute bottom-1 right-1 bg-teal-600 text-white p-1.5 rounded-full border-2 border-white shadow-sm",title:"Verified",children:(0,b.jsx)(r.Check,{size:12,strokeWidth:4})})]})}),(0,b.jsxs)("div",{className:"flex-1 text-center md:text-left",children:[(0,b.jsx)("h3",{className:"text-xl font-extrabold text-gray-900",children:V.name}),(0,b.jsx)("p",{className:"text-teal-600 font-bold text-sm mb-4",children:V.title}),(0,b.jsxs)("div",{className:"flex flex-wrap justify-center md:justify-start gap-2 mb-4",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1.5 px-3 py-1 bg-gray-50 rounded-lg text-xs font-bold text-gray-600 border border-gray-100",children:[(0,b.jsx)(o,{size:14,className:"text-gray-400"})," ",V.school]}),(0,b.jsxs)("span",{className:"flex items-center gap-1.5 px-3 py-1 bg-gray-50 rounded-lg text-xs font-bold text-gray-600 border border-gray-100",children:[(0,b.jsx)(p,{size:14,className:"text-gray-400"})," ",V.years," Experience"]}),(0,b.jsxs)("span",{className:"flex items-center gap-1.5 px-3 py-1 bg-gray-50 rounded-lg text-xs font-bold text-gray-600 border border-gray-100",children:[(0,b.jsx)(q.ShieldCheck,{size:14,className:"text-gray-400"})," Verified Profile"]})]}),(0,b.jsx)("div",{className:"flex flex-wrap justify-center md:justify-start gap-1.5 mb-5",children:Array.isArray(V.specialties)&&V.specialties.map((a,c)=>(0,b.jsxs)("span",{className:"px-2.5 py-1 bg-teal-50 text-teal-700 text-xs font-bold rounded-md",children:["#",a]},c))})]})]})]}),(0,b.jsxs)("section",{children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,b.jsx)(s.Building2,{size:24,className:"text-teal-600"})," About Hospital"]}),(0,b.jsx)("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm space-y-4",children:(0,b.jsx)("p",{className:"text-gray-600 leading-relaxed text-lg",children:E?.description})})]}),(0,b.jsxs)("section",{children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[(0,b.jsx)(m.Sparkles,{size:24,className:"text-teal-600"})," Signature Programs"]}),G.length>0?(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:G.map(a=>{let c=Q(a.images)?.[0]||a.logo||"https://placehold.co/600x600?text=treatment";return(0,b.jsxs)("div",{onClick:()=>n?.(a.slug||a.id),className:"flex bg-white border border-gray-100 rounded-2xl overflow-hidden hover:shadow-lg hover:border-teal-200 transition cursor-pointer group",children:[(0,b.jsx)("div",{className:"w-32 h-24 bg-gray-200 shrink-0 relative",children:(0,b.jsx)("img",{src:c,className:"w-full h-full object-cover group-hover:scale-110 transition duration-500",alt:"img"})}),(0,b.jsxs)("div",{className:"p-4 flex flex-col justify-center flex-1",children:[(0,b.jsx)("h4",{className:"font-bold text-gray-900 text-sm group-hover:text-teal-600 line-clamp-2 mb-1",children:a.title||a.name}),(0,b.jsx)("p",{className:"text-xs text-gray-500 line-clamp-1 mb-2",children:a.desc||a.description}),(0,b.jsxs)("div",{className:"flex items-center justify-between mt-auto",children:[(0,b.jsx)("p",{className:"text-teal-600 font-extrabold text-sm",children:a.price||a.price_min||""}),(0,b.jsx)(u.ArrowRight,{size:14,className:"text-gray-300 group-hover:text-teal-500 transition"})]})]})]},a.id)})}):(0,b.jsx)("div",{className:"bg-gray-100 rounded-xl p-8 text-center text-gray-500",children:"No treatments listed yet."})]}),(0,b.jsxs)("section",{children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[(0,b.jsx)(g.Star,{size:24,className:"text-teal-600"})," Patient Reviews"]}),(0,b.jsx)("div",{className:"bg-white rounded-3xl border border-gray-100 p-6 shadow-sm",children:O?(0,b.jsx)("div",{className:"text-center py-8 text-gray-400 text-sm animate-pulse",children:"Loading reviews..."}):P.length>0?(0,b.jsx)("div",{className:"space-y-6",children:"..."}):(0,b.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-2xl border border-dashed border-gray-200",children:[(0,b.jsx)(v.MessageCircle,{size:32,className:"mx-auto text-gray-300 mb-2"}),(0,b.jsx)("p",{className:"text-gray-500 font-bold",children:"No reviews yet."}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Be the first to leave a review for this hospital!"})]})})]}),(0,b.jsxs)("section",{children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,b.jsx)(w,{size:24,className:"text-teal-600"})," Frequently Asked Questions"]}),(0,b.jsx)("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm overflow-hidden",children:[{q:"How do I get an estimate?",a:"Submit an inquiry and we will help you compare itemized quotes."},{q:"Do you provide interpretation?",a:"Concierge support may be available depending on the clinic and schedule."},{q:"Is my information safe?",a:"We only share information with your consent for matching and coordination."}].map((a,c)=>(0,b.jsxs)("div",{className:`p-5 ${0!==c?"border-t border-gray-100":""}`,children:[(0,b.jsx)("p",{className:"text-sm font-extrabold text-gray-900",children:a.q}),(0,b.jsx)("p",{className:"text-xs text-gray-600 leading-relaxed mt-2",children:a.a})]},c))})]})]}),(0,b.jsx)("div",{className:"lg:col-span-1",children:(0,b.jsxs)("div",{className:"sticky top-32 space-y-4",children:[(0,b.jsxs)("div",{className:"bg-white border border-teal-100 rounded-3xl p-6 shadow-xl",children:[(0,b.jsx)("h3",{className:"font-bold text-lg mb-1",children:"Make an Inquiry"}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mb-6",children:"Direct response within 24 hours."}),(0,b.jsxs)("button",{onClick:()=>c("inquiry"),className:"w-full bg-teal-600 text-white font-bold py-4 rounded-xl hover:bg-teal-700 transition shadow-lg transform hover:scale-[1.02] flex items-center justify-center gap-2",children:[(0,b.jsx)(v.MessageCircle,{size:20})," Contact via HEALO"]}),(0,b.jsxs)("div",{className:"mt-5 bg-gray-50 border border-gray-100 rounded-2xl p-4",children:[(0,b.jsxs)("p",{className:"text-xs font-bold text-gray-900 flex items-center gap-2",children:[(0,b.jsx)(q.ShieldCheck,{size:16,className:"text-teal-600"})," Why contact via HEALO?"]}),(0,b.jsxs)("ul",{className:"mt-2 space-y-2 text-[11px] text-gray-600",children:[(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)(x.CheckCircle2,{size:14,className:"text-teal-600 mt-0.5 shrink-0"}),"Compare options with an itemized estimate"]}),(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)(x.CheckCircle2,{size:14,className:"text-teal-600 mt-0.5 shrink-0"}),"Coordinator support for international patients"]}),(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)(x.CheckCircle2,{size:14,className:"text-teal-600 mt-0.5 shrink-0"}),"Consent-based sharing & privacy guidance"]})]})]})]}),(0,b.jsxs)("div",{className:`rounded-2xl p-5 border ${W?"bg-teal-50 border-teal-100":"bg-amber-50 border-amber-100"}`,children:[(0,b.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,b.jsx)("div",{className:`shrink-0 mt-0.5 ${W?"text-teal-700":"text-amber-700"}`,children:(0,b.jsx)(h.Shield,{size:20})}),(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsxs)("h4",{className:"font-extrabold text-sm text-gray-900 flex items-center gap-2",children:["Trust & Verification",(0,b.jsx)("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold border ${W?"bg-white/60 text-teal-700 border-teal-200":"bg-white/60 text-amber-700 border-amber-200"}`,children:W?"Verified Partner":"Public Info"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-600 leading-snug mt-1",children:W?"This clinic has been reviewed for safety & foreign patient coordination standards.":"This page may include publicly available info. Request a plan via HEALO for accurate details."})]})]}),(0,b.jsx)("div",{className:"space-y-3",children:X.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"shrink-0 mt-0.5",children:a.icon}),(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("p",{className:"text-xs font-bold text-gray-900",children:a.title}),(0,b.jsx)("p",{className:"text-[11px] text-gray-600 leading-snug",children:a.desc})]})]},c))}),(0,b.jsx)("div",{className:"mt-4 pt-4 border-t border-black/5",children:(0,b.jsx)("p",{className:"text-[10px] text-gray-500 leading-snug mt-2",children:"HEALO provides concierge & lead coordination. Final medical decisions and quotes are provided by the clinic."})})]})]})})]})]})]})};function E({id:a}){let d=(0,c.useRouter)();return(0,b.jsx)(D,{selectedId:a,setView:a=>{"home"===a&&d.push("/"),"list_treatment"===a&&d.push("/treatments"),"list_hospital"===a&&d.push("/hospitals"),"inquiry"===a&&d.push("/inquiry")},onTreatmentClick:a=>d.push(`/treatments/${a}`)})}a.s(["default",()=>E],62250)}];

//# sourceMappingURL=app_hospitals_%5Bslug%5D_HospitalDetailClient_jsx_303ef14b._.js.map