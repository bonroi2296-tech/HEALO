(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[158],{567:(e,t,s)=>{"use strict";s.d(t,{Yq:()=>n,Yr:()=>r,ZT:()=>i});var l=s(5612);let a=e=>{switch(e){case"ko":return"ko-KR";case"zh":return"zh-CN";case"ja":return"ja-JP";default:return"en-US"}},i=(e,t="en")=>{let s=((e,t="en")=>{let s=Number(e);return Number.isNaN(s)?"":s.toLocaleString(a(t))})(e,t);return s?`$${s}`:""},r=(e,t,s="en")=>{let a=null!=e,r=null!=t;return a&&r?`${i(e,s)} - ${i(t,s)}`:a?`${i(e,s)}${(0,l.t)("price.plus",s)}`:r?`${(0,l.t)("price.upTo",s)} ${i(t,s)}`:(0,l.t)("price.askQuote",s)},n=(e,t="en")=>e?(e instanceof Date?e:new Date(e)).toLocaleDateString(a(t)):""},826:(e,t,s)=>{"use strict";s.d(t,{g:()=>n,q:()=>o});var l=s(5155);s(2115);var a=s(3210),i=s(4290),r=s(7463);let n=({isOpen:e,onClose:t,title:s,content:i})=>e?(0,l.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200 text-left",children:(0,l.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[80vh] flex flex-col shadow-2xl",children:[(0,l.jsxs)("div",{className:"p-5 border-b border-gray-100 flex justify-between items-center sticky top-0 bg-white rounded-t-2xl z-10",children:[(0,l.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:s}),(0,l.jsx)("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition",children:(0,l.jsx)(a.A,{size:20,className:"text-gray-500"})})]}),(0,l.jsx)("div",{className:"p-6 overflow-y-auto whitespace-pre-wrap text-sm text-gray-600 leading-relaxed h-full text-left",children:i}),(0,l.jsx)("div",{className:"p-5 border-t border-gray-100 sticky bottom-0 bg-white rounded-b-2xl",children:(0,l.jsx)("button",{onClick:t,className:"w-full bg-teal-600 text-white font-bold py-3 rounded-xl hover:bg-teal-700 transition",children:"I Understand"})})]})}):null,o=({isOpen:e,onClose:t,reviews:s})=>e?(0,l.jsx)("div",{className:"fixed inset-0 z-[110] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:(0,l.jsxs)("div",{className:"bg-white rounded-3xl w-full max-w-2xl max-h-[85vh] flex flex-col shadow-2xl",children:[(0,l.jsxs)("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center sticky top-0 bg-white rounded-t-3xl z-10",children:[(0,l.jsxs)("h3",{className:"text-xl font-bold text-gray-900",children:["All Reviews (",s.length,")"]}),(0,l.jsx)("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition",children:(0,l.jsx)(a.A,{size:24,className:"text-gray-400"})})]}),(0,l.jsx)("div",{className:"p-6 overflow-y-auto space-y-6",children:s.map(e=>(0,l.jsxs)("div",{className:"border border-gray-100 rounded-2xl p-5 shadow-sm bg-white",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-teal-50 text-teal-600 rounded-full flex items-center justify-center font-bold text-sm",children:e.name[0]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("p",{className:"font-bold text-gray-900",children:e.name}),(0,l.jsx)("span",{className:"text-[10px] text-gray-400 font-bold uppercase",children:e.country})]}),(0,l.jsx)("p",{className:"text-xs text-gray-400",children:e.date})]})]}),(0,l.jsx)("div",{className:"flex text-yellow-400 gap-0.5",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,l.jsx)(i.A,{size:14,fill:"currentColor"},t))})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed mb-4",children:e.content}),(0,l.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-xl flex items-center justify-center text-[10px] text-gray-500 font-bold cursor-pointer hover:bg-gray-300 transition",children:"Review 1"}),1===e.id&&(0,l.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-xl flex items-center justify-center text-[10px] text-gray-500 font-bold cursor-pointer hover:bg-gray-300 transition",children:"Review 2"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[(0,l.jsx)(r.A,{size:12})," Helpful (",e.helpful,")"]})]},e.id))})]})}):null},2541:(e,t,s)=>{"use strict";s.d(t,{q:()=>l});let l=(e=null)=>"KR"===(e||(()=>{if("u"<typeof document)return"ENG";let e=document.cookie.split(";").find(e=>e.trim().startsWith("googtrans="));return e&&"ko"===e.split("=")[1].split("/").pop()?"KR":"ENG"})())?"location_kr":"location_en"},3457:(e,t,s)=>{"use strict";s.d(t,{default:()=>H});var l=s(5155),a=s(3321),i=s(2115),r=s(4478),n=s(2651),o=s(184),d=s(4980),c=s(1641),x=s(1628),m=s(7243),h=s(439),u=s(6901),p=s(4514),g=s(4290),f=s(7463),b=s(2564),j=s(4538),y=s(8368),N=s(4832),v=s(5365),w=s(826),_=s(7610),A=s(4006),k=s(6296),C=s(1463);let z={width:"100%",height:"100%",minHeight:"200px"},P={lat:37.4979,lng:127.0276},S=({location:e,hospitalName:t,latitude:s,longitude:a})=>{let r=void 0!==C&&"AIzaSyA_DYCZyOPTi0lt7mChWe9dFjxtA9g1QZE"||void 0,n=(0,i.useMemo)(()=>{if(s&&a)return{lat:Number(s),lng:Number(a)};if(!e)return P;let t=e.toLowerCase();return t.includes("gangnam")||t.includes("강남")?{lat:37.4979,lng:127.0276}:t.includes("sinsa")||t.includes("신사")?{lat:37.5161,lng:127.0193}:t.includes("seoul")||t.includes("서울")?{lat:37.5665,lng:126.978}:P},[e,s,a]),{isLoaded:o,loadError:d}=(0,A.RH)({googleMapsApiKey:r||"",preventGoogleFontsLoading:!0});return r?o?d?(0,l.jsx)("div",{className:"bg-gray-100 w-full h-full min-h-[200px] flex items-center justify-center text-gray-400 font-bold",children:(0,l.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,l.jsx)("span",{className:"text-xs",children:"Failed to load Google Maps"}),(0,l.jsx)("span",{className:"text-[10px] text-gray-300",children:d.message||"Please check your API key"})]})}):(0,l.jsx)(A.u6,{mapContainerStyle:z,center:n,zoom:15,options:{disableDefaultUI:!1,zoomControl:!0,streetViewControl:!1,mapTypeControl:!1,fullscreenControl:!0,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]},children:(0,l.jsx)(A.pH,{position:n,title:t||"Hospital Location",icon:{url:"https://maps.google.com/mapfiles/ms/icons/red-dot.png"}})}):(0,l.jsx)("div",{className:"w-full h-full min-h-[200px] flex items-center justify-center bg-gray-100",children:(0,l.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,l.jsx)(k.A,{size:24,className:"animate-spin text-teal-600"}),(0,l.jsx)("span",{className:"text-xs text-gray-500",children:"Loading map..."})]})}):(0,l.jsx)("div",{className:"bg-gray-100 w-full h-full min-h-[200px] flex items-center justify-center text-gray-400 font-bold",children:(0,l.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,l.jsx)("span",{className:"text-xs",children:"Google Maps API key required"}),(0,l.jsx)("span",{className:"text-[10px] text-gray-300",children:"Add NEXT_PUBLIC_GOOGLE_MAPS_API_KEY (or VITE_GOOGLE_MAPS_API_KEY) to .env"})]})})};var E=s(2541),T=s(567),I=s(5612),L=s(9391);let O=({selectedId:e,setView:t,setInquiryMode:s,onHospitalClick:a,onTreatmentClick:A})=>{var k;let C,z,P,[O,H]=(0,i.useState)(null),[R,q]=(0,i.useState)(null),[U,B]=(0,i.useState)(!0),[D,K]=(0,i.useState)(null),[$,M]=(0,i.useState)(null),[Y,G]=(0,i.useState)(null),[V,F]=(0,i.useState)(null),[Q,W]=(0,i.useState)([]),[X,J]=(0,i.useState)(!0),[Z,ee]=(0,i.useState)(!1),[et,es]=(0,i.useState)([]),[el,ea]=(0,i.useState)(0),ei=()=>{t?t("list_treatment"):window.history.back()};(0,i.useEffect)(()=>{window.scrollTo(0,0)},[e]);let er=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;(0,i.useEffect)(()=>{let t=!0;return(async()=>{if(e){B(!0),K(null),M(null),G(null),H(null),q(null);try{let s=v.N.from("treatments").select("id,name,slug,description,full_description,benefits,tags,images,thumbnail,price_min,price_max,hospital_id");s=er.test(String(e||""))?s.eq("id",e):s.eq("slug",e);let{data:l,error:a}=await s.single();if(a)throw M(a),a;if(!l)throw Error("Treatment not found");let i=(0,_.OR)(l.images),r=i.length>0?i:(0,_.OR)(l.thumbnail),n={id:l.id,slug:l.slug||null,title:l.name||"",name:l.name||"",desc:l.description||"",fullDescription:l.full_description||"",benefits:Array.isArray(l.benefits)?l.benefits:[],tags:Array.isArray(l.tags)?l.tags:[],images:r,thumbnail:l.thumbnail||null,hospitalId:l.hospital_id,price:(0,T.Yr)(l.price_min,l.price_max,"en"),price_min:l.price_min,price_max:l.price_max};if(!t)return;H(n);let o=(0,I.q)();if(o&&(0,L.f)("view_treatment",{treatment_slug:l.slug||null,lang:o}),n.hospitalId){let e=(0,E.q)(),{data:s,error:l}=await v.N.from("hospitals").select(`id,slug,name,location:${e},address_detail,description,images,thumbnail,tags,rating,reviews_count,latitude,longitude,operating_hours`).eq("id",n.hospitalId).single();if(l)throw console.error("[TreatmentDetail] Hospital fetch error:",l),G(l),l;let a=(0,_.OR)(s.images),i=a.length>0?a:(0,_.OR)(s.thumbnail),r={id:s.id,slug:s.slug||null,name:s.name||"",location:s.location||"",address_detail:s.address_detail||"",description:s.description||"",tags:Array.isArray(s.tags)?s.tags:[],rating:s.rating??null,reviews_count:s.reviews_count??null,images:i,thumbnail:s.thumbnail||null,latitude:s.latitude||null,longitude:s.longitude||null,operating_hours:s.operating_hours||null};if(!t)return;q(r)}}catch(e){if(console.error("[TreatmentDetail] fetch failed:",e),!t)return;K(e)}finally{if(!t)return;B(!1)}}})(),()=>{t=!1}},[e]),(0,i.useEffect)(()=>{let e=!0;return(async()=>{if(O?.id){J(!0);try{let{data:t,error:s}=await v.N.from("reviews").select("id,created_at,user_name,country,rating,content,helpful_count,treatment_id").eq("treatment_id",O.id).order("created_at",{ascending:!1});if(s)throw s;if(!e)return;W(t||[])}catch(t){if(console.error("[TreatmentDetail] review fetch failed:",t),!e)return;W([])}finally{if(!e)return;J(!1)}}})(),()=>{e=!1}},[O?.id]),(0,i.useEffect)(()=>{let e=!0;return(async()=>{if(O?.hospitalId&&O?.id)try{F(null);let{data:t,error:s}=await v.N.from("treatments").select("id,slug,name,price_min,price_max,thumbnail,images,hospital_id").eq("hospital_id",O.hospitalId).neq("id",O.id).limit(4);if(s)throw console.error("[TreatmentDetail] Related treatments fetch error:",s),F(s),s;let l=(t||[]).map(e=>({id:e.id,slug:e.slug||null,name:e.name||"",price:(0,T.Yr)(e.price_min,e.price_max,"en"),images:(0,_.OR)(e.images),thumbnail:e.thumbnail||null,hospitalId:e.hospital_id}));if(!e)return;es(l)}catch(t){if(console.error("[TreatmentDetail] related fetch failed:",t),!e)return;es([])}})(),()=>{e=!1}},[O?.hospitalId,O?.id]);let en=(0,i.useMemo)(()=>{let e=(0,_.OR)(O?.images),t=e.length>0?e:(0,_.OR)(O?.thumbnail),s=["https://placehold.co/1200x900?text=Procedure+1","https://placehold.co/1200x900?text=Procedure+2","https://placehold.co/1200x900?text=Procedure+3","https://placehold.co/1200x900?text=Procedure+4","https://placehold.co/1200x900?text=Procedure+5"],l=[...t];for(;l.length<5;)l.push(s[l.length]||s[0]);return l.slice(0,5)},[O?.images,O?.thumbnail]);(0,i.useEffect)(()=>{ea(0)},[en.length,e]);let eo=Q.length>0?(Q.reduce((e,t)=>e+(t.rating||5),0)/Q.length).toFixed(1):null,ed=()=>(0,l.jsxs)("div",{className:"bg-teal-50/80 rounded-xl p-4 border border-teal-100",children:[(0,l.jsxs)("p",{className:"text-xs font-bold text-teal-800 mb-3 flex items-center gap-1.5 uppercase tracking-wide",children:[(0,l.jsx)(r.A,{size:14})," HEALO Guarantee"]}),(0,l.jsxs)("ul",{className:"space-y-2.5",children:[(0,l.jsxs)("li",{className:"flex items-start gap-2.5",children:[(0,l.jsx)("div",{className:"bg-white p-1 rounded-full shadow-sm text-teal-600",children:(0,l.jsx)(n.A,{size:12})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-xs font-bold text-gray-800 block",children:"Free Comparison Quote"}),(0,l.jsx)("span",{className:"text-[10px] text-gray-500 leading-tight",children:"Compare top 3 clinics at once."})]})]}),(0,l.jsxs)("li",{className:"flex items-start gap-2.5",children:[(0,l.jsx)("div",{className:"bg-white p-1 rounded-full shadow-sm text-teal-600",children:(0,l.jsx)(o.A,{size:12})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-xs font-bold text-gray-800 block",children:"Full Concierge"}),(0,l.jsx)("span",{className:"text-[10px] text-gray-500 leading-tight",children:"Translation & pickup included."})]})]}),(0,l.jsxs)("li",{className:"flex items-start gap-2.5",children:[(0,l.jsx)("div",{className:"bg-white p-1 rounded-full shadow-sm text-teal-600",children:(0,l.jsx)(d.A,{size:12})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-xs font-bold text-gray-800 block",children:"Fast Response"}),(0,l.jsx)("span",{className:"text-[10px] text-gray-500 leading-tight",children:"Average reply within 1 hour."})]})]})]})]});return U?(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center text-teal-600 font-bold",children:"Loading Treatment..."}):!O||D?(0,l.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 text-center",children:[(0,l.jsx)("div",{className:"text-teal-700 font-extrabold text-lg mb-2",children:"Treatment not found"}),D&&!1,(0,l.jsx)("div",{className:"text-gray-500 text-sm mb-6",children:"Please go back and try again."}),(0,l.jsx)("button",{onClick:ei,className:"px-5 py-3 rounded-xl bg-teal-600 text-white font-bold hover:bg-teal-700",children:"Back to Treatments"})]}):(0,l.jsxs)("div",{className:"bg-gray-50 min-h-screen pb-24 animate-in fade-in slide-in-from-bottom-4",children:[!1,(0,l.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[(0,l.jsxs)("div",{className:"md:hidden w-full aspect-[4/3] relative group overflow-hidden rounded-2xl bg-gray-100 shadow-sm",children:[(0,l.jsx)("img",{src:en[el],className:"w-full h-full object-cover",alt:"Main"}),(0,l.jsx)("button",{onClick:e=>{e?.stopPropagation(),ea(e=>(e-1+en.length)%en.length)},className:"absolute left-3 top-1/2 -translate-y-1/2 bg-black/20 hover:bg-black/40 text-white p-1.5 rounded-full backdrop-blur-sm transition z-20",children:(0,l.jsx)(c.A,{size:20})}),(0,l.jsx)("button",{onClick:e=>{e?.stopPropagation(),ea(e=>(e+1)%en.length)},className:"absolute right-3 top-1/2 -translate-y-1/2 bg-black/20 hover:bg-black/40 text-white p-1.5 rounded-full backdrop-blur-sm transition z-20",children:(0,l.jsx)(x.A,{size:20})}),(0,l.jsx)("div",{className:"absolute bottom-3 right-3 z-20",children:(0,l.jsxs)("div",{className:"bg-black/60 backdrop-blur-md text-white px-2.5 py-1 rounded-lg text-[10px] font-bold flex items-center gap-1",children:[(0,l.jsx)(m.A,{size:10})," ",el+1,"/",en.length]})})]}),(0,l.jsxs)("div",{className:"hidden md:flex flex-row gap-2 h-[500px]",children:[(0,l.jsxs)("div",{className:"w-1/2 h-full relative group cursor-pointer overflow-hidden rounded-xl",children:[(0,l.jsx)("img",{src:en[0],className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105",alt:"Main"}),(0,l.jsxs)("div",{className:"absolute bottom-4 left-4 bg-black/60 backdrop-blur-md text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 z-10",children:[(0,l.jsx)(m.A,{size:12})," View All Photos"]})]}),(0,l.jsx)("div",{className:"w-1/2 h-full grid grid-cols-2 grid-rows-2 gap-2",children:en.slice(1,5).map((e,t)=>(0,l.jsxs)("div",{className:"relative overflow-hidden cursor-pointer group rounded-xl",children:[(0,l.jsx)("img",{src:e,className:"w-full h-full object-cover group-hover:scale-105 transition duration-700",alt:`Detail ${t+1}`}),3===t&&(0,l.jsx)("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center text-white font-bold text-sm",children:"+ More"})]},t))})]})]}),(0,l.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,l.jsxs)("button",{onClick:ei,className:"flex items-center text-sm font-bold text-gray-500 mb-6 hover:text-teal-600",children:[(0,l.jsx)(c.A,{size:16})," Back to Treatments"]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,l.jsxs)("div",{className:"lg:col-span-2 space-y-10",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"flex gap-2 mb-3 flex-wrap",children:(O.tags||[]).map((e,t)=>(0,l.jsx)("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 text-xs font-bold rounded-full",children:e},t))}),(0,l.jsx)("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 mb-2",children:O.title}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:["Provided by"," ",(0,l.jsx)("span",{onClick:()=>a?.(R?.slug||O.hospitalId),className:"font-bold text-teal-600 underline cursor-pointer hover:text-teal-800 ml-1",children:R?.name||"Hospital"}),(0,l.jsx)(h.A,{size:14,className:"text-teal-500 fill-teal-500 ml-1"})]})]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Treatment Overview"}),(0,l.jsx)("p",{className:"text-gray-600 leading-relaxed mb-6 whitespace-pre-wrap",children:O.fullDescription||O.desc}),Array.isArray(O.benefits)&&O.benefits.length>0&&(0,l.jsxs)("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm",children:[(0,l.jsxs)("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,l.jsx)(u.A,{size:18,className:"text-teal-500 fill-teal-500"})," Key Benefits"]}),(0,l.jsx)("ul",{className:"space-y-3",children:O.benefits.map((e,t)=>(0,l.jsxs)("li",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"mt-0.5 bg-teal-50 rounded-full p-1 shrink-0",children:(0,l.jsx)(p.A,{size:12,className:"text-teal-600 stroke-[3]"})}),(0,l.jsx)("span",{className:"text-gray-700 font-medium text-sm leading-snug",children:e})]},t))})]})]}),(0,l.jsxs)("section",{className:"bg-white border border-gray-100 rounded-3xl p-6 shadow-sm",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:["Verified Reviews",Q.length>0?(0,l.jsxs)("span",{className:"bg-yellow-100 text-yellow-700 text-xs px-2 py-0.5 rounded-full",children:[eo,"/5.0"]}):(0,l.jsx)("span",{className:"bg-teal-50 text-teal-600 text-xs px-2 py-0.5 rounded-full border border-teal-100",children:"New Treatment"})]}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"From real patients who visited through HEALO"})]}),Q.length>0&&(0,l.jsxs)("span",{onClick:()=>ee(!0),className:"text-teal-600 text-sm font-bold cursor-pointer hover:underline",children:["View All (",Q.length,")"]})]}),X?(0,l.jsx)("div",{className:"text-center py-8 text-gray-400 text-sm animate-pulse",children:"Checking verified reviews..."}):Q.length>0?(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Q.slice(0,3).map(e=>(0,l.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex flex-col h-full hover:shadow-md transition",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-teal-50 rounded-full flex items-center justify-center text-teal-600 font-bold text-sm uppercase",children:e.user_name?.[0]||"U"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("p",{className:"font-bold text-gray-900 line-clamp-1",children:e.user_name}),(0,l.jsx)("span",{className:"text-[10px] text-gray-400 font-bold uppercase shrink-0",children:e.country})]}),(0,l.jsx)("p",{className:"text-xs text-gray-400",children:e.created_at?(0,T.Yq)(e.created_at,"en"):""})]})]}),(0,l.jsx)("div",{className:"flex text-yellow-400 gap-0.5 shrink-0",children:[...Array(e.rating||5)].map((e,t)=>(0,l.jsx)(g.A,{size:12,fill:"currentColor"},t))})]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600 leading-relaxed mb-4 line-clamp-4",children:['"',e.content,'"']}),(0,l.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-xl flex items-center justify-center text-[10px] text-gray-500 font-bold cursor-pointer hover:bg-gray-300 transition",children:"Review 1"}),e.id===Q[0]?.id&&(0,l.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-xl flex items-center justify-center text-[10px] text-gray-500 font-bold cursor-pointer hover:bg-gray-300 transition",children:"Result"})]}),(0,l.jsxs)("div",{className:"mt-auto flex items-center gap-1 text-xs text-gray-400",children:[(0,l.jsx)(f.A,{size:12})," Helpful (",e.helpful_count||0,")"]})]},e.id))}):(0,l.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-2xl border border-dashed border-gray-200",children:[(0,l.jsx)(b.A,{size:32,className:"mx-auto text-gray-300 mb-2"}),(0,l.jsx)("p",{className:"text-gray-500 font-bold",children:"No reviews yet."}),(0,l.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Be the first to share your experience with this treatment!"})]})]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Hospital Overview"}),(0,l.jsxs)("div",{className:"bg-white border border-gray-200 rounded-3xl overflow-hidden shadow-sm flex flex-col md:flex-row",children:[(0,l.jsxs)("div",{className:"p-6 md:w-1/2 flex flex-col justify-between bg-white",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-bold text-lg text-gray-900 mb-1",children:R?.name||"Hospital"}),(0,l.jsxs)("div",{className:"flex items-start gap-2 text-xs text-gray-500 mb-3",children:[(0,l.jsx)(j.A,{size:14,className:"mt-0.5"}),(0,l.jsxs)("div",{className:"min-w-0",children:[(0,l.jsx)("span",{className:"line-clamp-2 whitespace-normal",children:(C=(R?.location||"").trim(),z=(R?.address_detail||"").trim(),C||z||"")}),R?.address_detail&&(0,l.jsx)("span",{className:"inline-block ml-2 bg-gray-100 text-gray-700 text-xs font-bold px-2 py-0.5 rounded",children:R.address_detail})]})]}),(0,l.jsx)("p",{className:"text-xs text-gray-500 leading-relaxed mb-3 line-clamp-3",children:R?.description||"—"}),(0,l.jsxs)("button",{onClick:()=>a?.(R?.slug||O.hospitalId),className:"text-teal-600 font-bold text-xs hover:underline flex items-center gap-1",children:["View Hospital Details ",(0,l.jsx)(x.A,{size:12})]})]}),(0,l.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[(0,l.jsx)("h5",{className:"text-sm font-bold text-gray-900 mb-3",children:"Operating Hours"}),(0,l.jsx)("div",{className:"space-y-2 text-xs",children:[{label:"Mon–Fri",time:(P=(k=R?.operating_hours)&&"object"==typeof k?k:{}).mon_fri||""},{label:"Sat",time:P.sat||""},{label:"Sun / Holidays",time:P.sun||P.sun_holidays||P.sun_holiday||""}].map(e=>{var t;let s=(t=e.label).toLowerCase().includes("sat")?{label:"text-amber-600",time:"text-amber-600/70"}:t.toLowerCase().includes("sun")?{label:"text-red-500",time:"text-red-500/70"}:{label:"text-gray-700",time:"text-gray-500"};return(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("span",{className:`font-medium ${s.label}`,children:[e.label,":"]}),(0,l.jsx)("span",{className:s.time,children:e.time||"—"})]},e.label)})})]})]}),(0,l.jsx)("div",{className:"bg-gray-100 md:w-1/2 min-h-[200px] rounded-r-3xl overflow-hidden",children:(0,l.jsx)(S,{location:R?.location,hospitalName:R?.name,latitude:R?.latitude,longitude:R?.longitude})})]})]}),(0,l.jsxs)("section",{children:[(0,l.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:["More from ",R?.name||"this hospital"]}),et.length>0?(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:et.map(e=>{let t=(0,_.OR)(e.images)?.[0]||e.thumbnail||"https://placehold.co/600x600?text=treatment";return(0,l.jsxs)("div",{onClick:()=>A?.(e.slug||e.id),className:"bg-white border border-gray-100 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition cursor-pointer group flex flex-col",children:[(0,l.jsx)("div",{className:"aspect-[4/3] bg-gray-200 overflow-hidden relative",children:(0,l.jsx)("img",{src:t,className:"w-full h-full object-cover group-hover:scale-110 transition duration-500",alt:e.name})}),(0,l.jsxs)("div",{className:"p-4 flex flex-col flex-1",children:[(0,l.jsx)("h4",{className:"font-bold text-sm text-gray-900 line-clamp-2 mb-2 group-hover:text-teal-600",children:e.name}),(0,l.jsx)("p",{className:"text-teal-600 font-extrabold text-sm mt-auto",children:e.price})]})]},e.id)})}):(0,l.jsx)("div",{className:"text-gray-400 text-sm",children:"No other treatments available."})]})]}),(0,l.jsx)("div",{className:"hidden lg:block lg:col-span-1",children:(0,l.jsx)("div",{className:"sticky top-24 space-y-4",children:(0,l.jsxs)("div",{className:"bg-white border border-teal-100 rounded-3xl p-6 shadow-xl text-center",children:[(0,l.jsx)("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Estimated Price"}),(0,l.jsx)("div",{className:"text-3xl font-extrabold text-teal-600 mb-6",children:O.price}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("button",{onClick:()=>{s?.("select"),t?.("inquiry")},className:"w-full bg-teal-600 hover:bg-teal-700 text-white font-bold py-4 rounded-xl shadow-lg transition transform hover:scale-[1.02] flex items-center justify-center gap-2",children:[(0,l.jsx)(b.A,{size:20})," Contact Via HEALO"]}),(0,l.jsx)("button",{onClick:()=>a?.(R?.slug||O.hospitalId),className:"w-full bg-white border-2 border-teal-100 text-teal-700 font-bold py-3 rounded-xl hover:bg-teal-50 transition",children:"View Hospital Profile"})]}),(0,l.jsx)("div",{className:"mt-6 text-left",children:(0,l.jsx)(ed,{})}),(0,l.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[(0,l.jsx)("h4",{className:"text-sm font-bold text-gray-900 mb-4 flex items-center gap-2",children:"Trust & Verification"}),(0,l.jsxs)("div",{className:"space-y-4 text-xs",children:[(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(r.A,{size:14,className:"text-teal-600 mt-0.5 shrink-0"}),(0,l.jsxs)("div",{className:"leading-snug",children:[(0,l.jsx)("p",{className:"font-bold text-gray-900",children:"Publicly available info."}),(0,l.jsx)("p",{className:"text-gray-500 text-[10px] mt-1",children:"Information may vary. Request a plan for accurate details."})]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(h.A,{size:14,className:"text-teal-600 mt-0.5 shrink-0"}),(0,l.jsxs)("div",{className:"leading-snug",children:[(0,l.jsx)("p",{className:"font-bold text-gray-900",children:"Licensed Medical Institution"}),(0,l.jsx)("p",{className:"text-gray-500 text-[10px] mt-1",children:"Verified by Korean medical authorities"})]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(n.A,{size:14,className:"text-teal-600 mt-0.5 shrink-0"}),(0,l.jsxs)("div",{className:"leading-snug",children:[(0,l.jsx)("p",{className:"font-bold text-gray-900",children:"Consent-based Sharing"}),(0,l.jsx)("p",{className:"text-gray-500 text-[10px] mt-1",children:"Your information is shared only with your consent"})]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(y.A,{size:14,className:"text-teal-600 mt-0.5 shrink-0"}),(0,l.jsxs)("div",{className:"leading-snug",children:[(0,l.jsx)("p",{className:"font-bold text-gray-900",children:"Transparent Quote"}),(0,l.jsx)("p",{className:"text-gray-500 text-[10px] mt-1",children:"Itemized estimates for fair comparison"})]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(N.A,{size:14,className:"text-teal-600 mt-0.5 shrink-0"}),(0,l.jsxs)("div",{className:"leading-snug",children:[(0,l.jsx)("p",{className:"font-bold text-gray-900",children:"Global Support"}),(0,l.jsx)("p",{className:"text-gray-500 text-[10px] mt-1",children:"Coordination for international patients"})]})]})]})]})]})})})]}),(0,l.jsx)("div",{className:"lg:hidden mt-8 mb-4",children:(0,l.jsx)(ed,{})})]}),(0,l.jsx)(w.q,{isOpen:Z,onClose:()=>ee(!1),reviews:Q})]})};function H({id:e}){let t=(0,a.useRouter)();return(0,l.jsx)(O,{selectedId:e,setView:e=>{"home"===e&&t.push("/"),"list_treatment"===e&&t.push("/treatments"),"list_hospital"===e&&t.push("/hospitals"),"inquiry"===e&&t.push("/inquiry")},setInquiryMode:()=>{},onHospitalClick:e=>t.push(`/hospitals/${e}`),onTreatmentClick:e=>t.push(`/treatments/${e}`)})}},4903:(e,t,s)=>{Promise.resolve().then(s.bind(s,3457)),Promise.resolve().then(s.t.bind(s,2593,23))},5365:(e,t,s)=>{"use strict";s.d(t,{N:()=>r});var l=s(4197);let a="https://xppnvkuahlrdyfvabzur.supabase.co",i="sb_publishable_ui0m9IIp-8VQUfHLCb4d1w_LcwHa0Zd";if(!a||!i){let e=[];throw a||e.push("NEXT_PUBLIC_SUPABASE_URL"),i||e.push("NEXT_PUBLIC_SUPABASE_ANON_KEY"),Error(`❌ Supabase 환경 변수가 설정되지 않았습니다!
누락된 변수: ${e.join(", ")}
프로젝트 루트에 .env.local 파일을 생성하고 다음을 추가하세요:
NEXT_PUBLIC_SUPABASE_URL=your_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_key`)}let r=(0,l.UU)(a,i)},5612:(e,t,s)=>{"use strict";s.d(t,{q:()=>a,t:()=>r,y:()=>i});let l={en:{"cta.freePlan":"Get Free Treatment Plan","nav.treatments":"Treatments","nav.hospitals":"Hospitals","nav.about":"About HEALO","nav.contact":"Contact","nav.privacy":"Privacy Policy","nav.terms":"Terms of Service","auth.login":"Log In","auth.signup":"Sign Up","auth.logout":"Log Out","auth.greeting":"Hi","footer.company":"Company","footer.legal":"Legal","hero.title.line1":"Find the Best Hospital in Korea","hero.title.highlight":"in 30 Seconds.","hero.subtitle.line1":"AI compares treatments, doctors, and prices so you don't have to.","hero.subtitle.line2":"Your personal medical concierge service.","search.placeholder":"Try searching for 'Stem Cell'...","search.button":"Search","card.estPrice":"Est. Price","price.inquire":"Inquire","price.askQuote":"Ask for quote","price.upTo":"Up to","price.plus":"+","list.treatments.title":"All Treatments","list.hospitals.title":"Partner Hospitals","meta.treatments.title":"Treatments","meta.treatments.desc":"Browse all HEALO treatments and compare partner hospitals in Korea.","meta.hospitals.title":"Hospitals","meta.hospitals.desc":"Browse partner hospitals and clinics across Korea."},ko:{},zh:{},ja:{}},a=()=>{if("u"<typeof document)return"en";let e=document.cookie.split(";").find(e=>e.trim().startsWith("googtrans="));if(!e)return"en";let t=e.split("=")[1].split("/").pop();return"ko"===t?"ko":"zh-CN"===t?"zh":"ja"===t?"ja":"en"},i=e=>{switch(e){case"KOR":return"ko";case"CHN":return"zh";case"JPN":return"ja";default:return"en"}},r=(e,t="en")=>(l[t]||l.en)[e]||l.en[e]||e},7610:(e,t,s)=>{"use strict";s.d(t,{J6:()=>i,Lp:()=>r,OR:()=>a});var l=s(567);let a=e=>{if(!e)return[];if(Array.isArray(e))return e.filter(Boolean);if("string"==typeof e){let t=e.trim();if(t.startsWith("[")&&t.endsWith("]"))try{let e=JSON.parse(t);if(Array.isArray(e))return e.filter(Boolean)}catch(e){console.error("Image parse error:",e)}if(t.startsWith("http"))return[t]}return[]},i=e=>e?{id:e.id,slug:e.slug??null,name:e.name,location:e.location??e.location_en??e.location_kr??"",address_detail:e.address_detail??"",description:e.description,tags:Array.isArray(e.tags)?e.tags:[],rating:e.rating??0,reviewsCount:e.reviews_count??0,images:a(e.images),latitude:e.latitude??null,longitude:e.longitude??null,operating_hours:e.operating_hours??null,doctorProfile:e.doctor_profile||null}:null,r=e=>e?{id:e.id,slug:e.slug??null,title:e.name,desc:e.description,fullDescription:e.full_description,hospitalId:e.hospital_id,price:(0,l.Yr)(e.price_min,e.price_max,"en"),tags:Array.isArray(e.tags)?e.tags:[],images:a(e.images),benefits:Array.isArray(e.benefits)?e.benefits:[],hospitalName:e.hospitals?.name||"Partner Hospital",hospitalSlug:e.hospitals?.slug||null,hospitalLocation:e.hospitals?.location||e.hospitals?.location_en||e.hospitals?.location_kr||"Seoul, Korea"}:null},9391:(e,t,s)=>{"use strict";s.d(t,{f:()=>l});let l=(e,t={})=>{window.gtag&&window.gtag("event",e,t)}}},e=>{e.O(0,[436,233,121,358],()=>e(e.s=4903)),_N_E=e.O()}]);