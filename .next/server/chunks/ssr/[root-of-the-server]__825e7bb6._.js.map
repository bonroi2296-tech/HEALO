{"version":3,"sources":["../../../../src/lib/i18n/index.js","../../../../app/treatments/%5Bslug%5D/TreatmentDetailClient.jsx/__nextjs-internal-proxy.mjs","../../../../app/treatments/%5Bslug%5D/page.jsx","../../../../src/lib/data/treatments.js"],"sourcesContent":["const DICTIONARY = {\n  en: {\n    \"cta.freePlan\": \"Get Free Treatment Plan\",\n    \"nav.treatments\": \"Treatments\",\n    \"nav.hospitals\": \"Hospitals\",\n    \"nav.about\": \"About HEALO\",\n    \"nav.contact\": \"Contact\",\n    \"nav.privacy\": \"Privacy Policy\",\n    \"nav.terms\": \"Terms of Service\",\n    \"auth.login\": \"Log In\",\n    \"auth.signup\": \"Sign Up\",\n    \"auth.logout\": \"Log Out\",\n    \"auth.greeting\": \"Hi\",\n    \"footer.company\": \"Company\",\n    \"footer.legal\": \"Legal\",\n    \"hero.title.line1\": \"Find the Best Hospital in Korea\",\n    \"hero.title.highlight\": \"in 30 Seconds.\",\n    \"hero.subtitle.line1\":\n      \"AI compares treatments, doctors, and prices so you don't have to.\",\n    \"hero.subtitle.line2\": \"Your personal medical concierge service.\",\n    \"search.placeholder\": \"Try searching for 'Stem Cell'...\",\n    \"search.button\": \"Search\",\n    \"card.estPrice\": \"Est. Price\",\n    \"price.inquire\": \"Inquire\",\n    \"price.askQuote\": \"Ask for quote\",\n    \"price.upTo\": \"Up to\",\n    \"price.plus\": \"+\",\n    \"list.treatments.title\": \"All Treatments\",\n    \"list.hospitals.title\": \"Partner Hospitals\",\n    \"meta.treatments.title\": \"Treatments\",\n    \"meta.treatments.desc\":\n      \"Browse all HEALO treatments and compare partner hospitals in Korea.\",\n    \"meta.hospitals.title\": \"Hospitals\",\n    \"meta.hospitals.desc\": \"Browse partner hospitals and clinics across Korea.\",\n  },\n  ko: {},\n  zh: {},\n  ja: {},\n};\n\nexport const getLangCodeFromCookie = () => {\n  if (typeof document === \"undefined\") return \"en\";\n  const cookies = document.cookie.split(\";\");\n  const langCookie = cookies.find((row) => row.trim().startsWith(\"googtrans=\"));\n  if (!langCookie) return \"en\";\n  const langCode = langCookie.split(\"=\")[1].split(\"/\").pop();\n  if (langCode === \"ko\") return \"ko\";\n  if (langCode === \"zh-CN\") return \"zh\";\n  if (langCode === \"ja\") return \"ja\";\n  return \"en\";\n};\n\nexport const getLangCodeFromLabel = (label) => {\n  switch (label) {\n    case \"KOR\":\n      return \"ko\";\n    case \"CHN\":\n      return \"zh\";\n    case \"JPN\":\n      return \"ja\";\n    case \"ENG\":\n    default:\n      return \"en\";\n  }\n};\n\nexport const t = (key, lang = \"en\") => {\n  const langDict = DICTIONARY[lang] || DICTIONARY.en;\n  return langDict[key] || DICTIONARY.en[key] || key;\n};\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/treatments/[slug]/TreatmentDetailClient.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/treatments/[slug]/TreatmentDetailClient.jsx\",\n    \"default\",\n);\n","import Script from \"next/script\";\nimport { notFound, redirect } from \"next/navigation\";\nimport {\n  getTreatmentById,\n  getTreatmentBySlug,\n  getTreatmentSlugById,\n} from \"../../../src/lib/data/treatments\";\nimport TreatmentDetailClient from \"./TreatmentDetailClient\";\n\nconst UUID_REGEX =\n  /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\n\nconst isUuid = (value) => UUID_REGEX.test(String(value || \"\"));\nconst getBaseUrl = () =>\n  process.env.NEXT_PUBLIC_SITE_URL || \"http://localhost:3000\";\n\nexport async function generateMetadata({ params }) {\n  const { slug } = await params;\n  const treatment = slug\n    ? (await getTreatmentBySlug(slug)) ||\n      (isUuid(slug) ? await getTreatmentById(slug) : null)\n    : null;\n  if (!treatment) return {};\n  const description =\n    treatment.desc ||\n    treatment.fullDescription ||\n    \"Explore this HEALO treatment in Korea.\";\n  const canonical = `/treatments/${treatment.slug || slug}`;\n  const ogImages =\n    Array.isArray(treatment.images) && treatment.images.length > 0\n      ? [{ url: treatment.images[0] }]\n      : undefined;\n  return {\n    title: treatment.title,\n    description,\n    alternates: { canonical },\n    openGraph: {\n      title: treatment.title,\n      description,\n      url: canonical,\n      type: \"article\",\n      images: ogImages,\n    },\n    twitter: {\n      card: ogImages ? \"summary_large_image\" : \"summary\",\n      title: treatment.title,\n      description,\n      images: ogImages ? ogImages.map((img) => img.url) : undefined,\n    },\n  };\n}\n\nexport default async function TreatmentDetailPage({ params }) {\n  const { slug } = await params;\n  if (slug && isUuid(slug)) {\n    const resolvedSlug = await getTreatmentSlugById(slug);\n    if (resolvedSlug) redirect(`/treatments/${resolvedSlug}`);\n  }\n  const treatment = slug\n    ? (await getTreatmentBySlug(slug)) ||\n      (isUuid(slug) ? await getTreatmentById(slug) : null)\n    : null;\n  if (!treatment) notFound();\n  const baseUrl = getBaseUrl();\n  const canonical = `${baseUrl}/treatments/${treatment.slug || slug}`;\n  const jsonLd = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"MedicalProcedure\",\n    name: treatment.title,\n    description:\n      treatment.desc ||\n      treatment.fullDescription ||\n      \"Explore this HEALO treatment in Korea.\",\n    image:\n      Array.isArray(treatment.images) && treatment.images.length > 0\n        ? treatment.images\n        : undefined,\n    url: canonical,\n    provider: treatment.hospitalName\n      ? {\n          \"@type\": \"MedicalOrganization\",\n          name: treatment.hospitalName,\n          url: treatment.hospitalSlug\n            ? `${baseUrl}/hospitals/${treatment.hospitalSlug}`\n            : undefined,\n          areaServed: \"KR\",\n        }\n      : undefined,\n    areaServed: \"KR\",\n    priceRange: treatment.price || undefined,\n  };\n  return (\n    <>\n      <Script\n        id=\"treatment-jsonld\"\n        type=\"application/ld+json\"\n        dangerouslySetInnerHTML={{ __html: JSON.stringify(jsonLd) }}\n      />\n      <TreatmentDetailClient id={slug} />\n    </>\n  );\n}\n","import { mapTreatmentRow } from \"../mapper\";\nimport { supabaseServer } from \"./supabaseServer\";\n\nconst TREATMENT_SELECT =\n  \"id, slug, name, description, full_description, hospital_id, price_min, tags, images, benefits, hospitals(slug, name, location_en, location_kr)\";\nconst TREATMENT_LIST_SELECT = \"id, slug, created_at, updated_at\";\n\nexport const getFeaturedTreatments = async (limit = 6) => {\n  const { data, error } = await supabaseServer\n    .from(\"treatments\")\n    .select(TREATMENT_SELECT)\n    .order(\"created_at\", { ascending: false })\n    .limit(limit);\n\n  if (error) {\n    console.error(\"[getFeaturedTreatments]\", error);\n    return [];\n  }\n\n  return (data || []).map(mapTreatmentRow).filter(Boolean);\n};\n\nexport const getAllTreatments = async () => {\n  const { data, error } = await supabaseServer\n    .from(\"treatments\")\n    .select(TREATMENT_SELECT)\n    .order(\"name\", { ascending: true });\n\n  if (error) {\n    console.error(\"[getAllTreatments]\", error);\n    return [];\n  }\n\n  return (data || []).map(mapTreatmentRow).filter(Boolean);\n};\n\nexport const getTreatmentList = async ({ limit = 1000 } = {}) => {\n  const { data, error } = await supabaseServer\n    .from(\"treatments\")\n    .select(TREATMENT_LIST_SELECT)\n    .order(\"updated_at\", { ascending: false, nullsFirst: false })\n    .limit(limit);\n\n  if (error) {\n    console.error(\"[getTreatmentList]\", error);\n    return [];\n  }\n\n  return data || [];\n};\n\nexport const getTreatmentById = async (id) => {\n  const { data, error } = await supabaseServer\n    .from(\"treatments\")\n    .select(TREATMENT_SELECT)\n    .eq(\"id\", id)\n    .single();\n\n  if (error) {\n    console.error(\"[getTreatmentById]\", error);\n    return null;\n  }\n\n  return mapTreatmentRow(data);\n};\n\nexport const getTreatmentBySlug = async (slug) => {\n  if (!slug) return null;\n  const { data, error } = await supabaseServer\n    .from(\"treatments\")\n    .select(TREATMENT_SELECT)\n    .eq(\"slug\", slug)\n    .maybeSingle();\n\n  if (error) {\n    if (error?.message) console.error(\"[getTreatmentBySlug]\", error);\n    return null;\n  }\n\n  return mapTreatmentRow(data);\n};\n\nexport const getTreatmentSlugById = async (id) => {\n  if (!id) return null;\n  const { data, error } = await supabaseServer\n    .from(\"treatments\")\n    .select(\"slug\")\n    .eq(\"id\", id)\n    .single();\n\n  if (error) {\n    console.error(\"[getTreatmentSlugById]\", error);\n    return null;\n  }\n\n  return data?.slug || null;\n};\n\nexport const getRelatedTreatments = async (hospitalId, excludeId) => {\n  if (!hospitalId) return [];\n  const { data, error } = await supabaseServer\n    .from(\"treatments\")\n    .select(TREATMENT_SELECT)\n    .eq(\"hospital_id\", hospitalId)\n    .neq(\"id\", excludeId)\n    .limit(4);\n\n  if (error) {\n    console.error(\"[getRelatedTreatments]\", error);\n    return [];\n  }\n\n  return (data || []).map(mapTreatmentRow).filter(Boolean);\n};\n"],"names":[],"mappings":"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","ignoreList":[1]}