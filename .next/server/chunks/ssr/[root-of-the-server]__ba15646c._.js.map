{"version":3,"sources":["../../../../src/lib/i18n/index.js","../../../../app/hospitals/%5Bslug%5D/HospitalDetailClient.jsx/__nextjs-internal-proxy.mjs","../../../../app/hospitals/%5Bslug%5D/page.jsx","../../../../src/lib/data/hospitals.js"],"sourcesContent":["const DICTIONARY = {\n  en: {\n    \"cta.freePlan\": \"Get Free Treatment Plan\",\n    \"nav.treatments\": \"Treatments\",\n    \"nav.hospitals\": \"Hospitals\",\n    \"nav.about\": \"About HEALO\",\n    \"nav.contact\": \"Contact\",\n    \"nav.privacy\": \"Privacy Policy\",\n    \"nav.terms\": \"Terms of Service\",\n    \"auth.login\": \"Log In\",\n    \"auth.signup\": \"Sign Up\",\n    \"auth.logout\": \"Log Out\",\n    \"auth.greeting\": \"Hi\",\n    \"footer.company\": \"Company\",\n    \"footer.legal\": \"Legal\",\n    \"hero.title.line1\": \"Find the Best Hospital in Korea\",\n    \"hero.title.highlight\": \"in 30 Seconds.\",\n    \"hero.subtitle.line1\":\n      \"AI compares treatments, doctors, and prices so you don't have to.\",\n    \"hero.subtitle.line2\": \"Your personal medical concierge service.\",\n    \"search.placeholder\": \"Try searching for 'Stem Cell'...\",\n    \"search.button\": \"Search\",\n    \"card.estPrice\": \"Est. Price\",\n    \"price.inquire\": \"Inquire\",\n    \"price.askQuote\": \"Ask for quote\",\n    \"price.upTo\": \"Up to\",\n    \"price.plus\": \"+\",\n    \"list.treatments.title\": \"All Treatments\",\n    \"list.hospitals.title\": \"Partner Hospitals\",\n    \"meta.treatments.title\": \"Treatments\",\n    \"meta.treatments.desc\":\n      \"Browse all HEALO treatments and compare partner hospitals in Korea.\",\n    \"meta.hospitals.title\": \"Hospitals\",\n    \"meta.hospitals.desc\": \"Browse partner hospitals and clinics across Korea.\",\n  },\n  ko: {},\n  zh: {},\n  ja: {},\n};\n\nexport const getLangCodeFromCookie = () => {\n  if (typeof document === \"undefined\") return \"en\";\n  const cookies = document.cookie.split(\";\");\n  const langCookie = cookies.find((row) => row.trim().startsWith(\"googtrans=\"));\n  if (!langCookie) return \"en\";\n  const langCode = langCookie.split(\"=\")[1].split(\"/\").pop();\n  if (langCode === \"ko\") return \"ko\";\n  if (langCode === \"zh-CN\") return \"zh\";\n  if (langCode === \"ja\") return \"ja\";\n  return \"en\";\n};\n\nexport const getLangCodeFromLabel = (label) => {\n  switch (label) {\n    case \"KOR\":\n      return \"ko\";\n    case \"CHN\":\n      return \"zh\";\n    case \"JPN\":\n      return \"ja\";\n    case \"ENG\":\n    default:\n      return \"en\";\n  }\n};\n\nexport const t = (key, lang = \"en\") => {\n  const langDict = DICTIONARY[lang] || DICTIONARY.en;\n  return langDict[key] || DICTIONARY.en[key] || key;\n};\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/hospitals/[slug]/HospitalDetailClient.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/hospitals/[slug]/HospitalDetailClient.jsx\",\n    \"default\",\n);\n","import Script from \"next/script\";\nimport { notFound, redirect } from \"next/navigation\";\nimport {\n  getHospitalById,\n  getHospitalBySlug,\n  getHospitalSlugById,\n} from \"../../../src/lib/data/hospitals\";\nimport HospitalDetailClient from \"./HospitalDetailClient\";\n\nconst UUID_REGEX =\n  /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\n\nconst isUuid = (value) => UUID_REGEX.test(String(value || \"\"));\nconst getBaseUrl = () =>\n  process.env.NEXT_PUBLIC_SITE_URL || \"http://localhost:3000\";\n\nexport async function generateMetadata({ params }) {\n  const { slug } = await params;\n  const hospital = slug\n    ? (await getHospitalBySlug(slug)) ||\n      (isUuid(slug) ? await getHospitalById(slug) : null)\n    : null;\n  if (!hospital) return {};\n  const description =\n    hospital.description || \"Explore this HEALO partner hospital in Korea.\";\n  const canonical = `/hospitals/${hospital.slug || slug}`;\n  const ogImages =\n    Array.isArray(hospital.images) && hospital.images.length > 0\n      ? [{ url: hospital.images[0] }]\n      : undefined;\n  return {\n    title: hospital.name,\n    description,\n    alternates: { canonical },\n    openGraph: {\n      title: hospital.name,\n      description,\n      url: canonical,\n      type: \"article\",\n      images: ogImages,\n    },\n    twitter: {\n      card: ogImages ? \"summary_large_image\" : \"summary\",\n      title: hospital.name,\n      description,\n      images: ogImages ? ogImages.map((img) => img.url) : undefined,\n    },\n  };\n}\n\nexport default async function HospitalDetailPage({ params }) {\n  const { slug } = await params;\n  if (slug && isUuid(slug)) {\n    const resolvedSlug = await getHospitalSlugById(slug);\n    if (resolvedSlug) redirect(`/hospitals/${resolvedSlug}`);\n  }\n  const hospital = slug\n    ? (await getHospitalBySlug(slug)) ||\n      (isUuid(slug) ? await getHospitalById(slug) : null)\n    : null;\n  if (!hospital) notFound();\n  const baseUrl = getBaseUrl();\n  const canonical = `${baseUrl}/hospitals/${hospital.slug || slug}`;\n  const jsonLd = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"MedicalOrganization\",\n    name: hospital.name,\n    description:\n      hospital.description || \"Explore this HEALO partner hospital in Korea.\",\n    image:\n      Array.isArray(hospital.images) && hospital.images.length > 0\n        ? hospital.images\n        : undefined,\n    url: canonical,\n    areaServed: \"KR\",\n    aggregateRating: hospital.rating\n      ? {\n          \"@type\": \"AggregateRating\",\n          ratingValue: hospital.rating,\n          reviewCount: hospital.reviewsCount || undefined,\n        }\n      : undefined,\n  };\n  return (\n    <>\n      <Script\n        id=\"hospital-jsonld\"\n        type=\"application/ld+json\"\n        dangerouslySetInnerHTML={{ __html: JSON.stringify(jsonLd) }}\n      />\n      <HospitalDetailClient id={slug} />\n    </>\n  );\n}\n","import { mapHospitalRow, mapTreatmentRow } from \"../mapper\";\nimport { supabaseServer } from \"./supabaseServer\";\n\nconst HOSPITAL_SELECT =\n  \"id, slug, name, location_en, location_kr, address_detail, description, tags, rating, reviews_count, images, latitude, longitude, operating_hours, doctor_profile\";\nconst HOSPITAL_LIST_SELECT = \"id, slug, created_at, updated_at\";\n\nexport const getFeaturedHospitals = async (limit = 6) => {\n  const { data, error } = await supabaseServer\n    .from(\"hospitals\")\n    .select(HOSPITAL_SELECT)\n    .order(\"created_at\", { ascending: false })\n    .limit(limit);\n\n  if (error) {\n    console.error(\"[getFeaturedHospitals]\", error);\n    return [];\n  }\n\n  return (data || []).map(mapHospitalRow).filter(Boolean);\n};\n\nexport const getAllHospitals = async () => {\n  const { data, error } = await supabaseServer\n    .from(\"hospitals\")\n    .select(HOSPITAL_SELECT)\n    .order(\"name\", { ascending: true });\n\n  if (error) {\n    console.error(\"[getAllHospitals]\", error);\n    return [];\n  }\n\n  return (data || []).map(mapHospitalRow).filter(Boolean);\n};\n\nexport const getHospitalList = async ({ limit = 1000 } = {}) => {\n  const { data, error } = await supabaseServer\n    .from(\"hospitals\")\n    .select(HOSPITAL_LIST_SELECT)\n    .order(\"updated_at\", { ascending: false, nullsFirst: false })\n    .limit(limit);\n\n  if (error) {\n    console.error(\"[getHospitalList]\", error);\n    return [];\n  }\n\n  return data || [];\n};\n\nexport const getHospitalById = async (id) => {\n  const { data, error } = await supabaseServer\n    .from(\"hospitals\")\n    .select(HOSPITAL_SELECT)\n    .eq(\"id\", id)\n    .single();\n\n  if (error) {\n    console.error(\"[getHospitalById]\", error);\n    return null;\n  }\n\n  return mapHospitalRow(data);\n};\n\nexport const getHospitalBySlug = async (slug) => {\n  if (!slug) return null;\n  const { data, error } = await supabaseServer\n    .from(\"hospitals\")\n    .select(HOSPITAL_SELECT)\n    .eq(\"slug\", slug)\n    .maybeSingle();\n\n  if (error) {\n    if (error?.message) console.error(\"[getHospitalBySlug]\", error);\n    return null;\n  }\n\n  return mapHospitalRow(data);\n};\n\nexport const getHospitalSlugById = async (id) => {\n  if (!id) return null;\n  const { data, error } = await supabaseServer\n    .from(\"hospitals\")\n    .select(\"slug\")\n    .eq(\"id\", id)\n    .single();\n\n  if (error) {\n    console.error(\"[getHospitalSlugById]\", error);\n    return null;\n  }\n\n  return data?.slug || null;\n};\n\nexport const getHospitalTreatments = async (hospitalId) => {\n  if (!hospitalId) return [];\n  const { data, error } = await supabaseServer\n    .from(\"treatments\")\n    .select(\n      \"id, slug, name, description, full_description, hospital_id, price_min, tags, images, benefits, hospitals(slug, name, location_en, location_kr)\"\n    )\n    .eq(\"hospital_id\", hospitalId)\n    .order(\"name\", { ascending: true });\n\n  if (error) {\n    console.error(\"[getHospitalTreatments]\", error);\n    return [];\n  }\n\n  return (data || []).map(mapTreatmentRow).filter(Boolean);\n};\n"],"names":[],"mappings":"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","ignoreList":[1]}