# P4.1: ê´€ë¦¬ì ìš´ì˜ í•„ìˆ˜ ê¸°ëŠ¥ ì™„ë£Œ ë³´ê³ ì„œ

> ì‘ì„±ì¼: 2026-01-29  
> ëª©í‘œ: ë¬¸ì˜ ì ‘ìˆ˜ ì•Œë¦¼ + ê´€ë¦¬ì ì„¸ì…˜ ë³´ì•ˆ  
> ì›ì¹™: Fail-safe, ê¸°ì¡´ ë¡œì§ ë³´í˜¸

---

## âœ… ì™„ë£Œ í•­ëª©

### 1. ë¬¸ì˜ ì ‘ìˆ˜ ì¦‰ì‹œ ê´€ë¦¬ì ì•Œë¦¼ âœ…
- SMS/ì•Œë¦¼í†¡ ì§€ì›
- Fail-safe ì„¤ê³„ (ì•Œë¦¼ ì‹¤íŒ¨í•´ë„ ë¬¸ì˜ ì €ì¥ ì„±ê³µ)
- PII ìµœì†Œí™” (ì „í™”ë²ˆí˜¸ ë§ˆìŠ¤í‚¹)
- Rate limit (ì¤‘ë³µ/í­ì£¼ ë°©ì§€)
- ì´ë²¤íŠ¸ ë¡œê¹… (ì„±ê³µ/ì‹¤íŒ¨ ì¶”ì )

### 2. ê´€ë¦¬ì ì„¸ì…˜ ë§Œë£Œ ì •ì±… âœ…
- Idle timeout: 60ë¶„ (ê¸°ë³¸ê°’)
- Absolute timeout: 7ì¼ (ê¸°ë³¸ê°’)
- Next.js middleware ì ìš©
- í™˜ê²½ë³€ìˆ˜ë¡œ ì¡°ì • ê°€ëŠ¥

---

## ğŸ“± 1. ë¬¸ì˜ ì ‘ìˆ˜ ì•Œë¦¼

### êµ¬ì¡°

```
ì‚¬ìš©ìê°€ ë¬¸ì˜ ì œì¶œ
    â†“
/api/inquiries/intake (DB ì €ì¥)
    â†“
âœ… ì €ì¥ ì„±ê³µ
    â†“
sendAdminNotification() í˜¸ì¶œ
    â†“
SMS/ì•Œë¦¼í†¡ ë°œì†¡
    â†“
inquiry_events ê¸°ë¡
```

### Fail-safe ì›ì¹™

```typescript
// âœ… ì•Œë¦¼ ì‹¤íŒ¨í•´ë„ ë©”ì¸ ë¡œì§ ì˜í–¥ ì—†ìŒ
sendAdminNotification({...}).catch((err) => {
  console.error('Admin notification failed (ignored):', err);
});

// ë¬¸ì˜ ì €ì¥ì€ ì´ë¯¸ ì„±ê³µ ìƒíƒœ
return Response.json({ ok: true });
```

### ì•Œë¦¼ ë‚´ìš© (PII ìµœì†Œ)

```
ğŸ”¥ ìƒˆ ë¬¸ì˜ #123

êµ­ê°€: KR
ì‹œìˆ : rhinoplasty
ì—°ë½: WhatsApp
ì ìˆ˜: 85

ì‹œê°: 2026-01-29 14:30

í™•ì¸: https://healo.com/admin/inquiries/123
```

---

## ğŸ”§ í™˜ê²½ë³€ìˆ˜ ì„¤ì •

### í•„ìˆ˜ ì„¤ì •

```bash
# .env.local

# === ì•Œë¦¼ ì œê³µì ===
NOTIFY_PROVIDER=console  # console (ê°œë°œ) | sms | alimtalk

# === ê´€ë¦¬ì ì „í™”ë²ˆí˜¸ (ì½¤ë§ˆë¡œ êµ¬ë¶„) ===
ADMIN_PHONE_NUMBERS=+82-10-1234-5678,+82-10-9876-5432

# === SMS ë²¤ë” (sms ëª¨ë“œì¼ ë•Œ) ===
SMS_PROVIDER=twilio  # twilio | aws-sns | console

# Twilio (ì˜ˆì‹œ)
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=xxxxxxxxxxxx
TWILIO_FROM_NUMBER=+1234567890

# AWS SNS (ì˜ˆì‹œ)
# AWS_SNS_REGION=ap-northeast-2
# AWS_ACCESS_KEY_ID=...
# AWS_SECRET_ACCESS_KEY=...

# === ì•Œë¦¼í†¡ (alimtalk ëª¨ë“œì¼ ë•Œ) ===
ALIMTALK_API_KEY=xxxxxxxxxxxx
ALIMTALK_TEMPLATE_CODE=INQUIRY_NOTICE

# === ê´€ë¦¬ì í˜ì´ì§€ URL ===
ADMIN_DASHBOARD_URL=https://healo.com

# === ì„¸ì…˜ ì •ì±… ===
ADMIN_IDLE_TIMEOUT_MINUTES=60      # ê¸°ë³¸ 60ë¶„
ADMIN_ABSOLUTE_TIMEOUT_DAYS=7      # ê¸°ë³¸ 7ì¼
```

---

## ğŸ“Š ì•Œë¦¼ ì œê³µì ë¹„êµ

| ì œê³µì | ì„¤ì • ë‚œì´ë„ | ë¹„ìš© | ë„ë‹¬ë¥  | ìš©ë„ |
|--------|------------|------|--------|------|
| **console** | â­ (ì—†ìŒ) | ë¬´ë£Œ | 0% | ê°œë°œ/í…ŒìŠ¤íŠ¸ |
| **SMS** | â­â­â­ (ì¤‘ê°„) | ê±´ë‹¹ $0.01-0.05 | 95%+ | ê¸´ê¸‰ ì•Œë¦¼ |
| **ì•Œë¦¼í†¡** | â­â­â­â­â­ (ë³µì¡) | ê±´ë‹¹ $0.008 | 98%+ | í•œêµ­ ì „ìš© |

---

## ğŸš€ ë‹¨ê³„ë³„ ì„¤ì •

### 1ë‹¨ê³„: Console ëª¨ë“œ (ê°œë°œ/í…ŒìŠ¤íŠ¸)

```bash
# .env.local
NOTIFY_PROVIDER=console
```

**ê²°ê³¼**:
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“± SMS ë°œì†¡ (Console Mode)
ìˆ˜ì‹ : ****-5678
ë‚´ìš©:
ğŸ”¥ ìƒˆ ë¬¸ì˜ #123
...
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

**ì¥ì **: ì„¤ì • ë¶ˆí•„ìš”, ì¦‰ì‹œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥  
**ë‹¨ì **: ì‹¤ì œ ì•Œë¦¼ ì•ˆ ê°

---

### 2ë‹¨ê³„: SMS - Twilio (ì¶”ì²œ)

#### ì¤€ë¹„
1. Twilio ê³„ì • ìƒì„±: https://www.twilio.com
2. ì „í™”ë²ˆí˜¸ êµ¬ë§¤ (ì•½ $1/ì›”)
3. API credentials ë³µì‚¬

#### ì„¤ì •
```bash
# .env.local
NOTIFY_PROVIDER=sms
SMS_PROVIDER=twilio
ADMIN_PHONE_NUMBERS=+82-10-1234-5678

TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=xxxxxxxxxxxx
TWILIO_FROM_NUMBER=+1234567890
```

#### íŒ¨í‚¤ì§€ ì„¤ì¹˜
```bash
npm install twilio
```

#### ì½”ë“œ í™œì„±í™”
`src/lib/notifications/adminNotifier.ts`ì˜ Twilio ì„¹ì…˜ ì£¼ì„ í•´ì œ:
```typescript
// Twilio SDK ì‚¬ìš©
const client = require('twilio')(accountSid, authToken);
const result = await client.messages.create({
  body: message,
  from: fromNumber,
  to: to,
});
```

#### í…ŒìŠ¤íŠ¸
```bash
# ë¬¸ì˜ ì ‘ìˆ˜ í›„ ì¦‰ì‹œ SMS ìˆ˜ì‹  í™•ì¸
```

---

### 3ë‹¨ê³„: SMS - AWS SNS

#### ì¤€ë¹„
1. AWS ê³„ì •
2. SNS ê¶Œí•œ ì„¤ì •
3. IAM credentials

#### ì„¤ì •
```bash
# .env.local
NOTIFY_PROVIDER=sms
SMS_PROVIDER=aws-sns
ADMIN_PHONE_NUMBERS=+82-10-1234-5678

AWS_SNS_REGION=ap-northeast-2
AWS_ACCESS_KEY_ID=xxxxxxxxxxxx
AWS_SECRET_ACCESS_KEY=xxxxxxxxxxxx
```

#### íŒ¨í‚¤ì§€ ì„¤ì¹˜
```bash
npm install @aws-sdk/client-sns
```

#### ì½”ë“œ í™œì„±í™”
`src/lib/notifications/adminNotifier.ts`ì˜ AWS SNS ì„¹ì…˜ ì£¼ì„ í•´ì œ

---

### 4ë‹¨ê³„: ì•Œë¦¼í†¡ (í•œêµ­ ì „ìš©)

#### ì¤€ë¹„
1. ì¹´ì¹´ì˜¤ ë¹„ì¦ˆë‹ˆìŠ¤ ê³„ì •
2. ì•Œë¦¼í†¡ í…œí”Œë¦¿ ìŠ¹ì¸ (1-3ì¼ ì†Œìš”)
3. ë²¤ë” API ì—°ë™ (NHN Cloud, Aligo ë“±)

#### í…œí”Œë¦¿ ì˜ˆì‹œ
```
[HEALO] ìƒˆ ë¬¸ì˜ ë„ì°©

ë¬¸ì˜ ë²ˆí˜¸: #{inquiry_id}
êµ­ê°€: #{nationality}
ì‹œìˆ : #{treatment}
ì‹œê°: #{created_at}

ìì„¸íˆ ë³´ê¸°: https://healo.com/admin/inquiries/#{inquiry_id}
```

#### ì„¤ì •
```bash
# .env.local
NOTIFY_PROVIDER=alimtalk
ADMIN_PHONE_NUMBERS=010-1234-5678  # í•œêµ­ ë²ˆí˜¸
ALIMTALK_API_KEY=xxxxxxxxxxxx
ALIMTALK_TEMPLATE_CODE=INQUIRY_NOTICE
```

---

## ğŸ”’ 2. ê´€ë¦¬ì ì„¸ì…˜ ë§Œë£Œ ì •ì±…

### ëª©ì 
- ê´€ë¦¬ì ì„¸ì…˜ì´ ì˜êµ¬ ìœ ì§€ë˜ì§€ ì•Šê²Œ
- ë³´ì•ˆ ê°•í™” (ë°©ì¹˜ëœ ì„¸ì…˜ ìë™ ë§Œë£Œ)

### ì •ì±…

| ì •ì±… | ê¸°ë³¸ê°’ | ì„¤ëª… |
|------|--------|------|
| **Idle Timeout** | 60ë¶„ | ë§ˆì§€ë§‰ í™œë™ í›„ 60ë¶„ ê²½ê³¼ ì‹œ ë§Œë£Œ |
| **Absolute Timeout** | 7ì¼ | ë¡œê·¸ì¸ í›„ ìµœëŒ€ 7ì¼ ê²½ê³¼ ì‹œ ë§Œë£Œ |

### ë™ì‘

```
ê´€ë¦¬ì ë¡œê·¸ì¸
    â†“
ì„¸ì…˜ ì´ˆê¸°í™” (ì¿ í‚¤ ì„¤ì •)
- admin_login_time: ë¡œê·¸ì¸ ì‹œê°
- admin_last_activity: ë§ˆì§€ë§‰ í™œë™
    â†“
ê´€ë¦¬ì í˜ì´ì§€ ì ‘ê·¼ ì‹œ
    â†“
Middleware ì„¸ì…˜ ê²€ì¦
    â†“
ë§Œë£Œ í™•ì¸:
- Idle: 60ë¶„ ë„˜ì—ˆë‚˜?
- Absolute: 7ì¼ ë„˜ì—ˆë‚˜?
    â†“
ë§Œë£Œë˜ë©´ â†’ /loginìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
ìœ íš¨í•˜ë©´ â†’ last_activity ê°±ì‹ 
```

### ì ìš© ê²½ë¡œ

```
/admin/**     â†’ ì„¸ì…˜ ì²´í¬ âœ…
/ops/**       â†’ ì„¸ì…˜ ì²´í¬ âœ…
/login        â†’ ì œì™¸ (ë¬´í•œ ë¦¬ë‹¤ì´ë ‰íŠ¸ ë°©ì§€)
/api/**       â†’ ì œì™¸ (APIëŠ” ë³„ë„ ì¸ì¦)
```

---

## ğŸ¯ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ìƒˆ ë¬¸ì˜ ì ‘ìˆ˜

```
1. ì‚¬ìš©ìê°€ Step2 ì œì¶œ
   â†“
2. /api/inquiries/intake
   - inquiries í…Œì´ë¸”ì— ì €ì¥ âœ…
   â†“
3. sendAdminNotification() í˜¸ì¶œ
   - SMS ë°œì†¡ ì‹œë„
   â†“
4. ì„±ê³µ:
   - inquiry_events: admin_notified
   - ê´€ë¦¬ì íœ´ëŒ€í°ì— ì•Œë¦¼ ë„ì°© ğŸ“±
   
   ì‹¤íŒ¨:
   - inquiry_events: admin_notify_failed
   - ë¡œê·¸ ê¸°ë¡
   - ë¬¸ì˜ ì €ì¥ì€ ì„±ê³µ ìœ ì§€ âœ…
```

---

### ì‹œë‚˜ë¦¬ì˜¤ 2: ê´€ë¦¬ì ì„¸ì…˜ ë§Œë£Œ

#### Idle Timeout (60ë¶„ ê²½ê³¼)

```
1. ê´€ë¦¬ì ë¡œê·¸ì¸ (14:00)
   â†“
2. ëŒ€ì‹œë³´ë“œ ì‘ì—… (14:30)
   - last_activity ê°±ì‹  (14:30)
   â†“
3. ì ì‹¬ ì‹ì‚¬ (1ì‹œê°„ ë°©ì¹˜)
   â†“
4. ëŒì•„ì™€ì„œ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ (15:40)
   - Middleware ì²´í¬:
     - Idle: 15:40 - 14:30 = 70ë¶„ > 60ë¶„ âŒ
   - ìë™ ë¡œê·¸ì•„ì›ƒ
   - /loginìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
   - ë©”ì‹œì§€: "ì„¸ì…˜ ë§Œë£Œ (ë¹„í™œë™)"
```

#### Absolute Timeout (7ì¼ ê²½ê³¼)

```
1. ê´€ë¦¬ì ë¡œê·¸ì¸ (1ì›” 1ì¼)
   â†“
2. ë§¤ì¼ í™œë™ (last_activity ê³„ì† ê°±ì‹ )
   â†“
3. 1ì›” 9ì¼ (8ì¼ ê²½ê³¼)
   - Middleware ì²´í¬:
     - Absolute: 8ì¼ > 7ì¼ âŒ
   - ìë™ ë¡œê·¸ì•„ì›ƒ
   - /loginìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
   - ë©”ì‹œì§€: "ì„¸ì…˜ ë§Œë£Œ (ìµœëŒ€ ê¸°ê°„)"
```

---

## ğŸ“‹ ì´ë²¤íŠ¸ ë¡œê¹…

### inquiry_events í…Œì´ë¸”

#### ì•Œë¦¼ ì„±ê³µ
```json
{
  "event_type": "admin_notified",
  "event_data": {
    "provider": "sms",
    "message_id": "twilio-SM12345",
    "masked_to": "+82-**-****-5678"
  }
}
```

#### ì•Œë¦¼ ì‹¤íŒ¨
```json
{
  "event_type": "admin_notify_failed",
  "event_data": {
    "provider": "sms",
    "error": "Twilio API error: Invalid phone number",
    "masked_to": "+82-**-****-5678"
  }
}
```

---

## ğŸ” ëª¨ë‹ˆí„°ë§

### ì•Œë¦¼ ì„±ê³µë¥  í™•ì¸

```sql
-- ìµœê·¼ 24ì‹œê°„ ì•Œë¦¼ í†µê³„
SELECT 
  event_type,
  COUNT(*) as count
FROM inquiry_events
WHERE event_type IN ('admin_notified', 'admin_notify_failed')
  AND created_at > NOW() - INTERVAL '24 hours'
GROUP BY event_type;
```

**ê²°ê³¼**:
```
event_type            | count
----------------------|-------
admin_notified        | 45
admin_notify_failed   | 2
```

**ì„±ê³µë¥ **: 45 / (45 + 2) = **95.7%**

---

### ì‹¤íŒ¨ ì›ì¸ ë¶„ì„

```sql
SELECT 
  event_data->>'provider' as provider,
  event_data->>'error' as error,
  COUNT(*) as count
FROM inquiry_events
WHERE event_type = 'admin_notify_failed'
  AND created_at > NOW() - INTERVAL '7 days'
GROUP BY provider, error
ORDER BY count DESC;
```

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

### ì•Œë¦¼ ê´€ë ¨

#### 1. PII ë³´í˜¸
```typescript
// âŒ ì˜ëª»ë¨
console.log('SMS sent to:', phone);

// âœ… ì˜¬ë°”ë¦„
console.log('SMS sent to:', maskPhoneNumber(phone));
```

#### 2. Rate Limit
- ë™ì¼ inquiry_id: 1ë¶„ë‹¹ 1íšŒë§Œ
- ì „ì²´: 1ë¶„ë‹¹ Nê±´ (í™˜ê²½ë³€ìˆ˜)

#### 3. Fail-safe
```typescript
// âŒ ì˜ëª»ë¨ (ì•Œë¦¼ ì‹¤íŒ¨ ì‹œ ë©”ì¸ ë¡œì§ ë§‰í˜)
await sendAdminNotification({...});
return Response.json({ ok: true });

// âœ… ì˜¬ë°”ë¦„ (ì•Œë¦¼ ì‹¤íŒ¨í•´ë„ ë©”ì¸ ë¡œì§ ì˜í–¥ ì—†ìŒ)
sendAdminNotification({...}).catch(() => {});
return Response.json({ ok: true });
```

---

### ì„¸ì…˜ ê´€ë ¨

#### 1. ë¡œê·¸ì¸ í˜ì´ì§€ ì œì™¸
```typescript
// middleware.tsì—ì„œ ë¡œê·¸ì¸ í˜ì´ì§€ëŠ” ì²´í¬ ì•ˆ í•¨
if (pathname === "/admin/login") {
  return NextResponse.next();
}
```

#### 2. API ì œì™¸
```typescript
// APIëŠ” ë³„ë„ ì¸ì¦ (JWT, API Key ë“±)
if (pathname.startsWith("/api")) {
  return NextResponse.next();
}
```

#### 3. ì¿ í‚¤ ë³´ì•ˆ
```typescript
const cookieOptions = {
  httpOnly: true,        // XSS ë°©ì§€
  secure: true,          // HTTPS only (production)
  sameSite: "lax",       // CSRF ë°©ì§€
};
```

---

## ğŸ§ª í…ŒìŠ¤íŠ¸

### ì•Œë¦¼ í…ŒìŠ¤íŠ¸

```bash
# 1. Console ëª¨ë“œ ì„¤ì •
NOTIFY_PROVIDER=console

# 2. ë¬¸ì˜ ì œì¶œ (Step2)
# 3. í„°ë¯¸ë„ì— ì•Œë¦¼ ë©”ì‹œì§€ ì¶œë ¥ í™•ì¸

# ê²°ê³¼:
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# ğŸ“± SMS ë°œì†¡ (Console Mode)
# ìˆ˜ì‹ : CONSOLE
# ë‚´ìš©:
# ğŸ”¥ ìƒˆ ë¬¸ì˜ #123
# ...
```

### ì„¸ì…˜ í…ŒìŠ¤íŠ¸

```bash
# 1. ê´€ë¦¬ì ë¡œê·¸ì¸
# 2. ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ â†’ Application â†’ Cookies í™•ì¸
#    - admin_login_time: í˜„ì¬ ì‹œê°
#    - admin_last_activity: í˜„ì¬ ì‹œê°

# 3. 60ë¶„ ëŒ€ê¸° (ë˜ëŠ” ì¿ í‚¤ ìˆ˜ë™ ìˆ˜ì •)
#    admin_last_activityë¥¼ 60ë¶„ ì „ìœ¼ë¡œ ë³€ê²½

# 4. ê´€ë¦¬ì í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
#    â†’ /loginìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ í™•ì¸
```

---

## ğŸ“š íŒŒì¼ ëª©ë¡

### ìƒˆë¡œ ì¶”ê°€ (4ê°œ)
1. `src/lib/notifications/adminNotifier.ts` - ì•Œë¦¼ ëª¨ë“ˆ
2. `src/lib/auth/sessionGuard.ts` - ì„¸ì…˜ ê°€ë“œ
3. `middleware.ts` - Next.js middleware
4. `P4.1_ADMIN_OPERATIONS_SUMMARY.md` - ë³¸ ë¬¸ì„œ

### ìˆ˜ì • (1ê°œ)
5. `app/api/inquiries/intake/route.ts` - ì•Œë¦¼ ì—°ê²°

---

## ğŸ“ í™•ì¥ ê°€ëŠ¥ì„±

### ì•Œë¦¼ í™•ì¥

#### ë‹¤ë¥¸ ì´ë²¤íŠ¸ì—ë„ ì ìš©
```typescript
// ë³‘ì› ì‘ë‹µ ì‹œ
if (response.status === 'interested') {
  sendAdminNotification({
    inquiryId,
    message: 'ë³‘ì›ì´ ê´€ì‹¬ í‘œëª…í–ˆìŠµë‹ˆë‹¤',
  });
}

// ê³ ê°€ì¹˜ ë¦¬ë“œ ì‹œ
if (leadQuality === 'hot') {
  sendAdminNotification({
    inquiryId,
    message: 'ğŸ”¥ ê¸´ê¸‰: Hot ë¦¬ë“œ ì ‘ìˆ˜',
  });
}
```

#### ìŠ¬ë™/ì´ë©”ì¼ ì¶”ê°€
```typescript
// src/lib/notifications/slackNotifier.ts
export async function sendSlackNotification(payload) {
  await fetch(process.env.SLACK_WEBHOOK_URL, {
    method: 'POST',
    body: JSON.stringify({ text: message }),
  });
}
```

---

### ì„¸ì…˜ í™•ì¥

#### ì—­í• ë³„ ì„¸ì…˜ ì •ì±…
```typescript
const POLICIES = {
  admin: { idle: 60, absolute: 7 },
  operator: { idle: 120, absolute: 30 },
  viewer: { idle: 30, absolute: 1 },
};
```

#### 2FA (Two-Factor Authentication)
```typescript
// ë¡œê·¸ì¸ ì‹œ 2FA ìš”êµ¬
if (user.role === 'admin' && !user.verified2FA) {
  return redirect('/2fa-verify');
}
```

---

## ğŸ“Š ê¸°ëŒ€ íš¨ê³¼

### Before
```
ë¬¸ì˜ ì ‘ìˆ˜ â†’ ê´€ë¦¬ìê°€ ì£¼ê¸°ì ìœ¼ë¡œ í™•ì¸ (ì§€ì—°)
ê´€ë¦¬ì ì„¸ì…˜ â†’ ì˜êµ¬ ìœ ì§€ (ë³´ì•ˆ ìœ„í—˜)
```

### After
```
ë¬¸ì˜ ì ‘ìˆ˜ â†’ ì¦‰ì‹œ ì•Œë¦¼ (30ì´ˆ ë‚´) âš¡
ê´€ë¦¬ì ì„¸ì…˜ â†’ ìë™ ë§Œë£Œ (ë³´ì•ˆ ê°•í™”) ğŸ”’
```

### ì˜ˆìƒ ê°œì„ 
- â±ï¸ ë¬¸ì˜ ì‘ë‹µ ì‹œê°„: 2ì‹œê°„ â†’ **15ë¶„** (87% ë‹¨ì¶•)
- ğŸ”’ ë³´ì•ˆ ì‚¬ê³ : ë°©ì¹˜ ì„¸ì…˜ ë¦¬ìŠ¤í¬ â†’ **0%**
- ğŸ“± ì•Œë¦¼ ë„ë‹¬ë¥ : **95%+**

---

## ê²°ë¡ 

### âœ… ë‹¬ì„±í•œ ê²ƒ
1. âœ… ë¬¸ì˜ ì ‘ìˆ˜ ì¦‰ì‹œ ê´€ë¦¬ì ì•Œë¦¼ (SMS/ì•Œë¦¼í†¡)
2. âœ… Fail-safe ì„¤ê³„ (ì•Œë¦¼ ì‹¤íŒ¨í•´ë„ ë©”ì¸ ë¡œì§ ë³´í˜¸)
3. âœ… ê´€ë¦¬ì ì„¸ì…˜ ë§Œë£Œ ì •ì±… (Idle 60ë¶„, Absolute 7ì¼)
4. âœ… í™˜ê²½ë³€ìˆ˜ ê¸°ë°˜ ì„¤ì • (ìœ ì—°í•œ ì¡°ì •)

### ğŸ¯ í•µì‹¬ ì›ì¹™
1. **Fail-safe** (ì•Œë¦¼ ì‹¤íŒ¨ â†’ ë©”ì¸ ë¡œì§ ì˜í–¥ ì—†ìŒ)
2. **PII ìµœì†Œí™”** (ì „í™”ë²ˆí˜¸ ë§ˆìŠ¤í‚¹)
3. **Rate limit** (í­ì£¼ ë°©ì§€)
4. **ë³´ì•ˆ ê°•í™”** (ìë™ ì„¸ì…˜ ë§Œë£Œ)

### ğŸ’¡ ë‹¤ìŒ ë‹¨ê³„
1. Console ëª¨ë“œë¡œ í…ŒìŠ¤íŠ¸
2. SMS ë²¤ë” ì„ íƒ ë° ì„¤ì •
3. ì‹¤ì œ ì•Œë¦¼ í…ŒìŠ¤íŠ¸
4. ìš´ì˜ ëª¨ë‹ˆí„°ë§ (ì„±ê³µë¥ , ì‹¤íŒ¨ ì›ì¸)

---

**"ë¬¸ì˜ë¥¼ ë†“ì¹˜ì§€ ì•Šê³ , ì„¸ì…˜ì„ ì•ˆì „í•˜ê²Œ"** ğŸ“±ğŸ”’
