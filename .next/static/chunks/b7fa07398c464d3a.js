(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,61374,t=>{"use strict";var e=t.i(18065);let r=t=>{switch(t){case"ko":return"ko-KR";case"zh":return"zh-CN";case"ja":return"ja-JP";default:return"en-US"}},a=(t,e="en")=>{let a=((t,e="en")=>{let a=Number(t);return Number.isNaN(a)?"":a.toLocaleString(r(e))})(t,e);return a?`$${a}`:""};t.s(["formatCurrencyUSD",0,a,"formatDate",0,(t,e="en")=>t?(t instanceof Date?t:new Date(t)).toLocaleDateString(r(e)):"","formatPriceRange",0,(t,r,i="en")=>{let s=null!=t,l=null!=r;return s&&l?`${a(t,i)} - ${a(r,i)}`:s?`${a(t,i)}${(0,e.t)("price.plus",i)}`:l?`${(0,e.t)("price.upTo",i)} ${a(r,i)}`:(0,e.t)("price.askQuote",i)}])},35131,6212,t=>{"use strict";var e=t.i(61374);let r=t=>{if(!t)return[];if(Array.isArray(t))return t.filter(Boolean);if("string"==typeof t){let e=t.trim();if(e.startsWith("[")&&e.endsWith("]"))try{let t=JSON.parse(e);if(Array.isArray(t))return t.filter(Boolean)}catch(t){console.error("Image parse error:",t)}if(e.startsWith("http"))return[e]}return[]};t.s(["mapHospitalRow",0,t=>t?{id:t.id,slug:t.slug??null,name:t.name,location:t.location??t.location_en??t.location_kr??"",address_detail:t.address_detail??"",description:t.description,tags:Array.isArray(t.tags)?t.tags:[],rating:t.rating??0,reviewsCount:t.reviews_count??0,images:r(t.images),latitude:t.latitude??null,longitude:t.longitude??null,operating_hours:t.operating_hours??null,doctorProfile:t.doctor_profile||null}:null,"mapTreatmentRow",0,t=>t?{id:t.id,slug:t.slug??null,title:t.name,desc:t.description,fullDescription:t.full_description,hospitalId:t.hospital_id,price:(0,e.formatPriceRange)(t.price_min,t.price_max,"en"),tags:Array.isArray(t.tags)?t.tags:[],images:r(t.images),benefits:Array.isArray(t.benefits)?t.benefits:[],hospitalName:t.hospitals?.name||"Partner Hospital",hospitalSlug:t.hospitals?.slug||null,hospitalLocation:t.hospitals?.location||t.hospitals?.location_en||t.hospitals?.location_kr||"Seoul, Korea"}:null,"normalizeImages",0,r],35131),t.s(["getLocationColumn",0,(t=null)=>"KR"===(t||(()=>{if("u"<typeof document)return"ENG";let t=document.cookie.split(";").find(t=>t.trim().startsWith("googtrans="));return t&&"ko"===t.split("=")[1].split("/").pop()?"KR":"ENG"})())?"location_kr":"location_en"],6212)},31278,t=>{"use strict";let e=(0,t.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);t.s(["Loader2",()=>e],31278)},78830,t=>{"use strict";var e=t.i(43476),r=t.i(71645),a=t.i(18566),i=t.i(31278),s=t.i(31466),l=t.i(35131),o=t.i(6212),n=t.i(59423);function u({type:t,title:u,withCta:c=!1}){let d=(0,a.useRouter)(),[p,m]=(0,r.useState)([]),[g,h]=(0,r.useState)(0),[f,y]=(0,r.useState)(!0),[b,x]=(0,r.useState)(!1),[C,N]=(0,r.useState)(null),_=(0,r.useCallback)(async(e=!1)=>{e||x(!0);let r=e?(g+1)*6:0,a="treatment"===t?"treatments":"hospitals",i=(0,o.getLocationColumn)();try{let o=s.supabaseClient.from(a).select("treatment"===t?`*, hospitals(slug, name, location:${i})`:`*, location:${i}`).range(r,r+6-1),{data:n,error:u}=await o;if(u)throw console.error(`[PaginatedList ${t}] Fetch Error:`,u),N(u),u;N(null);let c=n.map(e=>"treatment"===t?(0,l.mapTreatmentRow)(e):(0,l.mapHospitalRow)(e)).filter(Boolean);e?(m(t=>[...t,...c]),h(t=>t+1)):(m(c),h(0)),y(6===n.length)}catch(e){console.error(`[PaginatedList ${t}] Fetch Error:`,e),N(e)}finally{x(!1)}},[t,g]);return(0,r.useEffect)(()=>{m([]),h(0),y(!0),_(!1)},[t,_]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.CardListSection,{title:u,items:p,onCardClick:e=>{let r=p.find(t=>t.id===e),a=r?.slug||r?.id||e;d.push(`/${"treatment"===t?"treatments":"hospitals"}/${a}`)},type:t}),!1,(0,e.jsx)("div",{className:"flex justify-center mt-8 mb-12",children:b&&0===g?(0,e.jsxs)("div",{className:"flex items-center gap-2 text-teal-600 font-bold",children:[(0,e.jsx)(i.Loader2,{className:"animate-spin"})," Loading..."]}):f?(0,e.jsx)("button",{onClick:()=>_(!0),className:"px-8 py-3 bg-white border border-gray-200 text-gray-600 rounded-full font-bold shadow-sm hover:bg-gray-50 hover:border-teal-500 hover:text-teal-600 transition",children:b?(0,e.jsx)(i.Loader2,{className:"animate-spin"}):"Load More +"}):p.length>0?(0,e.jsx)("span",{className:"text-gray-300 text-sm font-bold",children:"End of list"}):null}),c&&(0,e.jsx)("div",{className:"mt-10",children:(0,e.jsx)(n.PersonalConciergeCTA,{onClick:()=>d.push("/inquiry")})})]})}t.s(["default",()=>u])}]);