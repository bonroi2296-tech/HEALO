{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/HEALO_Demo/src/lib/policies.js"],"sourcesContent":["export const EFFECTIVE_DATE = \"2026-01-24\";\n\nexport const PRIVACY_SECTIONS = [\n  {\n    title: \"Introduction\",\n    content: [\n      \"HEALO is an AI medical concierge platform that helps global patients find and connect with medical providers in Korea. We are not a medical institution and do not provide diagnosis or treatment.\",\n      \"This Privacy Policy explains what information we collect, how we use it, and the choices you have.\",\n    ],\n  },\n  {\n    title: \"Information We Collect\",\n    content: [\n      \"We collect information you provide directly, such as your name, email, and contact details.\",\n      \"If you choose to request concierge support, we may collect health-related information you voluntarily provide (e.g., symptoms, desired procedures, or records) for matching purposes.\",\n      \"We may collect technical information such as device and usage data to improve service reliability.\",\n    ],\n  },\n  {\n    title: \"How We Use Information\",\n    content: [\n      \"To deliver concierge services, respond to inquiries, and match you with suitable medical providers.\",\n      \"To communicate with you about your requests and service updates.\",\n      \"To improve platform performance, safety, and user experience.\",\n    ],\n  },\n  {\n    title: \"Sharing of Information\",\n    content: [\n      \"We share personal and medical information only with your consent and only with medical providers relevant to your request.\",\n      \"We do not sell personal information to third parties.\",\n      \"We may share information with service providers that help us operate the platform (e.g., hosting or email delivery), under confidentiality obligations.\",\n    ],\n  },\n  {\n    title: \"Data Retention\",\n    content: [\n      \"We retain information only as long as necessary to provide services or meet legal obligations.\",\n      \"You may request deletion of your account and related data, subject to legal requirements.\",\n    ],\n  },\n  {\n    title: \"Data Security\",\n    content: [\n      \"We apply industry-standard safeguards to protect data against unauthorized access, loss, or misuse.\",\n      \"No system is completely secure, and we cannot guarantee absolute security.\",\n    ],\n  },\n  {\n    title: \"User Rights\",\n    content: [\n      \"You may request access to, correction of, or deletion of your personal information.\",\n      \"You may withdraw consent for data sharing at any time, which may limit our ability to provide concierge services.\",\n    ],\n  },\n  {\n    title: \"Contact Information\",\n    content: [\n      \"If you have any questions about this Privacy Policy or your data, contact us at contact@healo.com.\",\n    ],\n  },\n];\n\nexport const TERMS_SECTIONS = [\n  {\n    title: \"Service Description\",\n    content: [\n      \"HEALO provides an AI medical concierge service that helps users explore medical options and connect with medical providers. HEALO is not a medical institution.\",\n      \"We do not provide medical diagnosis, treatment, or medical advice.\",\n    ],\n  },\n  {\n    title: \"User Responsibilities\",\n    content: [\n      \"You agree to provide accurate and up-to-date information when submitting inquiries.\",\n      \"You are responsible for any decisions made based on information provided by medical providers.\",\n      \"You must comply with applicable laws and hospital policies.\",\n    ],\n  },\n  {\n    title: \"Medical Disclaimer\",\n    content: [\n      \"HEALO is a platform that facilitates communication between users and medical providers.\",\n      \"Any medical care, diagnosis, or treatment is provided solely by the medical providers, not by HEALO.\",\n      \"You acknowledge that medical outcomes may vary and are not guaranteed by HEALO.\",\n    ],\n  },\n  {\n    title: \"Limitation of Liability\",\n    content: [\n      \"HEALO is not responsible for medical outcomes, side effects, or malpractice by medical providers.\",\n      \"HEALO is not liable for disputes between users and medical providers.\",\n      \"To the maximum extent permitted by law, HEALO disclaims liability for indirect or consequential damages.\",\n    ],\n  },\n  {\n    title: \"Intellectual Property\",\n    content: [\n      \"All content, branding, and software on the HEALO platform are owned by HEALO or its licensors.\",\n      \"You may not copy, modify, or distribute our content without permission.\",\n    ],\n  },\n  {\n    title: \"Termination\",\n    content: [\n      \"We may suspend or terminate access to the platform if you violate these terms or misuse the service.\",\n      \"You may discontinue use of the platform at any time.\",\n    ],\n  },\n  {\n    title: \"Governing Law\",\n    content: [\n      \"These terms are governed by the laws of the Republic of Korea.\",\n      \"Any disputes shall be resolved in the Seoul Central District Court.\",\n    ],\n  },\n  {\n    title: \"Contact Information\",\n    content: [\n      \"If you have questions about these Terms, contact us at contact@healo.com.\",\n    ],\n  },\n];\n\nconst buildPolicyText = (sections) => {\n  const lines = [`Last Updated: ${EFFECTIVE_DATE}`, \"\"];\n\n  sections.forEach((section) => {\n    lines.push(section.title);\n    section.content.forEach((paragraph) => {\n      lines.push(paragraph);\n    });\n    lines.push(\"\");\n  });\n\n  return lines.join(\"\\n\").trim();\n};\n\nexport const PRIVACY_POLICY = buildPolicyText(PRIVACY_SECTIONS);\nexport const TERMS_OF_SERVICE = buildPolicyText(TERMS_SECTIONS);\n"],"names":[],"mappings":";;;;;;;;;;;;AAAO,MAAM,iBAAiB;AAEvB,MAAM,mBAAmB;IAC9B;QACE,OAAO;QACP,SAAS;YACP;YACA;SACD;IACH;IACA;QACE,OAAO;QACP,SAAS;YACP;YACA;YACA;SACD;IACH;IACA;QACE,OAAO;QACP,SAAS;YACP;YACA;YACA;SACD;IACH;IACA;QACE,OAAO;QACP,SAAS;YACP;YACA;YACA;SACD;IACH;IACA;QACE,OAAO;QACP,SAAS;YACP;YACA;SACD;IACH;IACA;QACE,OAAO;QACP,SAAS;YACP;YACA;SACD;IACH;IACA;QACE,OAAO;QACP,SAAS;YACP;YACA;SACD;IACH;IACA;QACE,OAAO;QACP,SAAS;YACP;SACD;IACH;CACD;AAEM,MAAM,iBAAiB;IAC5B;QACE,OAAO;QACP,SAAS;YACP;YACA;SACD;IACH;IACA;QACE,OAAO;QACP,SAAS;YACP;YACA;YACA;SACD;IACH;IACA;QACE,OAAO;QACP,SAAS;YACP;YACA;YACA;SACD;IACH;IACA;QACE,OAAO;QACP,SAAS;YACP;YACA;YACA;SACD;IACH;IACA;QACE,OAAO;QACP,SAAS;YACP;YACA;SACD;IACH;IACA;QACE,OAAO;QACP,SAAS;YACP;YACA;SACD;IACH;IACA;QACE,OAAO;QACP,SAAS;YACP;YACA;SACD;IACH;IACA;QACE,OAAO;QACP,SAAS;YACP;SACD;IACH;CACD;AAED,MAAM,kBAAkB,CAAC;IACvB,MAAM,QAAQ;QAAC,CAAC,cAAc,EAAE,gBAAgB;QAAE;KAAG;IAErD,SAAS,OAAO,CAAC,CAAC;QAChB,MAAM,IAAI,CAAC,QAAQ,KAAK;QACxB,QAAQ,OAAO,CAAC,OAAO,CAAC,CAAC;YACvB,MAAM,IAAI,CAAC;QACb;QACA,MAAM,IAAI,CAAC;IACb;IAEA,OAAO,MAAM,IAAI,CAAC,MAAM,IAAI;AAC9B;AAEO,MAAM,iBAAiB,gBAAgB;AACvC,MAAM,mBAAmB,gBAAgB"}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/HEALO_Demo/src/lib/policyContent.js"],"sourcesContent":["import { PRIVACY_POLICY, TERMS_OF_SERVICE } from \"./policies\";\n\nexport const PRIVACY_CONTENT = PRIVACY_POLICY;\nexport const TERMS_CONTENT = TERMS_OF_SERVICE;\n"],"names":[],"mappings":";;;;;;AAAA;;AAEO,MAAM,kBAAkB,wIAAc;AACtC,MAAM,gBAAgB,0IAAgB"}},
    {"offset": {"line": 171, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/HEALO_Demo/src/supabase.js"],"sourcesContent":["// src/supabase.js\nimport { createClient } from '@supabase/supabase-js';\n\n// 1. Project URL (Next.js public env only)\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\n\n// 2. Publishable Key (Next.js public env only)\nconst supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n\n// 환경 변수 검증 (프로덕션 배포 전 필수)\nif (!supabaseUrl || !supabaseKey) {\n  const missing = [];\n    if (!supabaseUrl) missing.push('NEXT_PUBLIC_SUPABASE_URL');\n    if (!supabaseKey) missing.push('NEXT_PUBLIC_SUPABASE_ANON_KEY');\n  \n  throw new Error(\n    `❌ Supabase 환경 변수가 설정되지 않았습니다!\\n` +\n    `누락된 변수: ${missing.join(', ')}\\n` +\n    `프로젝트 루트에 .env.local 파일을 생성하고 다음을 추가하세요:\\n` +\n    `NEXT_PUBLIC_SUPABASE_URL=your_url\\n` +\n    `NEXT_PUBLIC_SUPABASE_ANON_KEY=your_key`\n  );\n}\n\nexport const supabase = createClient(supabaseUrl, supabaseKey);"],"names":[],"mappings":";;;;AAAA,kBAAkB;AAClB;;AAEA,2CAA2C;AAC3C,MAAM;AAEN,+CAA+C;AAC/C,MAAM;AAEN,0BAA0B;AAC1B;;AAcO,MAAM,WAAW,IAAA,8LAAY,EAAC,aAAa"}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/HEALO_Demo/src/components/Modals.jsx"],"sourcesContent":["// src/components/Modals.jsx\r\nimport React from 'react';\r\nimport { X, Star, ThumbsUp } from 'lucide-react';\r\n\r\n// --- [공통] 약관 팝업 ---\r\nexport const PolicyModal = ({ isOpen, onClose, title, content }) => {\r\n    if (!isOpen) return null;\r\n    return (\r\n        <div className=\"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200 text-left\">\r\n            <div className=\"bg-white rounded-2xl w-full max-w-2xl max-h-[80vh] flex flex-col shadow-2xl\">\r\n                <div className=\"p-5 border-b border-gray-100 flex justify-between items-center sticky top-0 bg-white rounded-t-2xl z-10\">\r\n                    <h3 className=\"text-lg font-bold text-gray-900\">{title}</h3>\r\n                    <button onClick={onClose} className=\"p-2 hover:bg-gray-100 rounded-full transition\"><X size={20} className=\"text-gray-500\"/></button>\r\n                </div>\r\n                <div className=\"p-6 overflow-y-auto whitespace-pre-wrap text-sm text-gray-600 leading-relaxed h-full text-left\">\r\n                    {content}\r\n                </div>\r\n                <div className=\"p-5 border-t border-gray-100 sticky bottom-0 bg-white rounded-b-2xl\">\r\n                    <button onClick={onClose} className=\"w-full bg-teal-600 text-white font-bold py-3 rounded-xl hover:bg-teal-700 transition\">I Understand</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// --- 리뷰 전체보기 팝업 ---\r\nexport const ReviewModal = ({ isOpen, onClose, reviews }) => {\r\n    if (!isOpen) return null;\r\n    return (\r\n        <div className=\"fixed inset-0 z-[110] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200\">\r\n            <div className=\"bg-white rounded-3xl w-full max-w-2xl max-h-[85vh] flex flex-col shadow-2xl\">\r\n                <div className=\"p-6 border-b border-gray-100 flex justify-between items-center sticky top-0 bg-white rounded-t-3xl z-10\">\r\n                    <h3 className=\"text-xl font-bold text-gray-900\">All Reviews ({reviews.length})</h3>\r\n                    <button onClick={onClose} className=\"p-2 hover:bg-gray-100 rounded-full transition\"><X size={24} className=\"text-gray-400\"/></button>\r\n                </div>\r\n                <div className=\"p-6 overflow-y-auto space-y-6\">\r\n                    {reviews.map(review => (\r\n                        <div key={review.id} className=\"border border-gray-100 rounded-2xl p-5 shadow-sm bg-white\">\r\n                            <div className=\"flex justify-between items-start mb-3\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div className=\"w-10 h-10 bg-teal-50 text-teal-600 rounded-full flex items-center justify-center font-bold text-sm\">\r\n                                        {review.name[0]}\r\n                                    </div>\r\n                                    <div>\r\n                                        <div className=\"flex items-center gap-2\">\r\n                                            <p className=\"font-bold text-gray-900\">{review.name}</p>\r\n                                            <span className=\"text-[10px] text-gray-400 font-bold uppercase\">{review.country}</span>\r\n                                        </div>\r\n                                        <p className=\"text-xs text-gray-400\">{review.date}</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"flex text-yellow-400 gap-0.5\">\r\n                                    {[...Array(5)].map((_, i) => <Star key={i} size={14} fill=\"currentColor\"/>)}\r\n                                </div>\r\n                            </div>\r\n                            <p className=\"text-sm text-gray-600 leading-relaxed mb-4\">{review.content}</p>\r\n                            <div className=\"flex gap-2 mb-3\">\r\n                                <div className=\"w-16 h-16 bg-gray-200 rounded-xl flex items-center justify-center text-[10px] text-gray-500 font-bold cursor-pointer hover:bg-gray-300 transition\">Review 1</div>\r\n                                {review.id === 1 && <div className=\"w-16 h-16 bg-gray-200 rounded-xl flex items-center justify-center text-[10px] text-gray-500 font-bold cursor-pointer hover:bg-gray-300 transition\">Review 2</div>}\r\n                            </div>\r\n                            <div className=\"flex items-center gap-1 text-xs text-gray-400\">\r\n                                <ThumbsUp size={12}/> Helpful ({review.helpful})\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};"],"names":[],"mappings":";;;;;;;AAAA,4BAA4B;AAC5B;AACA;AAAA;AAAA;;;;AAGO,MAAM,cAAc,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE;IAC3D,IAAI,CAAC,QAAQ,OAAO;IACpB,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAG,WAAU;sCAAmC;;;;;;sCACjD,8OAAC;4BAAO,SAAS;4BAAS,WAAU;sCAAgD,cAAA,8OAAC,iMAAC;gCAAC,MAAM;gCAAI,WAAU;;;;;;;;;;;;;;;;;8BAE/G,8OAAC;oBAAI,WAAU;8BACV;;;;;;8BAEL,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC;wBAAO,SAAS;wBAAS,WAAU;kCAAuF;;;;;;;;;;;;;;;;;;;;;;AAK/I;AAGO,MAAM,cAAc,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE;IACpD,IAAI,CAAC,QAAQ,OAAO;IACpB,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAG,WAAU;;gCAAkC;gCAAc,QAAQ,MAAM;gCAAC;;;;;;;sCAC7E,8OAAC;4BAAO,SAAS;4BAAS,WAAU;sCAAgD,cAAA,8OAAC,iMAAC;gCAAC,MAAM;gCAAI,WAAU;;;;;;;;;;;;;;;;;8BAE/G,8OAAC;oBAAI,WAAU;8BACV,QAAQ,GAAG,CAAC,CAAA,uBACT,8OAAC;4BAAoB,WAAU;;8CAC3B,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDAAI,WAAU;8DACV,OAAO,IAAI,CAAC,EAAE;;;;;;8DAEnB,8OAAC;;sEACG,8OAAC;4DAAI,WAAU;;8EACX,8OAAC;oEAAE,WAAU;8EAA2B,OAAO,IAAI;;;;;;8EACnD,8OAAC;oEAAK,WAAU;8EAAiD,OAAO,OAAO;;;;;;;;;;;;sEAEnF,8OAAC;4DAAE,WAAU;sEAAyB,OAAO,IAAI;;;;;;;;;;;;;;;;;;sDAGzD,8OAAC;4CAAI,WAAU;sDACV;mDAAI,MAAM;6CAAG,CAAC,GAAG,CAAC,CAAC,GAAG,kBAAM,8OAAC,0MAAI;oDAAS,MAAM;oDAAI,MAAK;mDAAlB;;;;;;;;;;;;;;;;8CAGhD,8OAAC;oCAAE,WAAU;8CAA8C,OAAO,OAAO;;;;;;8CACzE,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAI,WAAU;sDAAoJ;;;;;;wCAClK,OAAO,EAAE,KAAK,mBAAK,8OAAC;4CAAI,WAAU;sDAAoJ;;;;;;;;;;;;8CAE3L,8OAAC;oCAAI,WAAU;;sDACX,8OAAC,0NAAQ;4CAAC,MAAM;;;;;;wCAAK;wCAAW,OAAO,OAAO;wCAAC;;;;;;;;2BAxB7C,OAAO,EAAE;;;;;;;;;;;;;;;;;;;;;AAgC3C"}},
    {"offset": {"line": 493, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/HEALO_Demo/src/legacy-pages/InquiryPage.jsx"],"sourcesContent":["\"use client\";\n\n// src/pages/InquiryPage.jsx\nimport React, { useState, useRef, useEffect, useMemo } from 'react';\nimport { ChevronLeft, Bot, MessageCircle, ClipboardList, ArrowRight, AlertCircle, Headset, UploadCloud, File, X, Check } from 'lucide-react';\nimport { PRIVACY_CONTENT, TERMS_CONTENT } from '../lib/policyContent';\nimport { supabase } from '../supabase'; \nimport { PolicyModal } from '../components/Modals';\nimport { useToast } from '../components/Toast';\nimport { getLangCodeFromCookie } from '../lib/i18n';\nimport { event } from '../lib/ga';\nimport { useChat } from 'ai/react';\n\n// ✅ [수정 1] props에 treatments 추가 (App.jsx에서 받아옴)\nexport const InquiryPage = ({ setView, mode, setMode, onClose, treatments }) => {\n  const toast = useToast(); // Toast 사용 준비\n  \n  // ✅ DB 데이터만 사용\n  const allTreatments = Array.isArray(treatments) ? treatments : [];\n  \n  const {\n    messages,\n    input,\n    setInput,\n    handleInputChange,\n    append,\n    error: chatError,\n  } = useChat({\n    api: '/api/chat',\n    initialMessages: [\n      {\n        id: 'intro',\n        role: 'assistant',\n        content:\n          \"Hello! I'm HEALO AI Agent. Ask me about treatments (e.g., 'anti-aging', 'cancer care').\",\n      },\n    ],\n  });\n  const chatContainerRef = useRef(null);\n  const [activeModal, setActiveModal] = useState(null);\n  const lastChatErrorRef = useRef(null);\n  const sessionId = useMemo(() => {\n    if (typeof crypto !== 'undefined' && crypto.randomUUID) return crypto.randomUUID();\n    return `sess_${Date.now()}_${Math.random().toString(36).slice(2, 10)}`;\n  }, []);\n\n  const getUtmParams = () => {\n    if (typeof window === 'undefined') return null;\n    const params = new URLSearchParams(window.location.search);\n    const keys = ['utm_source', 'utm_medium', 'utm_campaign', 'utm_term', 'utm_content'];\n    const utm = {};\n    keys.forEach((key) => {\n      const value = params.get(key);\n      if (value) utm[key] = value;\n    });\n    return Object.keys(utm).length ? utm : null;\n  };\n\n  // 폼 상태 관리 (Step1: 5필수 + message 선택)\n  const [formData, setFormData] = useState({\n      firstName: '', lastName: '', email: '', nationality: '', spokenLanguage: '',\n      contactMethod: '', contactId: '', treatmentType: '', preferredDate: '',\n      preferredDateFlex: false,\n      message: '', file: null, privacyAgreed: false\n  });\n\n  const handleSend = () => {\n    const trimmed = input.trim();\n    if (!trimmed) return;\n    const lang = getLangCodeFromCookie();\n    const page = typeof window !== 'undefined' ? window.location.pathname : null;\n    const utm = getUtmParams();\n    append(\n      { role: 'user', content: trimmed },\n      { body: { lang, session_id: sessionId, page, utm } }\n    ).catch(() => {\n      toast.error(\"AI response failed. Please try again.\");\n    });\n    setInput('');\n  };\n  \n  useEffect(() => {\n    if (!chatError) {\n      lastChatErrorRef.current = null;\n      return;\n    }\n    if (lastChatErrorRef.current === chatError) return;\n    lastChatErrorRef.current = chatError;\n    toast.error(\"AI response failed. Please try again.\");\n  }, [chatError, toast]);\n\n  useEffect(() => {\n    if (chatContainerRef.current)\n      chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;\n  }, [messages]);\n\n  // ✅ Funnel 이벤트: /inquiry 진입 시 step1_viewed\n  useEffect(() => {\n    if (mode === 'form') {\n      fetch('/api/inquiries/event', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ eventType: 'step1_viewed' }),\n      }).catch(() => {});\n    }\n  }, [mode]);\n\n  const handleBack = () => {\n      if (mode === 'select') { if (onClose) onClose(); else setView('home'); } else { setMode('select'); }\n  };\n\n  const handleFileChange = (e) => {\n      const file = e.target.files[0];\n      if (file) {\n          setFormData({ ...formData, file: file });\n      }\n  };\n\n  const handleFormSubmit = async () => {\n    // Step1 필수 5개: treatment_type, nationality, spoken_language, contact(이메일 OR method+id), preferred(날짜 OR flex)\n    const hasContact = (formData.email?.trim()) || (formData.contactMethod && formData.contactId?.trim());\n    const hasPreferred = !!(formData.preferredDate?.trim()) || !!formData.preferredDateFlex;\n    if (!formData.treatmentType?.trim()) { toast.error(\"Please select Main Concern.\"); return; }\n    if (!formData.nationality?.trim()) { toast.error(\"Please enter Nationality.\"); return; }\n    if (!formData.spokenLanguage?.trim()) { toast.error(\"Please enter Spoken Language.\"); return; }\n    if (!hasContact) { toast.error(\"Please provide Email or Messenger (method + ID).\"); return; }\n    if (!hasPreferred) { toast.error(\"Please set Preferred Date or check Flexible.\"); return; }\n    if (!formData.privacyAgreed) {\n      toast.error(\"Please agree to the Privacy Policy.\");\n      return;\n    }\n\n    try {\n        let attachmentPath = null;\n        let attachmentsList = [];\n        if (formData.file) {\n            const filePath = `inquiry/${Date.now()}_${formData.file.name}`;\n            const { error: uploadError } = await supabase.storage\n                .from('attachments')\n                .upload(filePath, formData.file);\n            if (uploadError) throw uploadError;\n            attachmentPath = filePath;\n            attachmentsList = [\n              { path: filePath, name: formData.file.name, type: formData.file.type || null },\n            ];\n        }\n\n        const preferredDateVal = formData.preferredDateFlex ? null : (formData.preferredDate\n          ? new Date(formData.preferredDate).toISOString().split('T')[0]\n          : null);\n\n        const { data: insertedRow, error } = await supabase\n          .from('inquiries')\n          .insert([\n            {\n              first_name: formData.firstName || null,\n              last_name: formData.lastName || null,\n              email: formData.email || null,\n              nationality: formData.nationality,\n              spoken_language: formData.spokenLanguage,\n              contact_method: formData.contactMethod || null,\n              contact_id: formData.contactId || null,\n              treatment_type: formData.treatmentType,\n              preferred_date: preferredDateVal,\n              preferred_date_flex: !!formData.preferredDateFlex,\n              message: formData.message || null,\n              attachment: attachmentPath,\n              attachments: attachmentsList,\n              intake: {},\n              status: '대기중',\n            },\n          ])\n          .select('id, public_token')\n          .single();\n\n        if (error) throw error;\n\n        const inquiryId = insertedRow?.id;\n        const publicToken = insertedRow?.public_token;\n\n        if (inquiryId) {\n          try {\n            const res = await fetch('/api/inquiry/normalize', {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify({\n                inquiry_id: inquiryId,\n                source_type: 'inquiry_form',\n                source_inquiry_id: inquiryId,\n              }),\n            });\n            if (!res.ok) {\n              const j = await res.json().catch(() => ({}));\n              console.error('[InquiryForm] normalize API error:', res.status, j);\n            }\n          } catch (e) {\n            console.error('[InquiryForm] normalize call failed:', e);\n          }\n        }\n\n        if (typeof window !== 'undefined' && inquiryId != null && publicToken != null) {\n          try {\n            sessionStorage.setItem('inquiry_success', JSON.stringify({ inquiryId, publicToken: String(publicToken) }));\n          } catch (_) {}\n        }\n\n        // ✅ Funnel 이벤트: Step1 제출 성공\n        if (inquiryId != null) {\n          fetch('/api/inquiries/event', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ eventType: 'step1_submitted', inquiryId }),\n          }).catch(() => {});\n        }\n\n        const submitLang = getLangCodeFromCookie();\n        if (submitLang) {\n          const isLikelySlug =\n            typeof formData.treatmentType === \"string\" &&\n            /^[a-z0-9]+(?:-[a-z0-9]+)*$/.test(formData.treatmentType);\n          const treatmentSlug = isLikelySlug ? formData.treatmentType : null;\n          event(\"submit_inquiry\", { source_type: \"inquiry_form\", treatment_slug: treatmentSlug, lang: submitLang });\n        }\n        setView('success');\n    } catch (error) {\n        console.error('Error:', error);\n        toast.error(\"Failed to submit inquiry. Please try again.\");\n    }\n  };\n\n  return (\n    <div className=\"max-w-5xl mx-auto px-4 py-8 md:py-16 text-center animate-in fade-in slide-in-from-bottom-4\">\n      <button onClick={handleBack} className=\"flex items-center text-sm font-bold text-gray-500 mb-6 md:mb-8 hover:text-teal-600\">\n          <ChevronLeft size={16}/> {mode === 'select' ? 'Back' : 'Back to Options'}\n      </button>\n      \n      {mode === 'select' && (\n        <>\n          <h1 className=\"text-2xl md:text-3xl font-bold text-gray-900 mb-8 md:mb-12\">How would you like to proceed?</h1>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6\">\n            <div\n                onClick={() => {\n                  const startLang = getLangCodeFromCookie();\n                  if (startLang) {\n                    event(\"start_inquiry\", {\n                      source_type: \"ai_agent\",\n                      lang: startLang,\n                    });\n                  }\n                  setMode('ai');\n                }}\n                className=\"bg-white border border-teal-100 rounded-3xl p-6 md:p-8 hover:border-teal-500 hover:shadow-xl transition-all cursor-pointer group flex flex-row md:flex-col items-center text-left md:text-center gap-4 md:gap-0\"\n            >\n                <div className=\"w-14 h-14 md:w-20 md:h-20 bg-teal-50 rounded-full flex items-center justify-center md:mb-6 shrink-0 group-hover:bg-teal-100 transition-colors\"><Bot size={28} className=\"text-teal-600 md:w-10 md:h-10\" /></div>\n                <div>\n                    <h3 className=\"text-lg md:text-2xl font-bold text-gray-900 mb-1 md:mb-2\">AI Agent</h3>\n                    <p className=\"text-gray-500 text-xs md:text-sm leading-relaxed\">Instant answers & recommendations.</p>\n                </div>\n            </div>\n\n            <div onClick={() => setMode('human')} className=\"bg-white border border-teal-100 rounded-3xl p-6 md:p-8 hover:border-green-500 hover:shadow-xl transition-all cursor-pointer group flex flex-row md:flex-col items-center text-left md:text-center gap-4 md:gap-0\">\n                <div className=\"w-14 h-14 md:w-20 md:h-20 bg-green-50 rounded-full flex items-center justify-center md:mb-6 shrink-0 group-hover:bg-green-100 transition-colors\"><MessageCircle size={28} className=\"text-green-600 md:w-10 md:h-10\" /></div>\n                <div>\n                    <h3 className=\"text-lg md:text-2xl font-bold text-gray-900 mb-1 md:mb-2\">Human Agent</h3>\n                    <p className=\"text-gray-500 text-xs md:text-sm leading-relaxed\">Chat via WhatsApp or Line.</p>\n                </div>\n            </div>\n\n            <div\n                onClick={() => {\n                  const startLang = getLangCodeFromCookie();\n                  if (startLang) {\n                    event(\"start_inquiry\", {\n                      source_type: \"inquiry_form\",\n                      lang: startLang,\n                    });\n                  }\n                  setMode('form');\n                }}\n                className=\"bg-white border border-teal-100 rounded-3xl p-6 md:p-8 hover:border-blue-500 hover:shadow-xl transition-all cursor-pointer group flex flex-row md:flex-col items-center text-left md:text-center gap-4 md:gap-0\"\n            >\n                <div className=\"w-14 h-14 md:w-20 md:h-20 bg-blue-50 rounded-full flex items-center justify-center md:mb-6 shrink-0 group-hover:bg-blue-100 transition-colors\"><ClipboardList size={28} className=\"text-blue-600 md:w-10 md:h-10\" /></div>\n                <div>\n                    <h3 className=\"text-lg md:text-2xl font-bold text-gray-900 mb-1 md:mb-2\">Inquiry Form</h3>\n                    <p className=\"text-gray-500 text-xs md:text-sm leading-relaxed\">Get a specific quote via email.</p>\n                </div>\n            </div>\n          </div>\n        </>\n      )}\n\n      {mode === 'ai' && (\n        <div className=\"bg-white border border-gray-200 rounded-3xl shadow-xl h-[600px] flex flex-col p-4 animate-in fade-in slide-in-from-right-4\">\n           <div className=\"flex-1 overflow-y-auto mb-4 bg-gray-50 rounded-2xl p-4 text-left space-y-4\" ref={chatContainerRef}>\n             {messages.map((msg) => {\n                 const partText = Array.isArray(msg.parts)\n                   ? msg.parts\n                       .filter((p) => p.type === 'text')\n                       .map((p) => p.text)\n                       .join('')\n                   : '';\n                 const displayText = msg.content || partText || '';\n                 return (\n                 <div key={msg.id} className={`flex gap-3 ${msg.role === 'user' ? 'flex-row-reverse' : ''}`}>\n                     <div className={`w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold shrink-0 ${msg.role === 'assistant' ? 'bg-teal-600' : 'bg-gray-400'}`}> {msg.role === 'assistant' ? 'AI' : 'U'} </div>\n                     <div className={`p-3 rounded-2xl shadow-sm text-sm border max-w-[80%] ${msg.role === 'assistant' ? 'bg-white border-gray-100 rounded-tl-none' : 'bg-teal-600 text-white border-teal-600 rounded-tr-none'}`}> \n                        <p className=\"whitespace-pre-wrap\">{displayText}</p>\n                     </div>\n                 </div>\n             );\n             })}\n           </div>\n\n           <div className=\"relative\">\n             <input \n               type=\"text\" \n               value={input} \n               onChange={handleInputChange} \n               onKeyPress={(e) => e.key === 'Enter' && handleSend()} \n               placeholder=\"Ask about 'Lifting' or 'Cancer'...\" \n               className=\"w-full border border-gray-300 rounded-full py-3 px-5 pr-12 focus:outline-none focus:ring-2 focus:ring-teal-500\" \n             />\n             <button onClick={handleSend} className=\"absolute right-2 top-1.5 bg-teal-600 text-white p-1.5 rounded-full hover:bg-teal-700 transition\"><ArrowRight size={18}/></button>\n           </div>\n\n           <div className=\"mt-4 bg-gray-50 border border-gray-200 rounded-xl p-3 flex items-start gap-2.5 text-left\">\n                <AlertCircle size={16} className=\"text-gray-500 shrink-0 mt-0.5\" />\n                <p className=\"text-xs text-gray-600 leading-relaxed\">\n                    <span className=\"font-bold text-gray-800\">Disclaimer:</span> AI may produce inaccurate information. \n                    This is not medical advice. Please consult with our coordinators for confirmation.\n                </p>\n           </div>\n        </div>\n      )}\n\n      {mode === 'human' && (\n        <div className=\"animate-in fade-in slide-in-from-right-4\">\n            <div className=\"text-center mb-8 md:mb-12\">\n                <div className=\"w-14 h-14 md:w-16 md:h-16 bg-teal-50 rounded-full flex items-center justify-center mx-auto mb-4 text-teal-600\">\n                    <Headset size={28} className=\"md:w-8 md:h-8\" />\n                </div>\n                <h2 className=\"text-2xl md:text-3xl font-bold text-gray-900 mb-2\">Human Agent</h2>\n                <p className=\"text-gray-500 text-sm md:text-base max-w-lg mx-auto leading-relaxed\">\n                    Connect directly with our expert medical coordinators.<br className=\"hidden md:block\"/>\n                    We reply within 10 mins during business hours.\n                </p>\n            </div>\n\n            <div className=\"flex flex-col md:grid md:grid-cols-3 gap-3 md:gap-6 max-w-md md:max-w-none mx-auto\">\n                <a href=\"#\" className=\"group bg-white border border-gray-200 rounded-2xl p-4 md:p-8 hover:border-[#25D366] hover:shadow-xl transition-all cursor-pointer flex flex-row md:flex-col items-center gap-4 md:gap-0 text-left md:text-center\">\n                    <div className=\"w-12 h-12 md:w-16 md:h-16 bg-[#25D366]/10 rounded-xl md:rounded-2xl flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform duration-300\">\n                        <MessageCircle className=\"w-6 h-6 md:w-8 md:h-8 text-[#25D366]\"/>\n                    </div>\n                    <div className=\"flex-1\">\n                        <h3 className=\"text-base md:text-xl font-bold text-gray-900 md:mb-1\">WhatsApp</h3>\n                        <p className=\"text-xs md:text-sm text-gray-400 md:mb-6\">Global Support</p>\n                    </div>\n                    <div className=\"text-[#25D366] font-bold text-sm flex items-center gap-1 group-hover:gap-2 transition-all\">\n                        <span className=\"hidden md:inline\">Chat Now</span> <ArrowRight size={20}/>\n                    </div>\n                </a>\n                \n                <a href=\"#\" className=\"group bg-white border border-gray-200 rounded-2xl p-4 md:p-8 hover:border-[#06C755] hover:shadow-xl transition-all cursor-pointer flex flex-row md:flex-col items-center gap-4 md:gap-0 text-left md:text-center\">\n                    <div className=\"w-12 h-12 md:w-16 md:h-16 bg-[#06C755]/10 rounded-xl md:rounded-2xl flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform duration-300\">\n                        <MessageCircle className=\"w-6 h-6 md:w-8 md:h-8 text-[#06C755]\"/>\n                    </div>\n                    <div className=\"flex-1\">\n                        <h3 className=\"text-base md:text-xl font-bold text-gray-900 md:mb-1\">LINE</h3>\n                        <p className=\"text-xs md:text-sm text-gray-400 md:mb-6\">Japan / Thai</p>\n                    </div>\n                    <div className=\"text-[#06C755] font-bold text-sm flex items-center gap-1 group-hover:gap-2 transition-all\">\n                        <span className=\"hidden md:inline\">Chat Now</span> <ArrowRight size={20}/>\n                    </div>\n                </a>\n\n                <a href=\"#\" className=\"group bg-white border border-gray-200 rounded-2xl p-4 md:p-8 hover:border-[#07C160] hover:shadow-xl transition-all cursor-pointer flex flex-row md:flex-col items-center gap-4 md:gap-0 text-left md:text-center\">\n                    <div className=\"w-12 h-12 md:w-16 md:h-16 bg-[#07C160]/10 rounded-xl md:rounded-2xl flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform duration-300\">\n                        <MessageCircle className=\"w-6 h-6 md:w-8 md:h-8 text-[#07C160]\"/>\n                    </div>\n                    <div className=\"flex-1\">\n                        <h3 className=\"text-base md:text-xl font-bold text-gray-900 md:mb-1\">WeChat</h3>\n                        <p className=\"text-xs md:text-sm text-gray-400 md:mb-6\">China Support</p>\n                    </div>\n                    <div className=\"text-[#07C160] font-bold text-sm flex items-center gap-1 group-hover:gap-2 transition-all\">\n                        <span className=\"hidden md:inline\">Chat Now</span> <ArrowRight size={20}/>\n                    </div>\n                </a>\n            </div>\n        </div>\n      )}\n\n      {mode === 'form' && (\n        <div className=\"bg-white border border-gray-200 rounded-3xl shadow-xl p-5 md:p-8 text-left max-w-2xl mx-auto animate-in fade-in slide-in-from-right-4 mb-20\">\n            <div className=\"mb-6 md:mb-8 border-b border-gray-100 pb-4 md:pb-6\">\n                <h2 className=\"text-xl md:text-2xl font-bold text-gray-900 mb-2\">Inquiry Form</h2>\n                <p className=\"text-gray-500 text-xs md:text-sm\">Fill in the details for a personalized quote.</p>\n            </div>\n            \n            <div className=\"space-y-4 md:space-y-6\">\n                {/* 이름 (선택) */}\n                <div className=\"grid grid-cols-2 gap-3\">\n                    <div>\n                        <label className=\"block text-xs font-bold text-gray-700 mb-1 ml-1\">First Name</label>\n                        <input type=\"text\" value={formData.firstName} onChange={(e)=>setFormData({...formData, firstName: e.target.value})} className=\"w-full p-3 rounded-xl border border-gray-200 focus:border-teal-500 outline-none transition text-sm bg-gray-50/50\" placeholder=\"John\"/>\n                    </div>\n                    <div>\n                        <label className=\"block text-xs font-bold text-gray-700 mb-1 ml-1\">Last Name</label>\n                        <input type=\"text\" value={formData.lastName} onChange={(e)=>setFormData({...formData, lastName: e.target.value})} className=\"w-full p-3 rounded-xl border border-gray-200 focus:border-teal-500 outline-none transition text-sm bg-gray-50/50\" placeholder=\"Doe\"/>\n                    </div>\n                </div>\n\n                {/* 연락: 이메일 OR 메신저 (둘 중 하나 필수) */}\n                <div>\n                    <label className=\"block text-xs font-bold text-gray-700 mb-1 ml-1\">Email <span className=\"text-gray-400 font-normal\">(or Messenger below)</span></label>\n                    <input type=\"email\" value={formData.email} onChange={(e)=>setFormData({...formData, email: e.target.value})} className=\"w-full p-3 rounded-xl border border-gray-200 focus:border-teal-500 outline-none transition text-sm bg-gray-50/50\" placeholder=\"your@email.com\"/>\n                </div>\n\n                {/* 메신저: 선택 시에만 ID 입력칸 노출 */}\n                <div>\n                    <label className=\"block text-xs font-bold text-teal-700 mb-1 ml-1 flex gap-1 items-center\">\n                        <MessageCircle size={12}/> Messenger\n                    </label>\n                    <select value={formData.contactMethod} onChange={(e)=>setFormData({...formData, contactMethod: e.target.value})} className=\"w-full md:w-[35%] p-3 rounded-xl border border-gray-200 focus:border-teal-500 outline-none transition text-sm bg-gray-50 text-gray-700 font-medium\">\n                        <option value=\"\">Select...</option>\n                        <option value=\"WhatsApp\">WhatsApp</option>\n                        <option value=\"LINE\">LINE</option>\n                        <option value=\"WeChat\">WeChat</option>\n                        <option value=\"KakaoTalk\">KakaoTalk</option>\n                    </select>\n                    {formData.contactMethod && (\n                        <input type=\"text\" value={formData.contactId} onChange={(e)=>setFormData({...formData, contactId: e.target.value})} className=\"mt-2 w-full md:w-[65%] p-3 rounded-xl border border-gray-200 focus:border-teal-500 outline-none transition text-sm bg-white\" placeholder=\"ID / Phone\"/>\n                    )}\n                </div>\n\n                {/* 국적 & 언어 */}\n                <div className=\"grid grid-cols-2 gap-3\">\n                    <div>\n                        <label className=\"block text-xs font-bold text-gray-700 mb-1 ml-1\">Nationality <span className=\"text-red-500\">*</span></label>\n                        <input type=\"text\" value={formData.nationality} onChange={(e)=>setFormData({...formData, nationality: e.target.value})} className=\"w-full p-3 rounded-xl border border-gray-200 focus:border-teal-500 outline-none transition text-sm bg-gray-50/50\" placeholder=\"USA\"/>\n                    </div>\n                    <div>\n                        <label className=\"block text-xs font-bold text-gray-700 mb-1 ml-1\">Spoken Language <span className=\"text-red-500\">*</span></label>\n                        <input type=\"text\" value={formData.spokenLanguage} onChange={(e)=>setFormData({...formData, spokenLanguage: e.target.value})} className=\"w-full p-3 rounded-xl border border-gray-200 focus:border-teal-500 outline-none transition text-sm bg-gray-50/50\" placeholder=\"English\"/>\n                    </div>\n                </div>\n\n                {/* 날짜 & Main Concern */}\n                <div className=\"grid grid-cols-2 gap-3\">\n                    <div>\n                        <label className=\"block text-xs font-bold text-gray-700 mb-1 ml-1\">Preferred Date <span className=\"text-red-500\">*</span></label>\n                        <input type=\"date\" value={formData.preferredDate || ''} onChange={(e) => setFormData({ ...formData, preferredDate: e.target.value })} disabled={!!formData.preferredDateFlex} className=\"w-full p-3 rounded-xl border border-gray-200 focus:border-teal-500 outline-none transition text-xs md:text-sm bg-white text-gray-700 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed\"/>\n                        <label className=\"mt-2 flex items-center gap-2 cursor-pointer\">\n                            <input type=\"checkbox\" checked={!!formData.preferredDateFlex} onChange={(e) => setFormData({ ...formData, preferredDateFlex: e.target.checked, preferredDate: e.target.checked ? '' : formData.preferredDate })} className=\"rounded accent-teal-600\"/>\n                            <span className=\"text-[11px] text-gray-500\">Flexible (no specific date)</span>\n                        </label>\n                    </div>\n                    <div>\n                        <label className=\"block text-xs font-bold text-gray-700 mb-1 ml-1\">Main Concern <span className=\"text-red-500\">*</span></label>\n                        <select value={formData.treatmentType} onChange={(e)=>setFormData({...formData, treatmentType: e.target.value})} className=\"w-full p-3 rounded-xl border border-gray-200 focus:border-teal-500 outline-none transition text-xs md:text-sm bg-white text-gray-700\">\n                            <option value=\"\">Select...</option>\n                            <option value=\"chronic-fatigue-low-immunity\">Chronic fatigue / low immunity</option>\n                            <option value=\"digestive-problems\">Digestive problems</option>\n                            <option value=\"sleep-disorder-insomnia\">Sleep disorder / insomnia</option>\n                            <option value=\"stress-related-symptoms\">Stress-related symptoms</option>\n                            <option value=\"hormonal-imbalance\">Hormonal imbalance</option>\n                            <option value=\"post-illness-recovery\">Post-illness recovery</option>\n                            <option value=\"unexplained-chronic-symptoms\">Unexplained chronic symptoms</option>\n                            <option value=\"skin-problem\">Skin problem (acne, rash, pigmentation)</option>\n                            <option value=\"pain-management\">Pain management (neck, back, joints)</option>\n                            <option value=\"digestive-weight-management\">Digestive & weight management</option>\n                            <option value=\"general-health-checkup\">General health check-up</option>\n                            <option value=\"dental-problem\">Dental problem</option>\n                            <option value=\"vision-eye-problem\">Vision or eye problem</option>\n                            <option value=\"cosmetic-aesthetic\">Cosmetic / aesthetic concern</option>\n                            <option value=\"abnormal-test-suspected-cancer\">Abnormal test result / suspected cancer</option>\n                            <option value=\"other-medical-concern\">Other medical concern</option>\n                        </select>\n                    </div>\n                </div>\n\n                {/* 메시지 (선택, 권장) */}\n                <div>\n                    <label className=\"block text-xs font-bold text-gray-700 mb-1 ml-1\">Message <span className=\"text-gray-400 font-normal\">(optional, recommended)</span></label>\n                    {/* TODO: Main Concern별 placeholder 확장 (e.g. pain-management, vision-eye-problem 등) */}\n                    <textarea\n                      value={formData.message}\n                      onChange={(e)=>setFormData({...formData, message: e.target.value})}\n                      className=\"w-full border border-gray-200 p-3 rounded-xl focus:border-teal-500 outline-none transition text-sm bg-gray-50/50\"\n                      rows=\"4\"\n                      placeholder={\n                        formData.treatmentType === 'skin-problem'\n                          ? \"When did the skin issue start? Which area is affected?\"\n                          : formData.treatmentType === 'dental-problem'\n                          ? \"Which tooth or area is painful?\"\n                          : \"e.g. Back pain for 2 weeks; no prior diagnosis.\"\n                      }\n                    />\n                    <p className=\"mt-1 ml-1 text-[11px] text-gray-500 leading-relaxed\">\n                      {formData.treatmentType === 'skin-problem' ? (\n                        <>\n                          • When did it start?\n                          <br />\n                          • Which area is affected?\n                        </>\n                      ) : formData.treatmentType === 'dental-problem' ? (\n                        <>\n                          • Which tooth or area?\n                          <br />\n                          • Any pain or sensitivity?\n                        </>\n                      ) : (\n                        <>\n                          • What symptom or concern you have\n                          <br />\n                          • Which body part is affected\n                          <br />\n                          • Since when (days / weeks / months)\n                          <br />\n                          • Any previous diagnosis or test results (if any)\n                        </>\n                      )}\n                    </p>\n\n                </div>\n\n                {/* 파일 업로드 */}\n                <div>\n                    <input type=\"file\" id=\"fileInput\" className=\"hidden\" onChange={handleFileChange} />\n                    {formData.file ? (\n                        <div className=\"flex items-center justify-between border border-teal-200 bg-teal-50 rounded-xl p-3\">\n                            <div className=\"flex items-center gap-2 overflow-hidden\">\n                                <div className=\"bg-teal-100 p-1.5 rounded-lg text-teal-600 shrink-0\"><File size={16}/></div>\n                                <span className=\"text-xs font-bold text-teal-800 truncate\">{formData.file.name}</span>\n                            </div>\n                            <button onClick={() => setFormData({...formData, file: null})} className=\"p-1 hover:bg-teal-100 rounded-full text-teal-500\"><X size={16}/></button>\n                        </div>\n                    ) : (\n                        <div onClick={() => document.getElementById('fileInput').click()} className=\"border border-dashed border-gray-300 rounded-xl p-3 text-center hover:bg-gray-50 transition cursor-pointer flex items-center justify-center gap-2\">\n                            <UploadCloud className=\"text-gray-400\" size={18}/>\n                            <span className=\"text-xs text-gray-500\">Upload photo or medical record (X-ray, test result, diagnosis note if available)</span>\n                        </div>\n                    )}\n                </div>\n\n                {/* 약관 동의 */}\n                <div className=\"flex items-start gap-3 bg-gray-50 p-3 rounded-xl border border-gray-100\">\n                    <input type=\"checkbox\" id=\"privacyForm\" checked={formData.privacyAgreed} onChange={(e) => setFormData({...formData, privacyAgreed: e.target.checked})} className=\"mt-0.5 h-4 w-4 cursor-pointer accent-teal-600\"/>\n                    <label htmlFor=\"privacyForm\" className=\"text-[11px] text-gray-500 cursor-pointer select-none leading-snug\">\n                        I agree to the <span onClick={(e) => { e.preventDefault(); setActiveModal('privacy'); }} className=\"text-teal-600 font-bold hover:underline\">Privacy Policy</span>. <span className=\"text-red-500\">*</span>\n                    </label>\n                </div>\n\n                <button onClick={handleFormSubmit} className=\"w-full bg-teal-600 text-white py-4 rounded-xl font-bold hover:bg-teal-700 transition transform active:scale-95 shadow-lg shadow-teal-100 mt-2\">\n                    Send Inquiry\n                </button>\n            </div>\n        </div>\n      )}\n\n      {/* 약관 팝업 */}\n      <PolicyModal isOpen={activeModal === 'privacy'} onClose={() => setActiveModal(null)} title=\"Privacy Policy\" content={PRIVACY_CONTENT} />\n    </div>\n  );\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2255, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/HEALO_Demo/app/inquiry/InquiryWrapper.jsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { InquiryPage } from \"../../src/legacy-pages/InquiryPage\";\nimport { supabaseClient } from \"../../src/lib/data/supabaseClient\";\n\nexport default function InquiryWrapper() {\n  const router = useRouter();\n  const [mode, setMode] = useState(\"select\");\n  const [treatments, setTreatments] = useState([]);\n\n  const setView = useMemo(\n    () => (viewName) => {\n      switch (viewName) {\n        case \"home\":\n          router.push(\"/\");\n          break;\n        case \"list_treatment\":\n          router.push(\"/treatments\");\n          break;\n        case \"list_hospital\":\n          router.push(\"/hospitals\");\n          break;\n        case \"admin\":\n          router.push(\"/admin\");\n          break;\n        case \"inquiry\":\n          router.push(\"/inquiry\");\n          break;\n        case \"success\":\n          router.push(\"/success\");\n          break;\n        default:\n          router.push(\"/\");\n      }\n    },\n    [router]\n  );\n\n  useEffect(() => {\n    let isMounted = true;\n    supabaseClient\n      .from(\"treatments\")\n      .select(\"id, name, hospital_id, price_min, hospitals(name)\")\n      .then(({ data, error }) => {\n        if (!isMounted) return;\n        if (error) {\n          console.error(\"[InquiryWrapper] simple list error:\", error);\n          return;\n        }\n        if (data) {\n          setTreatments(\n            data.map((treatment) => ({\n              id: treatment.id,\n              title: treatment.name,\n              hospitalId: treatment.hospital_id,\n              hospital: treatment.hospitals?.name,\n              price: treatment.price_min\n                ? `$${treatment.price_min}`\n                : \"\",\n            }))\n          );\n        }\n      });\n    return () => {\n      isMounted = false;\n    };\n  }, []);\n\n  return (\n    <InquiryPage\n      setView={setView}\n      mode={mode}\n      setMode={setMode}\n      onClose={() => router.back()}\n      treatments={treatments}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAE/C,MAAM,UAAU,IAAA,gNAAO,EACrB,IAAM,CAAC;YACL,OAAQ;gBACN,KAAK;oBACH,OAAO,IAAI,CAAC;oBACZ;gBACF,KAAK;oBACH,OAAO,IAAI,CAAC;oBACZ;gBACF,KAAK;oBACH,OAAO,IAAI,CAAC;oBACZ;gBACF,KAAK;oBACH,OAAO,IAAI,CAAC;oBACZ;gBACF,KAAK;oBACH,OAAO,IAAI,CAAC;oBACZ;gBACF,KAAK;oBACH,OAAO,IAAI,CAAC;oBACZ;gBACF;oBACE,OAAO,IAAI,CAAC;YAChB;QACF,GACA;QAAC;KAAO;IAGV,IAAA,kNAAS,EAAC;QACR,IAAI,YAAY;QAChB,sJAAc,CACX,IAAI,CAAC,cACL,MAAM,CAAC,qDACP,IAAI,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE;YACpB,IAAI,CAAC,WAAW;YAChB,IAAI,OAAO;gBACT,QAAQ,KAAK,CAAC,uCAAuC;gBACrD;YACF;YACA,IAAI,MAAM;gBACR,cACE,KAAK,GAAG,CAAC,CAAC,YAAc,CAAC;wBACvB,IAAI,UAAU,EAAE;wBAChB,OAAO,UAAU,IAAI;wBACrB,YAAY,UAAU,WAAW;wBACjC,UAAU,UAAU,SAAS,EAAE;wBAC/B,OAAO,UAAU,SAAS,GACtB,CAAC,CAAC,EAAE,UAAU,SAAS,EAAE,GACzB;oBACN,CAAC;YAEL;QACF;QACF,OAAO;YACL,YAAY;QACd;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC,qJAAW;QACV,SAAS;QACT,MAAM;QACN,SAAS;QACT,SAAS,IAAM,OAAO,IAAI;QAC1B,YAAY;;;;;;AAGlB"}}]
}