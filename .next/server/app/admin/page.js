(()=>{var a={};a.id=698,a.ids=[698],a.modules={259:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>C.a,__next_app__:()=>K,handler:()=>M,routeModule:()=>L});var d=c(7553),e=c(4006),f=c(7798),g=c(4775),h=c(9373),i=c(3461),j=c(1020),k=c(6349),l=c(4365),m=c(6023),n=c(3747),o=c(4235),p=c(3938),q=c(261),r=c(6758),s=c(7243),t=c(6713),u=c(7527),v=c(2820),w=c(8216),x=c(7929),y=c(9551),z=c(9125),A=c(6439),B=c(5547),C=c.n(B),D=c(1287),E=c(1494),F=c(722),G=c(753),H=c(3954),I={};for(let a in D)0>["default","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(I[a]=()=>D[a]);c.d(b,I);let J={children:["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,5842)),"C:\\Users\\user\\Desktop\\HEALO_Demo\\app\\admin\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(c.bind(c,4022)),"C:\\Users\\user\\Desktop\\HEALO_Demo\\app\\layout.jsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,5547,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,5091,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,5270,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,8193,23)),"next/dist/client/components/builtin/unauthorized.js"]}]}.children,K={require:c,loadChunk:()=>Promise.resolve()},L=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:J},distDir:".next",relativeProjectDir:""});async function M(a,b,d){var B;L.isDev&&(0,h.addRequestMeta)(a,"devRequestTimingInternalsEnd",process.hrtime.bigint());let I=!!(0,h.getRequestMeta)(a,"minimalMode"),N="/admin/page";"/index"===N&&(N="/");let O=await L.prepare(a,b,{srcPage:N,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,pageIsDynamic:S,buildManifest:T,nextFontManifest:U,reactLoadableManifest:V,serverActionsManifest:W,clientReferenceManifest:X,subresourceIntegrityManifest:Y,prerenderManifest:Z,isDraftMode:$,resolvedPathname:_,revalidateOnlyGenerated:aa,routerServerContext:ab,nextConfig:ac,parsedUrl:ad,interceptionRoutePatterns:ae,deploymentId:af}=O,ag=(0,q.normalizeAppPath)(N),{isOnDemandRevalidate:ah}=O,ai=ac.experimental.ppr&&!ac.cacheComponents&&(0,H.isInterceptionRouteAppPath)(_)?null:L.match(_,Z),aj=!!Z.routes[_],ak=a.headers["user-agent"]||"",al=(0,t.getBotType)(ak),am=(0,p.isHtmlBotRequest)(a),an=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[s.NEXT_ROUTER_PREFETCH_HEADER],ao=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[s.RSC_HEADER],ap=(0,r.getIsPossibleServerAction)(a),aq=(0,m.checkIsAppPPREnabled)(ac.experimental.ppr);if(!(0,h.getRequestMeta)(a,"postponed")&&aq&&"1"===a.headers[x.NEXT_RESUME_HEADER]&&"POST"===a.method){let b=[];for await(let c of a)b.push(c);let c=Buffer.concat(b).toString("utf8");(0,h.addRequestMeta)(a,"postponed",c)}let ar=aq&&(null==(B=Z.routes[ag]??Z.dynamicRoutes[ag])?void 0:B.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?(0,h.getRequestMeta)(a,"postponed"):void 0,av=ar&&ao&&!an;I&&(av=av&&!!au);let aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=(!am||!ar)&&(!ak||(0,p.shouldServeStreamingMetadata)(ak,ac.htmlLimitedBots)),ay=!!((ai||aj||Z.routes[ag])&&!(am&&ar)),az=ar&&!0===ac.cacheComponents,aA=!0===L.isDev||!ay||"string"==typeof au||(az&&(0,h.getRequestMeta)(a,"onCacheEntryV2")?av&&!I:av),aB=am&&ar,aC=null;$||!ay||aA||ap||au||av||(aC=_);let aD=aC;!aD&&L.isDev&&(aD=_),L.isDev||$||!ay||!ao||av||(0,k.d)(a.headers);let aE={...D,tree:J,GlobalError:C(),handler:M,routeModule:L,__next_app__:K};W&&X&&(0,o.setManifestsSingleton)({page:N,clientReferenceManifest:X,serverActionsManifest:W});let aF=a.method||"GET",aG=(0,g.getTracer)(),aH=aG.getActiveScopeSpan(),aI=async()=>((null==ab?void 0:ab.render404)?await ab.render404(a,b,ad,!1):b.end("This page could not be found"),null);try{let f=L.getVaryHeader(_,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return L.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let a=aG.getRootSpanAttributes();if(!a)return;if(a.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${a.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let d=a.get("next.route");if(d){let a=`${aF} ${d}`;c.setAttributes({"next.route":d,"http.route":d,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aF} ${N}`)})},m=(0,h.getRequestMeta)(a,"incrementalCache"),o=async({span:e,postponed:f,fallbackRouteParams:g,forceStaticRender:i})=>{let l={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aE,Component:(0,j.T)(aE),params:R,routeModule:L,page:N,postponed:f,shouldWaitOnAllReady:aB,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||aA,buildManifest:T,nextFontManifest:U,reactLoadableManifest:V,subresourceIntegrityManifest:Y,setCacheStatus:null==ab?void 0:ab.setCacheStatus,setIsrStatus:null==ab?void 0:ab.setIsrStatus,setReactDebugChannel:null==ab?void 0:ab.setReactDebugChannel,sendErrorsToBrowser:null==ab?void 0:ab.sendErrorsToBrowser,dir:c(3873).join(process.cwd(),L.relativeProjectDir),isDraftMode:$,botType:al,isOnDemandRevalidate:ah,isPossibleServerAction:ap,assetPrefix:ac.assetPrefix,nextConfigOutput:ac.output,crossOrigin:ac.crossOrigin,trailingSlash:ac.trailingSlash,images:ac.images,previewProps:Z.preview,deploymentId:af,enableTainting:ac.experimental.taint,htmlLimitedBots:ac.htmlLimitedBots,reactMaxHeadersLength:ac.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:m,cacheLifeProfiles:ac.cacheLife,basePath:ac.basePath,serverActions:ac.experimental.serverActions,...as||at?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isDebugDynamicAccesses:as}:{},cacheComponents:!!ac.cacheComponents,experimental:{isRoutePPREnabled:ar,expireTime:ac.expireTime,staleTimes:ac.experimental.staleTimes,dynamicOnHover:!!ac.experimental.dynamicOnHover,inlineCss:!!ac.experimental.inlineCss,authInterrupts:!!ac.experimental.authInterrupts,clientTraceMetadata:ac.experimental.clientTraceMetadata||[],clientParamParsingOrigins:ac.experimental.clientParamParsingOrigins},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d,e)=>L.onRequestError(a,b,d,e,ab),err:(0,h.getRequestMeta)(a,"invokeError"),dev:L.isDev}};as&&(l.renderOpts.nextExport=!0,l.renderOpts.supportsDynamicResponse=!1,l.renderOpts.isDebugDynamicAccesses=as),i&&(l.renderOpts.supportsDynamicResponse=!1);let n=await k(e,l),{metadata:o}=n,{cacheControl:p,headers:q={},fetchTags:r,fetchMetrics:s}=o;if(r&&(q[x.NEXT_CACHE_TAGS_HEADER]=r),a.fetchMetrics=s,ay&&(null==p?void 0:p.revalidate)===0&&!L.isDev&&!ar){let a=o.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${_}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:u.CachedRouteKind.APP_PAGE,html:n,headers:q,rscData:o.flightData,postponed:o.postponed,status:o.statusCode,segmentData:o.segmentData},cacheControl:p}},p=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i,forceStaticRender:j=!1})=>{let k,l=!1===L.isDev,q=c||b.writableEnded;if(ah&&aa&&!f&&!I)return(null==ab?void 0:ab.render404)?await ab.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(k=(0,v.parseFallbackField)(ai.fallback)),k===v.FallbackMode.PRERENDER&&(0,t.isBot)(ak)&&(!ar||am)&&(k=v.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(k!==v.FallbackMode.NOT_FOUND||f)&&(k=v.FallbackMode.BLOCKING_STATIC_RENDER),!I&&k!==v.FallbackMode.BLOCKING_STATIC_RENDER&&aD&&!q&&!$&&S&&(l||!aj)){if((l||ai)&&k===v.FallbackMode.NOT_FOUND){if(ac.experimental.adapterPath)return await aI();throw new A.NoFallbackError}if(ar&&(ac.cacheComponents?!av:!ao)){let b=l&&"string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:ag,c=l&&(null==ai?void 0:ai.fallbackRouteParams)?(0,n.createOpaqueFallbackRouteParams)(ai.fallbackRouteParams):at?(0,n.getFallbackRouteParams)(ag,L):null,f=await L.handleResponse({cacheKey:b,req:a,nextConfig:ac,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:Z,isRoutePPREnabled:ar,responseGenerator:async()=>o({span:i,postponed:void 0,fallbackRouteParams:c,forceStaticRender:!1}),waitUntil:d.waitUntil,isMinimalMode:I});if(null===f)return null;if(f)return delete f.cacheControl,f}}let r=ah||g||!au?void 0:au;if(az&&!I&&m&&av&&!j){let b=await m.get(_,{kind:u.IncrementalCacheKind.APP_PAGE,isRoutePPREnabled:!0,isFallback:!1});b&&b.value&&b.value.kind===u.CachedRouteKind.APP_PAGE&&(r=b.value.postponed,b&&(-1===b.isStale||!0===b.isStale)&&(0,G.scheduleOnNextTick)(async()=>{let b=L.getResponseCache(a);try{await b.revalidate(_,m,ar,!1,a=>p({...a,forceStaticRender:!0}),null,c,d.waitUntil)}catch(a){console.error("Error revalidating the page in the background",a)}}))}if(as&&void 0!==r)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:u.CachedRouteKind.PAGES,html:w.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let s=l&&(null==ai?void 0:ai.fallbackRouteParams)&&(0,h.getRequestMeta)(a,"renderFallbackShell")?(0,n.createOpaqueFallbackRouteParams)(ai.fallbackRouteParams):at?(0,n.getFallbackRouteParams)(ag,L):null;return o({span:i,postponed:r,fallbackRouteParams:s,forceStaticRender:j})},q=async c=>{var f,g,i,j,k;let l,m=await L.handleResponse({cacheKey:aC,responseGenerator:a=>p({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ac,prerenderManifest:Z,waitUntil:d.waitUntil,isMinimalMode:I});if($&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),L.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!m){if(aC)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=m.value)?void 0:f.kind)!==u.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=m.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let n="string"==typeof m.value.postponed;ay&&!av&&(!n||an)&&(I||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":m.isMiss?"MISS":m.isStale?"STALE":"HIT"),b.setHeader(s.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=m;if(au)l={revalidate:0,expire:void 0};else if(av)l={revalidate:0,expire:void 0};else if(!L.isDev)if($)l={revalidate:0,expire:void 0};else if(ay){if(m.cacheControl)if("number"==typeof m.cacheControl.revalidate){if(m.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${m.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:m.cacheControl.revalidate,expire:(null==(j=m.cacheControl)?void 0:j.expire)??ac.expireTime}}else l={revalidate:x.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(m.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===u.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(s.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[x.NEXT_CACHE_TAGS_HEADER];I&&ay&&c&&"string"==typeof c&&b.setHeader(x.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,z.sendRenderResult)({req:a,res:b,generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(d,s.RSC_CONTENT_TYPE_HEADER),cacheControl:m.cacheControl}):(b.statusCode=204,(0,z.sendRenderResult)({req:a,res:b,generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.EMPTY,cacheControl:m.cacheControl}))}let r=az?(0,h.getRequestMeta)(a,"onCacheEntryV2")??(0,h.getRequestMeta)(a,"onCacheEntry"):(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r(m,{url:(0,h.getRequestMeta)(a,"initURL")??a.url}))return null;if(q.headers){let a={...q.headers};for(let[c,d]of(I&&ay||delete a[x.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let t=null==(g=q.headers)?void 0:g[x.NEXT_CACHE_TAGS_HEADER];if(I&&ay&&t&&"string"==typeof t&&b.setHeader(x.NEXT_CACHE_TAGS_HEADER,t),!q.status||ao&&ar||(b.statusCode=q.status),!I&&q.status&&E.RedirectStatusCode[q.status]&&ao&&(b.statusCode=200),n&&!av&&b.setHeader(s.NEXT_DID_POSTPONE_HEADER,"1"),ao&&!$){if(void 0===q.rscData){if(q.html.contentType!==s.RSC_CONTENT_TYPE_HEADER)if(ac.cacheComponents)return b.statusCode=404,(0,z.sendRenderResult)({req:a,res:b,generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.EMPTY,cacheControl:m.cacheControl});else throw Object.defineProperty(new F.InvariantError(`Expected RSC response, got ${q.html.contentType}`),"__NEXT_ERROR_CODE",{value:"E789",enumerable:!1,configurable:!0});return(0,z.sendRenderResult)({req:a,res:b,generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:q.html,cacheControl:m.cacheControl})}return(0,z.sendRenderResult)({req:a,res:b,generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(q.rscData,s.RSC_CONTENT_TYPE_HEADER),cacheControl:m.cacheControl})}let v=q.html;if(!n||I||ao)return(0,z.sendRenderResult)({req:a,res:b,generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:m.cacheControl});if(as)return v.push(new ReadableStream({start(a){a.enqueue(y.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,z.sendRenderResult)({req:a,res:b,generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:{revalidate:0,expire:void 0}});let A=new TransformStream;return v.push(A.readable),o({span:c,postponed:q.postponed,fallbackRouteParams:null,forceStaticRender:!1}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==u.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(A.writable)}).catch(a=>{A.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,z.sendRenderResult)({req:a,res:b,generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:{revalidate:0,expire:void 0}})};if(!aH)return await aG.withPropagatedContext(a.headers,()=>aG.trace(i.BaseServerSpan.handleRequest,{spanName:`${aF} ${N}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aF,"http.target":a.url}},q));await q(aH)}catch(b){throw b instanceof A.NoFallbackError||await L.onRequestError(a,b,{routerKind:"App Router",routePath:N,routeType:"render",revalidateReason:(0,f.c)({isStaticGeneration:ay,isOnDemandRevalidate:ah})},!1,ab),b}}},261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},560:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(6773).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},722:a=>{"use strict";a.exports=require("next/dist/shared/lib/invariant-error")},846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},2257:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(6773).A)("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]])},2830:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(7943).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\user\\\\Desktop\\\\HEALO_Demo\\\\app\\\\admin\\\\AdminWrapper.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\user\\Desktop\\HEALO_Demo\\app\\admin\\AdminWrapper.jsx","default")},3033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3108:(a,b,c)=>{Promise.resolve().then(c.bind(c,2830))},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3479:(a,b,c)=>{"use strict";c.d(b,{default:()=>ac});var d=c(8249),e=c(7484),f=c.n(e),g=c(9099),h=c(6757),i=c(6674),j=c(560),k=c(2257),l=c(6773);let m=(0,l.A)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),n=(0,l.A)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),o=(0,l.A)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);var p=c(3291),q=c(1003),r=c(5581);let s=(0,l.A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),t=(0,l.A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var u,v=c(8775),w=function(a,b){return(w=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},x=function(){return(x=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},y="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js",z=(u=null,function(a){return void 0===a&&(a=y),u||(u=new Promise(function(b,c){var d=document.createElement("script");d.src=a,d.onload=function(){var a;if(null==(a=null==window?void 0:window.daum)?void 0:a.Postcode)return b(window.daum.Postcode);c(Error("Script is loaded successfully, but cannot find Postcode module. Check your scriptURL property."))},d.onerror=function(a){return c(a)},d.id="daum_postcode_script",document.body.appendChild(d)}))}),A=f().createElement("p",null,"현재 Daum 우편번호 서비스를 이용할 수 없습니다. 잠시 후 다시 시도해주세요."),B={width:"100%",height:400},C={scriptUrl:y,errorMessage:A,autoClose:!0},D=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.mounted=!1,b.wrap=(0,e.createRef)(),b.state={hasError:!1,completed:!1},b.initiate=function(a){if(b.wrap.current){var c=b.props;c.scriptUrl,c.className,c.style;var d=c.defaultQuery,e=c.autoClose;c.errorMessage;var f=c.onComplete,g=c.onClose,h=c.onResize,i=c.onSearch,j=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]])}return c}(c,["scriptUrl","className","style","defaultQuery","autoClose","errorMessage","onComplete","onClose","onResize","onSearch"]);new a(x(x({},j),{oncomplete:function(a){f&&f(a),b.setState({completed:!0})},onsearch:i,onresize:h,onclose:g,width:"100%",height:"100%"})).embed(b.wrap.current,{q:d,autoClose:e})}},b.onError=function(a){console.error(a),b.setState({hasError:!0})},b}return function(a,b){function c(){this.constructor=a}w(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}(b,a),b.prototype.componentDidMount=function(){var a=this.initiate,b=this.onError,c=this.props.scriptUrl;c&&(this.mounted||(z(c).then(a).catch(b),this.mounted=!0))},b.prototype.render=function(){var a=this.props,b=a.className,c=a.style,d=a.errorMessage,e=a.autoClose,g=this.state,h=g.hasError,i=g.completed;return!0===e&&!0===i?null:f().createElement("div",{ref:this.wrap,className:b,style:x(x({},B),c)},h&&d)},b.defaultProps=C,b}(e.Component),E=c(8421);let F=({value:a,onChange:b,onLocationSelect:c,placeholder:f="한국어 주소를 검색하세요 (예: 강남구 테헤란로 123)"})=>{let[g,h]=(0,e.useState)(!1);return(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(E.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,d.jsx)("input",{type:"text",value:a,onChange:a=>b(a.target.value),placeholder:f,className:"w-full pl-10 pr-20 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 outline-none transition text-sm"}),(0,d.jsxs)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[a&&(0,d.jsx)("button",{type:"button",onClick:()=>b(""),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,d.jsx)(i.A,{size:16})}),(0,d.jsx)("button",{type:"button",onClick:()=>h(!0),className:"text-xs font-bold text-teal-600 px-2 py-1 rounded border border-teal-200 hover:bg-teal-50 transition",children:"검색"})]})]}),g&&(0,d.jsx)("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/40 p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100",children:[(0,d.jsx)("h4",{className:"text-sm font-bold text-gray-700",children:"주소 검색"}),(0,d.jsx)("button",{type:"button",onClick:()=>h(!1),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,d.jsx)(i.A,{size:18})})]}),(0,d.jsx)("div",{className:"p-3",children:(0,d.jsx)(D,{onComplete:a=>{let d=a.address||"",e=a.addressEnglish||"",f=a.zonecode||"";b?.(d),c?.({koAddress:d,enAddress:e,zonecode:f}),h(!1)},style:{width:"100%",height:"420px"}})})]})})]})},G=(0,l.A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),H=(0,l.A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var I=c(1160),J=c(8455);let K=(0,l.A)("circle-arrow-right",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}],["path",{d:"M8 12h8",key:"1wcyev"}]]),L=(0,l.A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var M=c(6369);let N=({analytics:a})=>(0,d.jsxs)("div",{className:"animate-in fade-in space-y-8",children:[(0,d.jsx)("div",{className:"flex justify-between items-end border-b border-gray-200 pb-6",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Market Intelligence (시장 분석)"}),(0,d.jsxs)("p",{className:"text-gray-500 mt-2 text-sm max-w-xl leading-relaxed",children:["실시간 ",(0,d.jsx)("span",{className:"font-bold text-gray-800",children:"환자 수요 트렌드"})," 및 ",(0,d.jsx)("span",{className:"font-bold text-gray-800",children:"시장 기회(Opportunity)"})," 분석 보고서입니다.",(0,d.jsx)("br",{}),"미체결 수요를 확인하고 제휴 영업 우선순위를 선정하세요."]})]})}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,d.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-gray-200 shadow-sm relative overflow-hidden",children:[(0,d.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,d.jsx)("div",{className:"p-3 bg-teal-50 rounded-xl text-teal-700",children:(0,d.jsx)(G,{size:24})}),(0,d.jsx)("span",{className:"text-[10px] font-bold bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:"+12% 성장"})]}),(0,d.jsx)("p",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider",children:"총 활성 문의 (Active Leads)"}),(0,d.jsxs)("p",{className:"text-3xl font-black text-gray-900 mt-1",children:[a.totalLeads," 건"]}),(0,d.jsx)("p",{className:"text-[11px] text-gray-400 mt-2",children:"현재 유효한 환자 상담 수요"})]}),(0,d.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-gray-200 shadow-sm relative overflow-hidden",children:[(0,d.jsx)("div",{className:"flex justify-between items-start mb-4",children:(0,d.jsx)("div",{className:"p-3 bg-blue-50 rounded-xl text-blue-700",children:(0,d.jsx)(H,{size:24})})}),(0,d.jsx)("p",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider",children:"시장 기회 총액 (Est. Opportunity)"}),(0,d.jsx)("p",{className:"text-3xl font-black text-gray-900 mt-1",children:(0,M.ZT)(a.totalRevenue,"en")}),(0,d.jsxs)("div",{className:"flex items-center gap-1 mt-2 text-[11px] text-gray-400",children:[(0,d.jsx)(I.A,{size:12})," 문의당 평균 시술가 $3,500 기준"]})]}),(0,d.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-gray-200 shadow-sm relative overflow-hidden",children:[(0,d.jsx)("div",{className:"flex justify-between items-start mb-4",children:(0,d.jsx)("div",{className:"p-3 bg-purple-50 rounded-xl text-purple-700",children:(0,d.jsx)(s,{size:24})})}),(0,d.jsx)("p",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider",children:"최다 수요 카테고리"}),(0,d.jsx)("p",{className:"text-2xl font-black text-gray-900 mt-1 truncate",children:a.topTreatment}),(0,d.jsx)("p",{className:"text-[11px] text-purple-600 font-bold mt-2 flex items-center gap-1",children:"Action: 해당 분야 전문 병원 확보 시급"})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,d.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-gray-200 shadow-sm",children:[(0,d.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-2 flex items-center gap-2",children:[(0,d.jsx)(J.A,{size:20,className:"text-red-500"}),"기회 비용 및 수요 분석 (Opportunity Analysis)"]}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mb-6",children:"현재 발생 중인 수요가 어디로 흐르고 있는지 분석합니다. '미체결 수요'는 즉시 매출화 가능한 기회입니다."}),(0,d.jsx)("div",{className:"overflow-hidden border border-gray-100 rounded-xl",children:(0,d.jsxs)("table",{className:"w-full text-sm",children:[(0,d.jsx)("thead",{className:"bg-gray-50 text-gray-500 text-xs uppercase font-bold",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:"py-3 px-4 text-left",children:"타겟 병원 / 그룹"}),(0,d.jsx)("th",{className:"py-3 px-4 text-center",children:"문의 수"}),(0,d.jsx)("th",{className:"py-3 px-4 text-right",children:"잠재 매출 기회"}),(0,d.jsx)("th",{className:"py-3 px-4 text-left",children:"대응 전략"})]})}),(0,d.jsxs)("tbody",{className:"divide-y divide-gray-100",children:[a.hospitalOpportunities.map(a=>(0,d.jsxs)("tr",{className:`hover:bg-gray-50 transition ${"기회 비용 (Missed)"===a.status?"bg-red-50/30":""}`,children:[(0,d.jsxs)("td",{className:"py-4 px-4",children:[(0,d.jsx)("div",{className:"font-bold text-gray-800",children:a.name}),(0,d.jsx)("div",{className:"text-[10px] text-gray-400 font-medium uppercase mt-0.5",children:a.status})]}),(0,d.jsx)("td",{className:"py-4 px-4 text-center",children:(0,d.jsx)("span",{className:`font-bold px-2 py-1 rounded-md ${"기회 비용 (Missed)"===a.status?"text-red-600 bg-red-100":"text-gray-700 bg-gray-100"}`,children:a.count})}),(0,d.jsx)("td",{className:"py-4 px-4 text-right font-black text-gray-700",children:(0,M.ZT)(a.marketValue,"en")}),(0,d.jsx)("td",{className:"py-4 px-4",children:(0,d.jsxs)("span",{className:`text-[10px] font-bold px-2 py-1 rounded border flex items-center w-fit gap-1
                        ${"매칭 완료"===a.status?"bg-teal-50 text-teal-700 border-teal-100":"기회 비용 (Missed)"===a.status?"bg-blue-50 text-blue-700 border-blue-100 cursor-pointer hover:bg-blue-100":"bg-orange-50 text-orange-700 border-orange-100 cursor-pointer hover:bg-orange-100"}`,children:[a.action,"매칭 완료"!==a.status&&(0,d.jsx)(K,{size:10})]})})]},a.id)),0===a.hospitalOpportunities.length&&(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:"4",className:"py-8 text-center text-gray-400",children:"데이터 수집 중..."})})]})]})})]}),(0,d.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-gray-200 shadow-sm flex flex-col",children:[(0,d.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-2 flex items-center gap-2",children:[(0,d.jsx)(L,{size:20,className:"text-teal-600"}),"시장 수요 트렌드 (Market Trends)"]}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mb-6",children:"해외 환자들이 현재 가장 많이 찾고 있는 시술 카테고리입니다."}),(0,d.jsxs)("div",{className:"flex-1 space-y-6",children:[a.treatmentTrends.slice(0,5).map((a,b)=>(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex justify-between text-xs font-bold mb-1.5",children:[(0,d.jsx)("span",{className:"text-gray-800",children:a.name}),(0,d.jsxs)("span",{className:"text-teal-600",children:[a.percent,"% 점유율"]})]}),(0,d.jsx)("div",{className:"w-full bg-gray-100 rounded-full h-2.5",children:(0,d.jsx)("div",{className:"bg-teal-500 h-2.5 rounded-full shadow-sm",style:{width:`${a.percent}%`}})}),(0,d.jsxs)("p",{className:"text-[10px] text-gray-400 mt-1 text-right",children:[a.count,"건의 활성 문의"]})]},b)),0===a.treatmentTrends.length&&(0,d.jsx)("div",{className:"text-center text-gray-400 py-10",children:"데이터 대기 중..."})]}),(0,d.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-100",children:(0,d.jsxs)("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100",children:[(0,d.jsxs)("p",{className:"text-xs font-bold text-blue-800 mb-1 flex items-center gap-2",children:[(0,d.jsx)(I.A,{size:14})," Strategic Insight"]}),(0,d.jsxs)("p",{className:"text-[11px] text-blue-700 leading-snug",children:["현재 ",(0,d.jsxs)("span",{className:"font-bold",children:['"',a.topTreatment,'"']})," 카테고리의 수요가 시장을 주도하고 있습니다. 리드 이탈(Leakage)을 막기 위해 해당 분야 전문 파트너 병원을 최소 3곳 이상 확보하는 것을 권장합니다."]})]})})]})]})]}),O=(0,l.A)("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]),P=(0,l.A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Q=({inquiries:a,fetchInquiries:b,handleStatusChange:c,handleFileClick:e})=>{let f=({item:a})=>(0,d.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,d.jsx)("td",{className:"px-6 py-4 text-gray-500 text-sm",children:(0,M.Yq)(a.created_at,"en")}),(0,d.jsxs)("td",{className:"px-6 py-4",children:[(0,d.jsxs)("div",{className:"font-bold",children:[a.first_name," ",a.last_name]}),(0,d.jsx)("div",{className:"text-xs text-teal-600",children:a.email})]}),(0,d.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-600",children:[(0,d.jsx)("div",{children:a.treatment_type}),(0,d.jsx)("div",{className:"text-xs text-gray-400",children:a.contact_method})]}),(0,d.jsx)("td",{className:"px-6 py-4",children:(0,d.jsx)("div",{className:"p-2 bg-gray-50 rounded text-xs text-gray-700 max-h-20 overflow-y-auto",children:a.message})}),(0,d.jsx)("td",{className:"px-6 py-4 text-center",children:a.attachment?(0,d.jsx)("button",{onClick:()=>e(a.attachment),children:(0,d.jsx)(O,{size:16})}):"-"}),(0,d.jsx)("td",{className:"px-6 py-4",children:(0,d.jsxs)("select",{value:a.status||"대기중",onChange:b=>c(a.id,b.target.value),className:"border rounded p-1 text-xs",children:[(0,d.jsx)("option",{children:"대기중"}),(0,d.jsx)("option",{children:"진행중"}),(0,d.jsx)("option",{children:"완료"})]})})]});return(0,d.jsxs)("div",{className:"animate-in fade-in",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,d.jsx)("h1",{className:"text-2xl font-bold",children:"고객 문의 현황"}),(0,d.jsx)("button",{onClick:b,children:(0,d.jsx)(P,{})})]}),(0,d.jsx)("div",{className:"bg-white rounded-xl border shadow-sm overflow-hidden",children:(0,d.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,d.jsx)("thead",{className:"bg-gray-50 text-gray-500 uppercase text-xs",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:"px-6 py-3",children:"날짜"}),(0,d.jsx)("th",{className:"px-6 py-3",children:"고객 정보"}),(0,d.jsx)("th",{className:"px-6 py-3",children:"관심 분야"}),(0,d.jsx)("th",{className:"px-6 py-3",children:"메시지"}),(0,d.jsx)("th",{className:"px-6 py-3 text-center",children:"첨부"}),(0,d.jsx)("th",{className:"px-6 py-3",children:"상태"})]})}),(0,d.jsx)("tbody",{children:a.map(a=>(0,d.jsx)(f,{item:a},a.id))})]})})]})},R=(0,l.A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),S=(0,l.A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),T=(0,l.A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var U=c(1023);let V=(0,l.A)("coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]),W=(0,l.A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),X=(0,l.A)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),Y=({hospitalsList:a,hospitalsError:b,handleEditHospital:c,editingHospitalId:e,setEditingHospitalId:f,hospitalForm:g,setHospitalForm:h,uploading:k,loading:l,handleSaveHospital:m,handleDelete:n,fetchHospitals:o,uploadToSupabase:p,DynamicListInput:q,ImageUploader:r,AddressInput:s,toast:t})=>(0,d.jsxs)("div",{className:"grid grid-cols-12 gap-8 animate-in fade-in",children:[(0,d.jsxs)("div",{className:"col-span-4 bg-white rounded-2xl border border-gray-200 p-4 h-[calc(100vh-100px)] overflow-y-auto",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsx)("h2",{className:"font-bold",children:"등록된 병원"}),(0,d.jsx)("button",{onClick:()=>{f(null),h({name:"",location_kr:"",location_en:"",address_detail:"",description:"",latitude:null,longitude:null,tags:[],images:[],languages:[],amenities:[],hoursMonFri:"",hoursSat:"",doctorName:"",doctorTitle:"",doctorImage:"",doctorSchool:"",doctorYears:"",doctorSpecialties:[],doctorMetricValue:"99%",doctorMetricLabel:"만족도",displayOrder:null,isPublished:!0})},className:"bg-teal-600 text-white p-1 rounded",children:(0,d.jsx)(R,{size:16})})]}),!1,a.map(a=>{let b=a.location_kr||a.location_en||a.location||"";return(0,d.jsxs)("div",{onClick:()=>c(a),className:`p-3 border-b cursor-pointer hover:bg-gray-50 ${e===a.id?"bg-teal-50 border-l-4 border-l-teal-500":""}`,children:[(0,d.jsx)("div",{className:"font-bold",children:a.name}),(0,d.jsx)("div",{className:"text-xs text-gray-500",children:b||""})]},a.id)})]}),(0,d.jsxs)("div",{className:"col-span-8 relative",children:[(0,d.jsxs)("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 p-4 mb-4 rounded-t-2xl flex justify-between items-center shadow-sm",children:[(0,d.jsx)("h2",{className:"text-xl font-bold",children:e?"병원 정보 수정":"신규 병원 등록"}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[e&&(0,d.jsx)("button",{onClick:()=>n("hospitals",e,o),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition",title:"삭제",children:(0,d.jsx)(S,{size:20})}),(0,d.jsxs)("button",{onClick:m,disabled:l,className:"bg-teal-600 text-white px-6 py-2.5 rounded-lg font-bold shadow-md hover:bg-teal-700 transition flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[l?(0,d.jsx)(j.A,{size:18,className:"animate-spin"}):(0,d.jsx)(T,{size:18}),l?"저장 중...":"저장"]})]})]}),(0,d.jsx)("div",{className:"bg-white rounded-2xl border border-gray-200 p-8 h-[calc(100vh-180px)] overflow-y-auto",children:(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("h3",{className:"text-sm font-bold text-gray-400",children:"기본 정보 (필수)"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,d.jsx)("input",{type:"text",placeholder:"병원명 (영어/한국어)",value:g.name,onChange:a=>h({...g,name:a.target.value}),className:"w-full p-2 border rounded"}),(0,d.jsx)("input",{type:"number",placeholder:"메인 페이지 표시 순서 (숫자가 작을수록 앞에 표시, 비워두면 최신순)",value:g.displayOrder||"",onChange:a=>h({...g,displayOrder:a.target.value?a.target.value:null}),className:"w-full p-2 border rounded text-sm"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[(0,d.jsx)("label",{className:"text-sm font-bold text-gray-700 flex-1",children:"프론트 노출 여부"}),(0,d.jsx)("button",{type:"button",onClick:()=>h({...g,isPublished:!g.isPublished}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${g.isPublished?"bg-teal-600":"bg-gray-300"}`,children:(0,d.jsx)("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${g.isPublished?"translate-x-6":"translate-x-1"}`})}),(0,d.jsx)("span",{className:"text-xs text-gray-600 w-16",children:g.isPublished?"노출":"숨김"})]}),(0,d.jsx)(s,{value:g.location_kr||"",onChange:a=>h({...g,location_kr:a}),onLocationSelect:a=>{a&&(h(b=>({...b,location_kr:a.koAddress||b.location_kr,location_en:a.enAddress||b.location_en})),t.success("주소가 입력되었습니다."))},placeholder:"한국어 주소를 검색하세요 (예: 강남구 테헤란로 123)",language:"ko"}),(0,d.jsx)("input",{type:"text",placeholder:"영문 주소 (자동 입력됨, 필요 시 수정)",value:g.location_en||"",onChange:a=>h({...g,location_en:a.target.value}),className:"w-full p-2 border rounded text-sm"}),(0,d.jsx)("input",{type:"text",placeholder:"상세 주소 (층/호수 등)",value:g.address_detail||"",onChange:a=>h({...g,address_detail:a.target.value}),className:"w-full p-2 border rounded text-sm"}),(0,d.jsx)("textarea",{placeholder:"병원 소개 (상세 페이지용 설명)",value:g.description,onChange:a=>h({...g,description:a.target.value}),className:"w-full p-2 border rounded",rows:"3"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("h3",{className:"text-sm font-bold text-teal-600 mb-2 flex items-center gap-1",children:[(0,d.jsx)(U.A,{size:14})," 통역 가능 언어"]}),(0,d.jsx)(q,{items:g.languages,onAdd:a=>h({...g,languages:[...g.languages,a]}),onRemove:a=>h({...g,languages:g.languages.filter((b,c)=>c!==a)}),placeholder:"예: 영어, 중국어"})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("h3",{className:"text-sm font-bold text-teal-600 mb-2 flex items-center gap-1",children:[(0,d.jsx)(V,{size:14})," 편의 시설"]}),(0,d.jsx)(q,{items:g.amenities,onAdd:a=>h({...g,amenities:[...g.amenities,a]}),onRemove:a=>h({...g,amenities:g.amenities.filter((b,c)=>c!==a)}),placeholder:"예: 와이파이, 픽업"})]})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("h3",{className:"text-sm font-bold text-gray-400",children:"이미지 및 태그"}),(0,d.jsx)(q,{items:g.tags,onAdd:a=>h({...g,tags:[...g.tags,a]}),onRemove:a=>h({...g,tags:g.tags.filter((b,c)=>c!==a)}),placeholder:"태그 입력 (예: 피부과)"}),(0,d.jsx)("label",{className:"block text-sm font-bold text-gray-500 mt-2",children:"병원 갤러리 이미지"}),(0,d.jsxs)("p",{className:"text-xs text-teal-600 bg-teal-50 p-2 rounded-lg mb-2 flex items-center gap-2",children:[(0,d.jsx)(I.A,{size:14})," \uD83D\uDCA1 권장: 1200x900px (4:3 비율)"]}),(0,d.jsx)(r,{images:g.images,onUpload:async a=>{let b=await p(a);b&&h(a=>({...a,images:[...a.images,b]}))},onRemove:a=>h(b=>({...b,images:b.images.filter((b,c)=>c!==a)})),uploading:k})]}),(0,d.jsxs)("div",{className:"space-y-3 bg-gray-50 p-4 rounded-xl border border-gray-100",children:[(0,d.jsxs)("h3",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[(0,d.jsx)(W,{size:16})," 대표 원장 정보"]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,d.jsx)("input",{placeholder:"이름 (영문/한글)",value:g.doctorName,onChange:a=>h({...g,doctorName:a.target.value}),className:"border p-2 rounded"}),(0,d.jsx)("input",{placeholder:"직함 (예: 대표원장)",value:g.doctorTitle,onChange:a=>h({...g,doctorTitle:a.target.value}),className:"border p-2 rounded"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,d.jsx)("input",{placeholder:"출신 학교 (예: 서울대)",value:g.doctorSchool,onChange:a=>h({...g,doctorSchool:a.target.value}),className:"border p-2 rounded"}),(0,d.jsx)("input",{placeholder:"경력 (예: 15년 이상)",value:g.doctorYears,onChange:a=>h({...g,doctorYears:a.target.value}),className:"border p-2 rounded"})]}),(0,d.jsx)(q,{items:g.doctorSpecialties,onAdd:a=>h({...g,doctorSpecialties:[...g.doctorSpecialties,a]}),onRemove:a=>h({...g,doctorSpecialties:g.doctorSpecialties.filter((b,c)=>c!==a)}),placeholder:"전문 분야 (예: 코성형)",icon:X}),(0,d.jsxs)("div",{className:"mt-2",children:[(0,d.jsx)("label",{className:"text-xs text-gray-400 font-bold mb-1 block",children:"원장님 프로필 사진"}),(0,d.jsx)("p",{className:"text-[10px] text-teal-600 mb-2",children:"\uD83D\uDCA1 1:1 정방형 (400x400px) 필수 - 얼굴이 중앙에 오도록"}),(0,d.jsx)("div",{className:"flex gap-2 items-center",children:g.doctorImage?(0,d.jsxs)("div",{className:"relative group w-16 h-16 rounded-full overflow-hidden border",children:[(0,d.jsx)("img",{src:g.doctorImage,alt:"doc",className:"w-full h-full object-cover"}),(0,d.jsx)("button",{onClick:()=>h({...g,doctorImage:""}),className:"absolute inset-0 bg-black/50 text-white flex items-center justify-center opacity-0 group-hover:opacity-100 transition",children:(0,d.jsx)(i.A,{size:16})})]}):(0,d.jsxs)("div",{onClick:()=>document.getElementById("doc-upload").click(),className:"w-16 h-16 rounded-full border border-dashed flex items-center justify-center text-gray-400 cursor-pointer hover:bg-white hover:border-teal-500",children:[k?(0,d.jsx)(j.A,{size:16,className:"animate-spin"}):(0,d.jsx)(R,{size:16}),(0,d.jsx)("input",{id:"doc-upload",type:"file",accept:"image/*",className:"hidden",disabled:k,onChange:async a=>{let b=await p(a.target.files[0]);b&&h(a=>({...a,doctorImage:b}))}})]})})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,d.jsx)("input",{placeholder:"평일 운영시간 (09:00 - 18:00)",value:g.hoursMonFri,onChange:a=>h({...g,hoursMonFri:a.target.value}),className:"border p-2 rounded"}),(0,d.jsx)("input",{placeholder:"주말 운영시간 (09:00 - 13:00)",value:g.hoursSat,onChange:a=>h({...g,hoursSat:a.target.value}),className:"border p-2 rounded"})]})]})})]})]}),Z=({hospitalsList:a,selectedHospitalId:b,setSelectedHospitalId:c,fetchTreatments:e,treatmentsList:f,treatmentsError:g,editingTreatmentId:h,setEditingTreatmentId:i,treatmentForm:k,setTreatmentForm:l,handleEditTreatment:m,handleSaveTreatment:n,handleDelete:o,loading:p,uploadToSupabase:q,uploading:r,DynamicListInput:s,ImageUploader:t})=>(0,d.jsxs)("div",{className:"grid grid-cols-12 gap-8 animate-in fade-in",children:[(0,d.jsxs)("div",{className:"col-span-4 bg-white rounded-2xl border border-gray-200 p-4 h-[calc(100vh-100px)] overflow-y-auto",children:[(0,d.jsxs)("select",{className:"w-full border p-2 rounded mb-4",value:b,onChange:a=>{c(a.target.value),e(a.target.value)},children:[(0,d.jsx)("option",{value:"",children:"병원을 먼저 선택하세요"}),a.map(a=>(0,d.jsx)("option",{value:a.id,children:a.name},a.id))]}),!1,(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsx)("h2",{className:"font-bold",children:"시술 목록"}),b&&(0,d.jsx)("button",{onClick:()=>{i(null),l({title:"",desc:"",fullDescription:"",priceMin:"",recoveryTime:"",benefits:[],tags:[],images:[],displayOrder:null,isPublished:!0})},className:"bg-teal-600 text-white p-1 rounded",children:(0,d.jsx)(R,{size:16})})]}),f.map(a=>(0,d.jsxs)("div",{onClick:()=>m(a),className:`p-3 border-b cursor-pointer hover:bg-gray-50 ${h===a.id?"bg-teal-50 border-l-4 border-l-teal-500":""}`,children:[(0,d.jsx)("div",{className:"font-bold",children:a.name}),(0,d.jsxs)("div",{className:"text-xs text-teal-600",children:["$",a.price_min]})]},a.id))]}),(0,d.jsx)("div",{className:"col-span-8 relative",children:b?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 p-4 mb-4 rounded-t-2xl flex justify-between items-center shadow-sm",children:[(0,d.jsx)("h2",{className:"text-xl font-bold",children:h?"시술 정보 수정":"신규 시술 등록"}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[h&&(0,d.jsx)("button",{onClick:()=>o("treatments",h,()=>e(b)),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition",title:"삭제",children:(0,d.jsx)(S,{size:20})}),(0,d.jsxs)("button",{onClick:n,disabled:p,className:"bg-teal-600 text-white px-6 py-2.5 rounded-lg font-bold shadow-md hover:bg-teal-700 transition flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[p?(0,d.jsx)(j.A,{size:18,className:"animate-spin"}):(0,d.jsx)(T,{size:18}),p?"저장 중...":"저장"]})]})]}),(0,d.jsx)("div",{className:"bg-white rounded-2xl border border-gray-200 p-8 h-[calc(100vh-180px)] overflow-y-auto",children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,d.jsx)("div",{className:"col-span-2",children:(0,d.jsx)("input",{placeholder:"시술명 (영어/한글)",value:k.title,onChange:a=>l({...k,title:a.target.value}),className:"w-full p-2 border rounded"})}),(0,d.jsx)("div",{children:(0,d.jsx)("input",{type:"number",placeholder:"최소 가격 ($)",value:k.priceMin,onChange:a=>l({...k,priceMin:a.target.value}),className:"w-full p-2 border rounded"})})]}),(0,d.jsx)("div",{className:"grid grid-cols-2 gap-2",children:(0,d.jsx)("input",{type:"number",placeholder:"메인 페이지 표시 순서 (숫자가 작을수록 앞에 표시, 비워두면 최신순)",value:k.displayOrder||"",onChange:a=>l({...k,displayOrder:a.target.value?a.target.value:null}),className:"w-full p-2 border rounded text-sm"})}),(0,d.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[(0,d.jsx)("label",{className:"text-sm font-bold text-gray-700 flex-1",children:"프론트 노출 여부"}),(0,d.jsx)("button",{type:"button",onClick:()=>l({...k,isPublished:!k.isPublished}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${k.isPublished?"bg-teal-600":"bg-gray-300"}`,children:(0,d.jsx)("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${k.isPublished?"translate-x-6":"translate-x-1"}`})}),(0,d.jsx)("span",{className:"text-xs text-gray-600 w-16",children:k.isPublished?"노출":"숨김"})]}),(0,d.jsx)("input",{placeholder:"간략 설명 (카드용)",value:k.desc,onChange:a=>l({...k,desc:a.target.value}),className:"w-full p-2 border rounded"}),(0,d.jsx)("textarea",{placeholder:"상세 설명 (페이지용)",rows:"4",value:k.fullDescription,onChange:a=>l({...k,fullDescription:a.target.value}),className:"w-full p-2 border rounded"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,d.jsx)("input",{placeholder:"소요 시간 (예: 1시간)",value:k.recoveryTime,onChange:a=>l({...k,recoveryTime:a.target.value}),className:"w-full p-2 border rounded"}),(0,d.jsx)("input",{placeholder:"마취 방법",value:k.anesthesia,onChange:a=>l({...k,anesthesia:a.target.value}),className:"w-full p-2 border rounded"})]}),(0,d.jsx)(s,{items:k.benefits,onAdd:a=>l({...k,benefits:[...k.benefits,a]}),onRemove:a=>l({...k,benefits:k.benefits.filter((b,c)=>c!==a)}),placeholder:"주요 효과 (Benefit)"}),(0,d.jsx)(s,{items:k.tags,onAdd:a=>l({...k,tags:[...k.tags,a]}),onRemove:a=>l({...k,tags:k.tags.filter((b,c)=>c!==a)}),placeholder:"검색 태그"}),(0,d.jsx)("label",{className:"block text-sm font-bold text-gray-500 mt-2",children:"시술 관련 이미지"}),(0,d.jsxs)("p",{className:"text-xs text-teal-600 bg-teal-50 p-2 rounded-lg mb-2 flex items-center gap-2",children:[(0,d.jsx)(I.A,{size:14})," \uD83D\uDCA1 권장: 800x600px (4:3 비율)"]}),(0,d.jsx)(t,{images:k.images,onUpload:async a=>{let b=await q(a);b&&l(a=>({...a,images:[...a.images,b]}))},onRemove:a=>l(b=>({...b,images:b.images.filter((b,c)=>c!==a)})),uploading:r})]})})]}):(0,d.jsx)("div",{className:"bg-white rounded-2xl border border-gray-200 p-8 h-[calc(100vh-100px)] flex items-center justify-center",children:(0,d.jsx)("div",{className:"text-center text-gray-400",children:"왼쪽에서 병원을 먼저 선택해주세요."})})})]}),$=({siteSettings:a,setSiteSettings:b,uploadToSupabase:c,uploading:e,handleSaveSettings:f,ImageUploader:g})=>(0,d.jsxs)("div",{className:"max-w-2xl bg-white rounded-2xl border border-gray-200 p-8 shadow-sm animate-in fade-in",children:[(0,d.jsxs)("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,d.jsx)(r.A,{className:"text-teal-600"})," 사이트 디자인 설정"]}),(0,d.jsxs)("div",{className:"space-y-8",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"상단 로고 이미지 (Logo)"}),(0,d.jsx)("p",{className:"text-xs text-gray-400 mb-3",children:"비워두면 텍스트(HEALO)가 표시됩니다. 투명 배경 PNG 추천."}),(0,d.jsxs)("div",{className:"flex items-center gap-4 mb-3 p-4 bg-teal-600 rounded-lg",children:[(0,d.jsx)("span",{className:"text-white text-xs opacity-70",children:"미리보기 (Dark 배경):"}),a.logo_url?(0,d.jsx)("img",{src:a.logo_url,className:"h-8 object-contain",alt:"Logo Preview"}):(0,d.jsx)("span",{className:"text-xl font-extrabold text-white",children:"HEALO"})]}),(0,d.jsx)(g,{images:a.logo_url?[a.logo_url]:[],onUpload:async a=>{let d=await c(a);d&&b(a=>({...a,logo_url:d}))},onRemove:()=>b(a=>({...a,logo_url:null})),uploading:e})]}),(0,d.jsx)("hr",{className:"border-gray-100"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"메인 배경 이미지 (Hero Background)"}),(0,d.jsx)("p",{className:"text-xs text-gray-400 mb-3",children:"메인 검색창 뒤에 깔리는 이미지입니다."}),a.hero_background_url&&(0,d.jsx)("div",{className:"mb-3 w-full h-40 rounded-lg overflow-hidden relative",children:(0,d.jsx)("img",{src:a.hero_background_url,className:"w-full h-full object-cover",alt:"Hero BG"})}),(0,d.jsx)(g,{images:a.hero_background_url?[a.hero_background_url]:[],onUpload:async a=>{let d=await c(a);d&&b(a=>({...a,hero_background_url:d}))},onRemove:()=>b(a=>({...a,hero_background_url:null})),uploading:e})]}),(0,d.jsx)("button",{onClick:f,className:"w-full bg-teal-600 text-white py-3 rounded-xl font-bold hover:bg-teal-700 transition shadow-lg",children:"설정 저장하기"})]})]}),_=({items:a,onAdd:b,onRemove:c,placeholder:f,icon:g})=>{let[h,j]=(0,e.useState)(""),k=()=>{h.trim()&&(b(h.trim()),j(""))};return(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsxs)("div",{className:"relative flex-1",children:[g&&(0,d.jsx)(g,{size:16,className:"absolute left-3 top-3 text-gray-400"}),(0,d.jsx)("input",{type:"text",value:h,onChange:a=>j(a.target.value),onKeyDown:a=>"Enter"===a.key&&(a.preventDefault(),k()),className:`w-full p-2.5 rounded-lg border border-gray-200 text-sm focus:ring-2 focus:ring-teal-500 outline-none transition ${g?"pl-10":""}`,placeholder:f})]}),(0,d.jsx)("button",{type:"button",onClick:k,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 rounded-lg font-bold text-sm transition",children:"추가"})]}),(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:a.map((a,b)=>(0,d.jsxs)("span",{className:"bg-teal-50 text-teal-700 text-xs font-bold px-3 py-1.5 rounded-full flex items-center gap-2 border border-teal-100",children:[a," ",(0,d.jsx)("button",{type:"button",onClick:()=>c(b),className:"hover:text-red-500",children:(0,d.jsx)(i.A,{size:12})})]},b))})]})},aa=({images:a,onUpload:b,onRemove:c,uploading:f})=>{let g=(0,e.useRef)(null),h=async a=>{let c=a.target.files[0];c&&(await b(c),g.current&&(g.current.value=""))};return(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("div",{className:"flex gap-2",children:(0,d.jsxs)("div",{className:"relative flex-1",children:[(0,d.jsx)("input",{type:"file",accept:"image/*",ref:g,onChange:h,disabled:f,className:"hidden",id:"file-upload-input"}),(0,d.jsxs)("label",{onClick:()=>g.current.click(),className:`w-full flex items-center justify-center gap-2 p-3 rounded-lg border border-dashed border-gray-300 text-sm text-gray-500 cursor-pointer hover:bg-gray-50 hover:border-teal-500 transition ${f?"opacity-50 cursor-not-allowed":""}`,children:[f?(0,d.jsx)(j.A,{size:18,className:"animate-spin"}):(0,d.jsx)(k.A,{size:18}),f?"업로드 중...":"클릭하여 이미지 업로드 (JPG, PNG)"]})]})}),a.length>0&&(0,d.jsx)("div",{className:"grid grid-cols-4 gap-2",children:a.map((a,b)=>(0,d.jsxs)("div",{className:"relative group aspect-square rounded-lg overflow-hidden border border-gray-200 bg-gray-100",children:[(0,d.jsx)("img",{src:a,alt:"upload",className:"w-full h-full object-cover"}),(0,d.jsx)("button",{onClick:()=>c(b),className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full opacity-80 hover:opacity-100 transition shadow-sm",children:(0,d.jsx)(i.A,{size:12})})]},b))})]})},ab=({setView:a})=>{let b=(0,v.d)(),[c,f]=(0,e.useState)("analytics"),[g,j]=(0,e.useState)(!1),[k,l]=(0,e.useState)(!1),[u,w]=(0,e.useState)([]),[x,y]=(0,e.useState)([]),[z,A]=(0,e.useState)([]),[B,C]=(0,e.useState)(null),[D,E]=(0,e.useState)(null),[G,H]=(0,e.useState)(null),[I,J]=(0,e.useState)({logo_url:"",hero_background_url:""}),[K,L]=(0,e.useState)({totalRevenue:0,totalLeads:0,topTreatment:"-",hospitalOpportunities:[],treatmentTrends:[]}),[M,O]=(0,e.useState)(null),[P,R]=(0,e.useState)({name:"",location_kr:"",location_en:"",address_detail:"",description:"",latitude:null,longitude:null,tags:[],images:[],languages:[],amenities:[],hoursMonFri:"09:00 - 18:00",hoursSat:"09:00 - 13:00",doctorName:"",doctorTitle:"",doctorImage:"",doctorSchool:"",doctorYears:"",doctorSpecialties:[],doctorMetricValue:"99%",doctorMetricLabel:"만족도",displayOrder:null,isPublished:!0}),[S,T]=(0,e.useState)(""),[U,V]=(0,e.useState)(null),[W,X]=(0,e.useState)({title:"",desc:"",fullDescription:"",priceMin:"",recoveryTime:"",benefits:[],tags:[],images:[],displayOrder:null,isPublished:!0}),ab=async()=>{let{data:a}=await h.N.from("inquiries").select("*").order("created_at",{ascending:!1});w(a||[])},ac=async()=>{let{data:a,error:b}=await h.N.from("hospitals").select("*").order("created_at",{ascending:!1});if(b){console.error("[AdminPage] Hospitals fetch error:",b),C(b),y([]);return}C(null),y(a||[])},ad=async a=>{if(!a)return;let{data:b,error:c}=await h.N.from("treatments").select("*").eq("hospital_id",a).order("created_at",{ascending:!1});if(c){console.error("[AdminPage] Treatments fetch error:",c),E(c),A([]);return}E(null),A(b||[])},ae=async()=>{let{data:a}=await h.N.from("site_settings").select("*").single();a&&J(a)},af=async()=>{j(!0),await Promise.all([ab(),ac(),ae()]),j(!1)};(0,e.useEffect)(()=>{(async()=>{let{data:{session:c}}=await h.N.auth.getSession();c&&"admin@healo.com"===c.user.email?af():(b.error("관리자 권한이 없습니다 \uD83D\uDEE1️"),a("login"))})()},[]),(0,e.useEffect)(()=>{if(0===u.length)return;let a={};u.forEach(b=>{let c=b.treatment_type||"General Inquiry";a[c]=(a[c]||0)+1});let b=Object.entries(a).sort(([,a],[,b])=>b-a).map(([a,b])=>({name:a,count:b,percent:Math.round(b/u.length*100)})),c={};u.forEach(a=>{let b=a.hospital_id||"unassigned";c[b]=(c[b]||0)+1});let d=Object.entries(c).map(([a,b])=>{let c=x.find(b=>b.id===a),d="unassigned"===a,e=c?.tags?.some(a=>String(a).toLowerCase().includes("partner"));return{id:a,name:c?c.name:d?"미지정 수요 (Floating Demand)":"Unknown",count:b,marketValue:3500*b,status:e?"매칭 완료":d?"기회 비용 (Missed)":"이탈 우려",action:e?"관계 유지 관리":d?"신규 제휴 제안 시급":"영업 타겟팅 대상"}}).sort((a,b)=>b.marketValue-a.marketValue);L({totalLeads:u.length,totalRevenue:3500*u.length,topTreatment:b[0]?.name||"-",hospitalOpportunities:d,treatmentTrends:b})},[u,x]);let ag=async(a,b)=>{await h.N.from("inquiries").update({status:b}).eq("id",a),ab()},ah=async(a,c,d)=>{if(confirm("정말 삭제하시겠습니까? 복구할 수 없습니다."))try{let{error:e}=await h.N.from(a).delete().eq("id",c);if(e){console.error(`[AdminPage] Delete ${a} error:`,e),b.error("삭제 실패: "+e.message);return}b.success("삭제되었습니다."),d&&d()}catch(c){console.error(`[AdminPage] Delete ${a} exception:`,c),b.error("삭제 실패: "+c.message)}},ai=a=>{let b=a.split(".").pop().toLowerCase();return["png","jpg","jpeg","gif","webp"].includes(b)?"image":"pdf"===b?"pdf":"other"},aj=async a=>{if(!a)return null;l(!0);try{let b=a.name.split(".").pop(),c=`${Date.now()}-${Math.random().toString(36).substring(2,10)}.${b}`,d=`uploads/${c}`,{error:e}=await h.N.storage.from("images").upload(d,a);if(e)throw e;let{data:f}=h.N.storage.from("images").getPublicUrl(d);return f.publicUrl}catch(a){return console.error("Upload failed:",a),b.error("이미지 업로드 실패: "+a.message),null}finally{l(!1)}},ak=async()=>{if(!P.name)return b.error("병원명은 필수입니다.");j(!0);let a=P.name.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")||`hospital-${Date.now()}`,c=Array.isArray(P.images)?P.images:P.images?[P.images]:[],d={name:P.name,slug:a,location_kr:P.location_kr?.trim()||null,location_en:P.location_en?.trim()||null,address_detail:P.address_detail?.trim()||null,description:P.description,latitude:P.latitude,longitude:P.longitude,tags:P.tags,images:c,supported_languages:P.languages,amenities:P.amenities,operating_hours:{mon_fri:P.hoursMonFri,sat:P.hoursSat},doctor_profile:{name:P.doctorName,title:P.doctorTitle,image:P.doctorImage,school:P.doctorSchool,years:P.doctorYears,specialties:P.doctorSpecialties,heroMetric:{value:P.doctorMetricValue,label:P.doctorMetricLabel}},display_order:P.displayOrder?Number(P.displayOrder):null,is_published:void 0===P.isPublished||P.isPublished};console.log("[AdminPage] Hospital payload:",{...d,images:c});try{let a;if(null!==d.display_order&&void 0!==d.display_order){let a=null;if(M){let{data:b}=await h.N.from("hospitals").select("display_order").eq("id",M).single();a=b?.display_order||null}let{data:b}=await h.N.from("hospitals").select("id, display_order").eq("display_order",d.display_order).neq("id",M||"00000000-0000-0000-0000-000000000000");if(b&&b.length>0)if(null===a||d.display_order<a){let{data:b}=await h.N.from("hospitals").select("id, display_order").gte("display_order",d.display_order).lt("display_order",a||999999).neq("id",M||"00000000-0000-0000-0000-000000000000");if(b&&b.length>0)for(let a of b)await h.N.from("hospitals").update({display_order:(a.display_order||0)+1}).eq("id",a.id)}else if(d.display_order>a){let{data:b}=await h.N.from("hospitals").select("id, display_order").gt("display_order",a||-1).lte("display_order",d.display_order).neq("id",M||"00000000-0000-0000-0000-000000000000");if(b&&b.length>0)for(let a of b)await h.N.from("hospitals").update({display_order:(a.display_order||0)-1}).eq("id",a.id)}else{let{data:a}=await h.N.from("hospitals").select("id, display_order").eq("display_order",d.display_order).neq("id",M||"00000000-0000-0000-0000-000000000000");if(a&&a.length>0)for(let b of a)await h.N.from("hospitals").update({display_order:(b.display_order||0)+1}).eq("id",b.id)}}if((a=M?await h.N.from("hospitals").update(d).eq("id",M):await h.N.from("hospitals").insert([d])).error){console.error("[AdminPage] Hospital save error:",a.error),b.error("저장 실패: "+a.error.message);return}b.success("병원 정보가 저장되었습니다! \uD83C\uDFE5"),O(null),await ac(),R({name:"",location_kr:"",location_en:"",address_detail:"",description:"",latitude:null,longitude:null,tags:[],images:[],languages:[],amenities:[],hoursMonFri:"",hoursSat:"",doctorName:"",doctorTitle:"",doctorImage:"",doctorSchool:"",doctorYears:"",doctorSpecialties:[],doctorMetricValue:"99%",doctorMetricLabel:"만족도",displayOrder:null,isPublished:!0})}catch(a){console.error("[AdminPage] Hospital save exception:",a),b.error("저장 실패: "+a.message)}finally{j(!1)}},al=async()=>{if(!S||!W.title)return b.error("병원 선택과 시술명은 필수입니다.");j(!0);let a=Array.isArray(W.images)?W.images:W.images?[W.images]:[],c={hospital_id:S,name:W.title,description:W.desc,full_description:W.fullDescription,price_min:Number(W.priceMin)||0,benefits:W.benefits,tags:W.tags,images:a,display_order:W.displayOrder?Number(W.displayOrder):null,is_published:void 0===W.isPublished||W.isPublished};console.log("[AdminPage] Treatment payload:",{...c,images:a});try{let a;if(null!==c.display_order&&void 0!==c.display_order){let a=null;if(U){let{data:b}=await h.N.from("treatments").select("display_order").eq("id",U).single();a=b?.display_order||null}let{data:b}=await h.N.from("treatments").select("id, display_order").eq("display_order",c.display_order).neq("id",U||"00000000-0000-0000-0000-000000000000");if(b&&b.length>0)if(null===a||c.display_order<a){let{data:b}=await h.N.from("treatments").select("id, display_order").gte("display_order",c.display_order).lt("display_order",a||999999).neq("id",U||"00000000-0000-0000-0000-000000000000");if(b&&b.length>0)for(let a of b)await h.N.from("treatments").update({display_order:(a.display_order||0)+1}).eq("id",a.id)}else if(c.display_order>a){let{data:b}=await h.N.from("treatments").select("id, display_order").gt("display_order",a||-1).lte("display_order",c.display_order).neq("id",U||"00000000-0000-0000-0000-000000000000");if(b&&b.length>0)for(let a of b)await h.N.from("treatments").update({display_order:(a.display_order||0)-1}).eq("id",a.id)}else{let{data:a}=await h.N.from("treatments").select("id, display_order").eq("display_order",c.display_order).neq("id",U||"00000000-0000-0000-0000-000000000000");if(a&&a.length>0)for(let b of a)await h.N.from("treatments").update({display_order:(b.display_order||0)+1}).eq("id",b.id)}}if((a=U?await h.N.from("treatments").update(c).eq("id",U):await h.N.from("treatments").insert([c])).error){console.error("[AdminPage] Treatment save error:",a.error),b.error("저장 실패: "+a.error.message);return}b.success("시술 정보가 저장되었습니다! \uD83D\uDC89"),V(null),await ad(S),X({title:"",desc:"",fullDescription:"",priceMin:"",recoveryTime:"",benefits:[],tags:[],images:[],displayOrder:null,isPublished:!0})}catch(a){console.error("[AdminPage] Treatment save exception:",a),b.error("저장 실패: "+a.message)}finally{j(!1)}},am=async()=>{j(!0);let{error:a}=await h.N.from("site_settings").update({logo_url:I.logo_url,hero_background_url:I.hero_background_url}).eq("id",I.id);a?b.error("저장 실패: "+a.message):b.success("사이트 설정이 저장되었습니다! \uD83C\uDFA8"),j(!1)};return(0,d.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,d.jsxs)("div",{className:"w-64 bg-white border-r border-gray-200 fixed h-full p-6 flex flex-col z-20",children:[(0,d.jsxs)("div",{className:"text-2xl font-black text-teal-600 mb-10 flex items-center gap-2",children:[(0,d.jsx)(m,{})," 관리자 모드"]}),(0,d.jsxs)("nav",{className:"space-y-2 flex-1",children:[(0,d.jsxs)("button",{onClick:()=>f("analytics"),className:`w-full text-left px-4 py-3 rounded-xl font-bold flex items-center gap-3 transition ${"analytics"===c?"bg-teal-50 text-teal-700":"text-gray-500 hover:bg-gray-50"}`,children:[(0,d.jsx)(n,{size:18})," 시장 분석 (통계)"]}),(0,d.jsxs)("button",{onClick:()=>f("inquiries"),className:`w-full text-left px-4 py-3 rounded-xl font-bold flex items-center gap-3 transition ${"inquiries"===c?"bg-teal-50 text-teal-700":"text-gray-500 hover:bg-gray-50"}`,children:[(0,d.jsx)(o,{size:18})," 고객 문의"]}),(0,d.jsxs)("button",{onClick:()=>f("hospitals"),className:`w-full text-left px-4 py-3 rounded-xl font-bold flex items-center gap-3 transition ${"hospitals"===c?"bg-teal-50 text-teal-700":"text-gray-500 hover:bg-gray-50"}`,children:[(0,d.jsx)(p.A,{size:18})," 병원 관리"]}),(0,d.jsxs)("button",{onClick:()=>f("treatments"),className:`w-full text-left px-4 py-3 rounded-xl font-bold flex items-center gap-3 transition ${"treatments"===c?"bg-teal-50 text-teal-700":"text-gray-500 hover:bg-gray-50"}`,children:[(0,d.jsx)(q.A,{size:18})," 시술 관리"]}),(0,d.jsxs)("div",{className:"pt-4 mt-4 border-t border-gray-100 space-y-2",children:[(0,d.jsxs)("button",{onClick:()=>f("settings"),className:`w-full text-left px-4 py-3 rounded-xl font-bold flex items-center gap-3 transition ${"settings"===c?"bg-teal-50 text-teal-700":"text-gray-500 hover:bg-gray-50"}`,children:[(0,d.jsx)(r.A,{size:18})," 사이트 설정"]}),(0,d.jsxs)("a",{href:"/admin/rag",className:"w-full text-left px-4 py-3 rounded-xl font-bold flex items-center gap-3 transition text-gray-500 hover:bg-gray-50",children:[(0,d.jsx)(s,{size:18})," RAG 테스트"]})]})]}),(0,d.jsxs)("button",{onClick:()=>a("home"),className:"flex items-center gap-2 text-gray-400 hover:text-red-500 font-bold px-2 py-2",children:[(0,d.jsx)(t,{size:16})," 관리자 나가기"]})]}),(0,d.jsxs)("div",{className:"ml-64 flex-1 p-8 md:p-12 max-w-7xl",children:["analytics"===c&&(0,d.jsx)(N,{analytics:K}),"inquiries"===c&&(0,d.jsx)(Q,{inquiries:u,fetchInquiries:ab,handleStatusChange:ag,handleFileClick:a=>{H(a)}}),"hospitals"===c&&(0,d.jsx)(Y,{hospitalsList:x,hospitalsError:B,handleEditHospital:a=>{O(a.id);let b=a.doctor_profile||{},c=Array.isArray(a.images)?a.images:a.images?[a.images]:[];console.log("[AdminPage] Editing hospital:",{id:a.id,name:a.name,images:a.images,imagesArray:c}),R({name:a.name,location_kr:a.location_kr||a.location||"",location_en:a.location_en||a.location||"",address_detail:a.address_detail||"",description:a.description,latitude:a.latitude||null,longitude:a.longitude||null,tags:a.tags||[],images:c,languages:a.supported_languages||[],amenities:a.amenities||[],hoursMonFri:a.operating_hours?.mon_fri||"",hoursSat:a.operating_hours?.sat||"",doctorName:b.name||"",doctorTitle:b.title||"",doctorImage:b.image||"",doctorSchool:b.school||"",doctorYears:b.years||"",doctorSpecialties:b.specialties||[],doctorMetricValue:b.heroMetric?.value||"99%",doctorMetricLabel:b.heroMetric?.label||"만족도",displayOrder:a.display_order||null,isPublished:void 0===a.is_published||a.is_published})},editingHospitalId:M,setEditingHospitalId:O,hospitalForm:P,setHospitalForm:R,uploading:k,loading:g,handleSaveHospital:ak,handleDelete:ah,fetchHospitals:ac,uploadToSupabase:aj,DynamicListInput:_,ImageUploader:aa,AddressInput:F,toast:b}),"treatments"===c&&(0,d.jsx)(Z,{hospitalsList:x,selectedHospitalId:S,setSelectedHospitalId:T,fetchTreatments:ad,treatmentsList:z,treatmentsError:D,editingTreatmentId:U,setEditingTreatmentId:V,treatmentForm:W,setTreatmentForm:X,handleEditTreatment:a=>{V(a.id);let b=Array.isArray(a.images)?a.images:a.images?[a.images]:[];console.log("[AdminPage] Editing treatment:",{id:a.id,name:a.name,images:a.images,imagesArray:b}),X({title:a.name,desc:a.description,fullDescription:a.full_description||"",priceMin:a.price_min,recoveryTime:a.recovery_time||"",benefits:a.benefits||[],tags:a.tags||[],images:b,displayOrder:a.display_order||null,isPublished:void 0===a.is_published||a.is_published})},handleSaveTreatment:al,handleDelete:ah,loading:g,uploadToSupabase:aj,uploading:k,DynamicListInput:_,ImageUploader:aa}),"settings"===c&&(0,d.jsx)($,{siteSettings:I,setSiteSettings:J,uploadToSupabase:aj,uploading:k,handleSaveSettings:am,ImageUploader:aa})]}),G&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100]",onClick:()=>H(null),children:(0,d.jsxs)("div",{className:"bg-white rounded-xl p-5 max-w-6xl w-full h-[85vh] flex flex-col relative",onClick:a=>a.stopPropagation(),children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"미리보기"}),(0,d.jsx)("button",{onClick:()=>H(null),children:(0,d.jsx)(i.A,{size:20})})]}),(0,d.jsxs)("div",{className:"flex-1 overflow-auto border rounded-lg bg-gray-50 p-4 flex justify-center items-start",children:["image"===ai(G)&&(0,d.jsx)("img",{src:G,className:"max-w-full max-h-full",alt:"preview"}),"pdf"===ai(G)&&(0,d.jsx)("iframe",{src:G,className:"w-full h-full border",title:"pdf"}),"other"===ai(G)&&(0,d.jsx)("a",{href:G,target:"_blank",rel:"noopener noreferrer",className:"text-teal-600 underline",children:"새 창에서 열기"})]})]})})]})};function ac(){let a=(0,g.useRouter)(),b=(0,e.useMemo)(()=>b=>{switch(b){case"home":default:a.push("/");break;case"list_treatment":a.push("/treatments");break;case"list_hospital":a.push("/hospitals");break;case"admin":a.push("/admin");break;case"inquiry":a.push("/inquiry");break;case"login":a.push("/login");break;case"signup":a.push("/signup")}},[a]);return(0,d.jsx)(ab,{setView:b})}},3873:a=>{"use strict";a.exports=require("path")},3954:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/interception-routes")},5842:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>g,metadata:()=>f});var d=c(5735),e=c(2830);let f={title:"Admin",description:"Manage HEALO treatments, hospitals, and inquiries."};function g(){return(0,d.jsx)(e.default,{})}},6369:(a,b,c)=>{"use strict";c.d(b,{Yq:()=>h,Yr:()=>g,ZT:()=>f});var d=c(8700);let e=a=>{switch(a){case"ko":return"ko-KR";case"zh":return"zh-CN";case"ja":return"ja-JP";default:return"en-US"}},f=(a,b="en")=>{let c=((a,b="en")=>{let c=Number(a);return Number.isNaN(c)?"":c.toLocaleString(e(b))})(a,b);return c?`$${c}`:""},g=(a,b,c="en")=>{let e=null!=a,g=null!=b;return e&&g?`${f(a,c)} - ${f(b,c)}`:e?`${f(a,c)}${(0,d.t)("price.plus",c)}`:g?`${(0,d.t)("price.upTo",c)} ${f(b,c)}`:(0,d.t)("price.askQuote",c)},h=(a,b="en")=>a?(a instanceof Date?a:new Date(a)).toLocaleDateString(e(b)):""},6439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},6713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},6757:(a,b,c)=>{"use strict";c.d(b,{N:()=>g});var d=c(4976);let e="https://xppnvkuahlrdyfvabzur.supabase.co",f="sb_publishable_ui0m9IIp-8VQUfHLCb4d1w_LcwHa0Zd";if(!e||!f){let a=[];throw e||a.push("NEXT_PUBLIC_SUPABASE_URL"),f||a.push("NEXT_PUBLIC_SUPABASE_ANON_KEY"),Error(`❌ Supabase 환경 변수가 설정되지 않았습니다!
누락된 변수: ${a.join(", ")}
프로젝트 루트에 .env.local 파일을 생성하고 다음을 추가하세요:
NEXT_PUBLIC_SUPABASE_URL=your_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_key`)}let g=(0,d.UU)(e,f)},8354:a=>{"use strict";a.exports=require("util")},9121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9492:(a,b,c)=>{Promise.resolve().then(c.bind(c,3479))}};var b=require("../../webpack-runtime.js");b.C(a);var c=b.X(0,[741,471,114,422],()=>b(b.s=259));module.exports=c})();